"use strict";var Bx=Object.create;var xs=Object.defineProperty;var qx=Object.getOwnPropertyDescriptor;var jx=Object.getOwnPropertyNames;var Vx=Object.getPrototypeOf,Wx=Object.prototype.hasOwnProperty;var se=(e,t)=>()=>(e&&(t=e(e=0)),t);var el=(e,t)=>{for(var n in t)xs(e,n,{get:t[n],enumerable:!0})},Bp=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of jx(t))!Wx.call(e,i)&&i!==n&&xs(e,i,{get:()=>t[i],enumerable:!(r=qx(t,i))||r.enumerable});return e};var Sn=(e,t,n)=>(n=e!=null?Bx(Vx(e)):{},Bp(t||!e||!e.__esModule?xs(n,"default",{value:e,enumerable:!0}):n,e)),Kx=e=>Bp(xs({},"__esModule",{value:!0}),e);var Qt,et,tt,nt,Qo,Vt,ki,Fi,bs,Mi,Cn,ws=se(()=>{Qt="function",et="object",tt="undefined",nt="prototype",Qo="hasOwnProperty",Vt=Object,ki=Vt[nt],Fi=Vt.assign,bs=Vt.create,Mi=Vt.defineProperty,Cn=ki[Qo]});function on(e){return e===void 0&&(e=!0),(!Ni||!e)&&(typeof globalThis!==tt&&globalThis&&(Ni=globalThis),typeof self!==tt&&self&&(Ni=self),typeof window!==tt&&window&&(Ni=window),typeof global!==tt&&global&&(Ni=global)),Ni}function Li(e){throw new TypeError(e)}function In(e){var t=bs;if(t)return t(e);if(e==null)return{};var n=typeof e;n!==et&&n!==Qt&&Li("Object prototype may only be an Object:"+e);function r(){}return r[nt]=e,new r}var Ni,tl=se(()=>{ws();Ni=null});function an(e,t){typeof t!==Qt&&t!==null&&Li("Class extends value "+String(t)+" is not a constructor or null"),nl(e,t);function n(){this.constructor=e}e[nt]=t===null?In(t):(n[nt]=t[nt],new n)}function Cs(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var LC,UC,Xx,Ss,nl,qp=se(()=>{ws();tl();LC=(on()||{}).Symbol,UC=(on()||{}).Reflect,Xx=function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)ki[Qo].call(t,i)&&(e[i]=t[i])}return e},Ss=Fi||Xx,nl=function(e,t){return nl=Vt.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[Qo](i)&&(n[i]=r[i])},nl(e,t)}});var jp=se(()=>{});var Nt=se(()=>{ws();tl();qp();jp()});var rl,Vp=se(()=>{"use strict";rl=100});var _e,Is,il,$o,jn,$t,sn,ol,Jo,Ui,Hr,Es,Ts,Wp,zr,Br,Oi,Hi,zi,Yo,Lt=se(()=>{_e="",Is="processTelemetry",il="priority",$o="setNextPlugin",jn="isInitialized",$t="teardown",sn="core",ol="update",Jo="disabled",Ui="_doTeardown",Hr="processNext",Es="resume",Ts="pause",Wp="NotificationListener",zr="add"+Wp,Br="remove"+Wp,Oi="eventsSent",Hi="eventsDiscarded",zi="eventsSendRequest",Yo="perfEvent"});function s0(e){if(e){if(Ps)return Ps(e);var t=e[Qx]||e[nt]||e[_s];if(t)return t}return null}function Bi(e,t){return typeof e===t}function Te(e){return e===void 0||typeof e===tt}function fe(e){return e===null||Te(e)}function fl(e){return!fe(e)}function En(e,t){return!!(e&&Cn.call(e,t))}function gt(e){return!!(e&&typeof e===et)}function we(e){return!!(e&&typeof e===Qt)}function qr(e){var t=e;return t&&qe(t)&&(t=t.replace(i0,function(n,r){return r.toUpperCase()}),t=t.replace(o0,"_"),t=t.replace(a0,function(n,r){return"_"+r})),t}function Me(e,t){if(e)for(var n in e)Cn.call(e,n)&&t.call(e,n,e[n])}function jr(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=Yx?e[ev](t):u0(e,t)),n}function u0(e,t){var n=!1,r=t?t.length:0,i=e?e.length:0;if(r&&i&&i>=r&&!(n=e===t)){for(var o=i-1,a=r-1;a>=0;a--){if(e[o]!=t[a])return!1;o--}n=!0}return n}function qi(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=Zx?e[tv](t):c0(e,t)),n}function c0(e,t){var n=!1,r=t?t.length:0;if(e&&r&&e.length>=r&&!(n=e===t)){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;n=!0}return n}function Qe(e,t){return e&&t?e.indexOf(t)!==-1:!1}function ji(e){return!!(e&&ll.call(e)==="[object Date]")}function l0(e){return!!(e&&ll.call(e)==="[object Array]")}function Vr(e){return!!(e&&ll.call(e)==="[object Error]")}function qe(e){return typeof e=="string"}function Ut(e){return typeof e=="number"}function Vn(e){return typeof e=="boolean"}function Jp(e){var t=!1;if(e&&typeof e=="object"){var n=Ps?Ps(e):s0(e);n?(n[_s]&&Cn.call(n,_s)&&(n=n[_s]),t=typeof n===Qt&&rv.call(n)===r0):t=!0}return t}function Jt(e){if(e)return t0?e[Zp]():f0(e)}function f0(e){if(e&&e.getUTCFullYear){var t=function(n){var r=String(n);return r.length===1&&(r="0"+r),r};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function J(e,t,n){var r=e.length;try{for(var i=0;i<r&&!(i in e&&t.call(n||e,e[i],i,e)===-1);i++);}catch{}}function at(e,t,n){if(e){if(e[Kp])return e[Kp](t,n);var r=e.length,i=n||0;try{for(var o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o}catch{}}return-1}function Wr(e,t,n){var r;if(e){if(e[Gp])return e[Gp](t,n);var i=e.length,o=n||e;r=new Array(i);try{for(var a=0;a<i;a++)a in e&&(r[a]=t.call(o,e[a],e))}catch{}}return r}function Kr(e,t,n){var r;if(e){if(e[Xp])return e[Xp](t,n);var i=e.length,o=0;if(arguments.length>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++}return r}function Ne(e){return e&&(e=Jx&&e[sl]?e[sl]():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}function It(e){var t=typeof e;if(t!==Qt&&(t!==et||e===null)&&Li("objKeys called on non-object"),!Yp&&$p)return $p(e);var n=[];for(var r in e)e&&Cn.call(e,r)&&n.push(r);if(Yp)for(var i=al.length,o=0;o<i;o++)e&&Cn.call(e,al[o])&&n.push(al[o]);return n}function Wt(e,t,n,r){if(Qp)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),Qp(e,t,i),!0}catch{}return!1}function iv(e){return e}function dl(e){return ul&&Me(e,function(t,n){(me(n)||gt(n))&&ul(n)}),Ot(e)}function st(){var e=Date;return e.now?e.now():new e().getTime()}function Gr(e){return Vr(e)?e.name:_e}function ut(e,t,n,r,i){var o=n;return e&&(o=e[t],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,e[t]=o)),o}function Zo(e,t,n){var r;return e?(r=e[t],!r&&fe(r)&&(r=Te(n)?{}:n,e[t]=r)):r=Te(n)?{}:n,r}function Vi(e){return!e}function Wi(e){return!!e}function mt(e){throw new Error(e)}function ov(e,t){var n=null,r=null;return we(e)?n=e:r=e,function(){var i=arguments;if(n&&(r=n()),r)return r[t].apply(r,i)}}function vl(e,t,n){if(e&&t&&gt(e)&&gt(t)){var r=function(o){if(qe(o)){var a=t[o];we(a)?(!n||n(o,!0,t,e))&&(e[o]=ov(t,o)):(!n||n(o,!1,t,e))&&(En(e,o)&&delete e[o],Wt(e,o,function(){return t[o]},function(s){t[o]=s})||(e[o]=a))}};for(var i in t)r(i)}return e}function gr(e,t,n,r,i){e&&t&&n&&(i!==!1||Te(e[t]))&&(e[t]=ov(n,r))}function Xr(e,t,n,r){return e&&t&&gt(e)&&me(n)&&J(n,function(i){qe(i)&&gr(e,i,t,i,r)}),e}function Wn(e){return e&&Fi&&(e=Vt(Fi({},e))),e}function Ki(e,t,n,r,i,o){var a=arguments,s=a[0]||{},u=a.length,c=!1,l=1;for(u>0&&Vn(s)&&(c=s,s=a[l]||{},l++),gt(s)||(s={});l<u;l++){var f=a[l],d=me(f),p=gt(f);for(var g in f){var m=d&&g in f||p&&Cn.call(f,g);if(!!m){var v=f[g],h=void 0;if(c&&v&&((h=me(v))||Jp(v))){var x=s[g];h?me(x)||(x=[]):Jp(x)||(x={}),v=Ki(c,x,v)}v!==void 0&&(s[g]=v)}}}return s}var Zp,ev,tv,Kp,Gp,Xp,sl,nv,Qx,_s,Qp,ul,$x,$p,cl,Jx,Yx,Zx,e0,t0,n0,ll,rv,r0,i0,o0,a0,Ps,me,Yp,al,Ot,pl,$e=se(()=>{Nt();Lt();Zp="toISOString",ev="endsWith",tv="startsWith",Kp="indexOf",Gp="map",Xp="reduce",sl="trim",nv="toString",Qx="__proto__",_s="constructor",Qp=Mi,ul=Vt.freeze,$x=Vt.seal,$p=Vt.keys,cl=String[nt],Jx=cl[sl],Yx=cl[ev],Zx=cl[tv],e0=Date[nt],t0=e0[Zp],n0=Array.isArray,ll=ki[nv],rv=Cn[nv],r0=rv.call(Vt),i0=/-([a-z])/g,o0=/([^\w\d_$])/g,a0=/^(\d+[\w\d_$])/,Ps=Object.getPrototypeOf;me=n0||l0;Yp=!{toString:null}.propertyIsEnumerable("toString"),al=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];Ot=ul||iv,pl=$x||iv});function Et(e){var t={};return Me(e,function(n,r){t[n]=r,t[r]=n}),dl(t)}var As=se(()=>{$e()});var un,av=se(()=>{As();un=Et({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});function Gn(e,t){return e&&Ls[Kn].hasOwnProperty.call(e,t)}function pv(e){return e&&(e===Ls[Kn]||e===Array[Kn])}function bl(e){return pv(e)||e===Function[Kn]}function Qr(e){var t;if(e){if(ta)return ta(e);var n=e[dv]||e[Kn]||(e[Ds]?e[Ds][Kn]:null);t=e[Rs]||n,Gn(e,Rs)||(delete e[gl],t=e[Rs]=e[gl]||e[Rs],e[gl]=n)}return t}function Ms(e,t){var n=[];if(cv)n=cv(e);else for(var r in e)typeof r=="string"&&Gn(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function wl(e,t,n){return t!==Ds&&typeof e[t]===ks&&(n||Gn(e,t))}function Ns(e){throw new TypeError("DynamicProto: "+e)}function p0(e){var t={};return Ms(e,function(n){!t[n]&&wl(e,n,!1)&&(t[n]=e[n])}),t}function Sl(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function v0(e,t,n,r){function i(u,c,l){var f=c[l];if(f[yl]&&r){var d=u[Fs]||{};d[ea]!==!1&&(f=(d[c[Gi]]||{})[l]||f)}return function(){return f.apply(u,arguments)}}var o={};Ms(n,function(u){o[u]=i(t,n,u)});for(var a=Qr(e),s=[];a&&!bl(a)&&!Sl(s,a);)Ms(a,function(u){!o[u]&&wl(a,u,!ta)&&(o[u]=i(t,a,u))}),s.push(a),a=Qr(a);return o}function g0(e,t,n,r){var i=null;if(e&&Gn(n,Gi)){var o=e[Fs]||{};if(i=(o[n[Gi]]||{})[t],i||Ns("Missing ["+t+"] "+ks),!i[xl]&&o[ea]!==!1){for(var a=!Gn(e,t),s=Qr(e),u=[];a&&s&&!bl(s)&&!Sl(u,s);){var c=s[t];if(c){a=c===r;break}u.push(s),s=Qr(s)}try{a&&(e[t]=i),i[xl]=1}catch{o[ea]=!1}}}return i}function m0(e,t,n){var r=t[e];return r===n&&(r=Qr(t)[e]),typeof r!==ks&&Ns("["+e+"] is not a "+ks),r}function h0(e,t,n,r,i){function o(u,c){var l=function(){var f=g0(this,c,u,l)||m0(c,u,l);return f.apply(this,arguments)};return l[yl]=1,l}if(!pv(e)){var a=n[Fs]=n[Fs]||{},s=a[t]=a[t]||{};a[ea]!==!1&&(a[ea]=!!i),Ms(n,function(u){wl(n,u,!1)&&n[u]!==r[u]&&(s[u]=n[u],delete n[u],(!Gn(e,u)||e[u]&&!e[u][yl])&&(e[u]=o(e,u)))})}}function y0(e,t){if(ta){for(var n=[],r=Qr(t);r&&!bl(r)&&!Sl(n,r);){if(r===e)return!0;n.push(r),r=Qr(r)}return!1}return!0}function hl(e,t){return Gn(e,Kn)?e.name||t||sv:((e||{})[Ds]||{}).name||t||sv}function Ce(e,t,n,r){Gn(e,Kn)||Ns("theClass is an invalid class definition.");var i=e[Kn];y0(i,t)||Ns("["+hl(e)+"] is not in class hierarchy of ["+hl(t)+"]");var o=null;Gn(i,Gi)?o=i[Gi]:(o=d0+hl(e,"_")+"$"+lv,lv++,i[Gi]=o);var a=Ce[fv],s=!!a[ml];s&&r&&r[ml]!==void 0&&(s=!!r[ml]);var u=p0(t),c=v0(i,t,u,s);n(t,c);var l=!!ta&&!!a[uv];l&&r&&(l=!!r[uv]),h0(i,o,t,u,l!==!1)}var Ds,Kn,ks,Fs,yl,Gi,d0,xl,ea,fv,sv,dv,Rs,gl,ml,uv,Ls,ta,cv,lv,x0,ht=se(()=>{Ds="constructor",Kn="prototype",ks="function",Fs="_dynInstFuncs",yl="_isDynProxy",Gi="_dynClass",d0="_dynCls$",xl="_dynInstChk",ea=xl,fv="_dfOpts",sv="_unknown_",dv="__proto__",Rs="_dyn"+dv,gl="_dynInstProto",ml="useBaseInst",uv="setInstFuncs",Ls=Object,ta=Ls.getPrototypeOf,cv=Ls.getOwnPropertyNames,lv=0;x0={setInstFuncs:!0,useBaseInst:!0};Ce[fv]=x0});function yv(e,t){var n=!1;if(e){try{if(n=t in e,!n){var r=e[nt];r&&(n=t in r)}}catch{}if(!n)try{var i=new e;n=!Te(i[t])}catch{}}return n}function Pl(e){hv=e}function je(e){var t=on();return t&&t[e]?t[e]:e===vv&&na()?window:null}function na(){return Boolean(typeof window===et&&window)}function Tn(){return na()?window:je(vv)}function Us(){return Boolean(typeof document===et&&document)}function Ht(){return Us()?document:je(b0)}function ra(){return Boolean(typeof navigator===et&&navigator)}function Kt(){return ra()?navigator:je(S0)}function Os(){return Boolean(typeof history===et&&history)}function Al(){return Os()?history:je(C0)}function $r(e){if(e&&hv){var t=je("__mockLocation");if(t)return t}return typeof location===et&&location?location:je(I0)}function ia(){return typeof console!==tt?console:je(E0)}function Qi(){return je(T0)}function Jr(){return Boolean(typeof JSON===et&&JSON||je(gv)!==null)}function $i(){return Jr()?JSON||je(gv):null}function oa(){return je(_0)}function aa(){return je(P0)}function Xn(){var e=Kt();return e&&e.product?e.product===A0:!1}function cn(){var e=Kt();if(e&&(e.userAgent!==Il||Cl===null)){Il=e.userAgent;var t=(Il||_e).toLowerCase();Cl=Qe(t,Tl)||Qe(t,_l)}return Cl}function Rl(e){if(e===void 0&&(e=null),!e){var t=Kt()||{};e=t?(t.userAgent||_e).toLowerCase():_e}var n=(e||_e).toLowerCase();if(Qe(n,Tl)){var r=Ht()||{};return Math.max(parseInt(n.split(Tl)[1]),r[w0]||0)}else if(Qe(n,_l)){var i=parseInt(n.split(_l)[1]);if(i)return i+4}return null}function Be(e){var t=Object[nt].toString.call(e),n=_e;return t==="[object Error]"?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Jr()&&(n=$i().stringify(e)),t+n}function mr(){return El===null&&(El=ra()&&Boolean(Kt().sendBeacon)),El}function sa(e){var t=!1;try{t=!!je("fetch");var n=je("Request");t&&e&&n&&(t=yv(n,"keepalive"))}catch{}return t}function Yr(){return Xi===null&&(Xi=typeof XDomainRequest!==tt,Xi&&Ji()&&(Xi=Xi&&!yv(je(mv),"withCredentials"))),Xi}function Ji(){var e=!1;try{var t=je(mv);e=!!t}catch{}return e}function xv(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r.name&&r.name===t)return r}return{}}function Dl(e){var t=Ht();return t&&e?xv(t.querySelectorAll("meta"),e).content:null}function kl(e){var t,n=Qi();if(n){var r=n.getEntriesByType("navigation")||[];t=xv((r.length>0?r[0]:{}).serverTiming,e).description}return t}var vv,b0,w0,S0,C0,I0,E0,T0,gv,_0,P0,A0,Tl,_l,mv,Cl,Il,hv,Xi,El,Yt=se(()=>{"use strict";Nt();Lt();$e();vv="window",b0="document",w0="documentMode",S0="navigator",C0="history",I0="location",E0="console",T0="performance",gv="JSON",_0="crypto",P0="msCrypto",A0="ReactNative",Tl="msie",_l="trident/",mv="XMLHttpRequest",Cl=null,Il=null,hv=!1,Xi=null,El=null});function R0(e,t){return function(){var n=arguments,r=Ml(t);if(r){var i=r.listener;i&&i[e]&&i[e].apply(i,n)}}}function D0(){var e=je("Microsoft");return e&&(zs=e.ApplicationInsights),zs}function Ml(e){var t=zs;return!t&&e.disableDbgExt!==!0&&(t=zs||D0()),t?t.ChromeDbgExt:null}function bv(e){if(!Hs){Hs={};for(var t=0;t<Fl.length;t++)Hs[Fl[t]]=R0(Fl[t],e)}return Hs}var Fl,zs,Hs,Nl=se(()=>{Yt();Fl=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],zs=null});function wv(e){return e?'"'+e.replace(/\"/g,_e)+'"':_e}function Sv(e,t){var n=ia();if(n){var r="log";n[e]&&(r=e),we(n[r])&&n[r](t)}}function ua(e,t){return(e||{}).logger||new Zt(t)}function U0(e){return e||new Zt}function Ve(e,t,n,r,i,o){o===void 0&&(o=!1),(e||new Zt).throwInternal(t,n,r,i,o)}function Ll(e,t){U0(e).warnToConsole(t)}var k0,F0,M0,N0,L0,Zr,Zt,hr=se(()=>{"use strict";Yt();ht();$e();Nl();Lt();k0="AI (Internal): ",F0="AI: ",M0="AITR_",N0="errorToConsole",L0="warnToConsole";Zr=function(){function e(t,n,r,i){r===void 0&&(r=!1);var o=this;o.messageId=t,o.message=(r?F0:k0)+t;var a=_e;Jr()&&(a=$i().stringify(i));var s=(n?" message:"+wv(n):_e)+(i?" props:"+wv(a):_e);o.message+=s}return e.dataType="MessageData",e}();Zt=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};Ce(e,this,function(i){fe(t)&&(t={}),i.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},i.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},i.throwInternal=function(u,c,l,f,d){d===void 0&&(d=!1);var p=new Zr(c,l,d,f);if(i.enableDebugExceptions())throw Be(p);var g=u===1?N0:L0;if(Te(p.message))s("throw"+(u===1?"Critical":"Warning"),p);else{var m=i.consoleLoggingLevel();if(d){var v=+p.messageId;!r[v]&&m>=u&&(i[g](p.message),r[v]=!0)}else m>=u&&i[g](p.message);i.logInternalMessage(u,p)}},i.warnToConsole=function(u){Sv("warn",u),s("warning",u)},i.errorToConsole=function(u){Sv("error",u),s("error",u)},i.resetInternalMessageCount=function(){n=0,r={}},i.logInternalMessage=function(u,c){if(!a()){var l=!0,f=M0+c.messageId;if(r[f]?l=!1:r[f]=!0,l&&(u<=i.telemetryLoggingLevel()&&(i.queue.push(c),n++,s(u===1?"error":"warn",c)),n===i.maxInternalMessageLimit())){var d="Internal events throttle limit per PageView reached for this app.",p=new Zr(23,d,!1);i.queue.push(p),u===1?i.errorToConsole(d):i.warnToConsole(d)}}};function o(u,c){var l=t[u];return fe(l)?c:l}function a(){return n>=i.maxInternalMessageLimit()}function s(u,c){var l=Ml(t);l&&l.diagLog&&l.diagLog(u,c)}})}return e}()});function Xe(e,t,n,r,i){if(e){var o=e;if(we(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var a=void 0,s=o.getCtx(Ul);try{if(a=o.create(t(),r,i),a){if(s&&a.setCtx&&(a.setCtx(ei.ParentContextKey,s),s.getCtx&&s.setCtx)){var u=s.getCtx(ei.ChildrenContextKey);u||(u=[],s.setCtx(ei.ChildrenContextKey,u)),u.push(a)}return o.setCtx(Ul,a),n(a)}}catch(c){a&&a.setCtx&&a.setCtx("exception",c)}finally{a&&o.fire(a),o.setCtx(Ul,s)}}}return n()}function Ol(){return O0}var Yi,O0,ei,ca,Ul,la=se(()=>{ht();$e();Yi="ctx",O0=null,ei=function(){function e(t,n,r){var i=this,o=!1;if(i.start=st(),i.name=t,i.isAsync=r,i.isChildEvt=function(){return!1},we(n)){var a;o=Wt(i,"payload",function(){return!a&&we(n)&&(a=n(),n=null),a})}i.getCtx=function(s){return s?s===e.ParentContextKey||s===e.ChildrenContextKey?i[s]:(i[Yi]||{})[s]:null},i.setCtx=function(s,u){if(s)if(s===e.ParentContextKey)i[s]||(i.isChildEvt=function(){return!0}),i[s]=u;else if(s===e.ChildrenContextKey)i[s]=u;else{var c=i[Yi]=i[Yi]||{};c[s]=u}},i.complete=function(){var s=0,u=i.getCtx(e.ChildrenContextKey);if(me(u))for(var c=0;c<u.length;c++){var l=u[c];l&&(s+=l.time)}i.time=st()-i.start,i.exTime=i.time-s,i.complete=function(){},!o&&we(n)&&(i.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),ca=function(){function e(t){this.ctx={},Ce(e,this,function(n){n.create=function(r,i,o){return new ei(r,i,o)},n.fire=function(r){r&&(r.complete(),t&&we(t.perfEvent)&&t.perfEvent(r))},n.setCtx=function(r,i){if(r){var o=n[Yi]=n[Yi]||{};o[r]=i}},n.getCtx=function(r){return(n[Yi]||{})[r]}})}return e}(),Ul="CoreUtils.doPerf"});function Ev(e){e<0&&(e>>>=0),fa=123456789+e&yr,da=987654321-e&yr,Iv=!0}function Tv(){try{var e=st()&2147483647;Ev((Math.random()*Cv^e)+e)}catch{}}function ti(e){return e>0?Math.floor(ln()/yr*(e+1))>>>0:0}function ln(e){var t=0,n=oa()||aa();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&yr),t===0&&cn()&&(Iv||Tv(),t=pa()&yr),t===0&&(t=Math.floor(Cv*Math.random()|0)),e||(t>>>=0),t}function Bs(e){e?Ev(e):Tv()}function pa(e){da=36969*(da&65535)+(da>>16)&yr,fa=18e3*(fa&65535)+(fa>>16)&yr;var t=(da<<16)+(fa&65535)>>>0&yr|0;return e||(t>>>=0),t}function xr(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=ln()>>>0,r=0,i=_e;i.length<e;)r++,i+=t.charAt(n&63),n>>>=6,r===5&&(n=(ln()<<2&4294967295|n&3)>>>0,r=0);return i}var Cv,yr,Iv,fa,da,qs=se(()=>{Yt();$e();Lt();Cv=4294967296,yr=4294967295,Iv=!1,fa=123456789,da=987654321});function B0(e,t,n){if(_v)try{return _v(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch{}return!1}function Av(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}function q0(e,t){var n=t[e.id];if(!n){n={};try{Av(t)&&(B0(t,e.id,n)||(t[e.id]=n))}catch{}}return n}function fn(e,t){return t===void 0&&(t=!1),qr(e+z0+++(t?"."+Pv:"")+H0)}function js(e){var t={id:fn("_aiData-"+(e||"")+"."+Pv),accept:function(n){return Av(n)},get:function(n,r,i,o){var a=n[t.id];return a?a[qr(r)]:(o&&(a=q0(t,n),a[qr(r)]=i),i)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return t}var _v,Pv,H0,z0,va=se(()=>{Nt();$e();qs();_v=Mi,Pv="2.8.4",H0="."+xr(6),z0=0});function j0(e,t){var n=Qn[br]||Ks[br];return n||(n=Qn[br]=Qn(e,t),Ks[br]=n),n}function Ws(e){return e?e.isEnabled():!0}function V0(e){var t=e.cookieCfg=e.cookieCfg||{};if(ut(t,"domain",e.cookieDomain,fl,fe),ut(t,"path",e.cookiePath||"/",null,fe),fe(t[Bl])){var n=void 0;Te(e[kv])||(n=!e[kv]),Te(e[Fv])||(n=!e[Fv]),t[Bl]=n}return t}function wr(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;r[br]?n=r[br]:n=Qn(t)}return n||(n=j0(t,(e||{}).logger)),n}function Qn(e,t){var n=V0(e||Ks),r=n.path||"/",i=n.domain,o=n[Bl]!==!1,a={isEnabled:function(){var s=o&&dn(t),u=Ks[br];return s&&u&&a!==u&&(s=Ws(u)),s},setEnabled:function(s){o=s!==!1},set:function(s,u,c,l,f){var d=!1;if(Ws(a)){var p={},g=Ne(u||_e),m=g.indexOf(";");if(m!==-1&&(g=Ne(u.substring(0,m)),p=Hv(u.substring(m+1))),ut(p,"domain",l||i,Wi,Te),!fe(c)){var v=cn();if(Te(p[Hl])){var h=st(),x=h+c*1e3;if(x>0){var C=new Date;C.setTime(x),ut(p,Hl,Lv(C,v?Rv:Dv)||Lv(C,v?Rv:Dv)||_e,Wi)}}v||ut(p,"max-age",_e+c,null,Te)}var _=$r();_&&_.protocol==="https:"&&(ut(p,"secure",null,null,Te),zl===null&&(zl=!Zi((Kt()||{}).userAgent)),zl&&ut(p,"SameSite","None",null,Te)),ut(p,"path",f||r,null,Te);var y=n.setCookie||Ov;y(s,Uv(g,p)),d=!0}return d},get:function(s){var u=_e;return Ws(a)&&(u=(n.getCookie||W0)(s)),u},del:function(s,u){var c=!1;return Ws(a)&&(c=a.purge(s,u)),c},purge:function(s,u){var c,l=!1;if(dn(t)){var f=(c={},c.path=u||"/",c[Hl]="Thu, 01 Jan 1970 00:00:01 GMT",c);cn()||(f["max-age"]="0");var d=n.delCookie||Ov;d(s,Uv(_e,f)),l=!0}return l}};return a[br]=a,a}function dn(e){if(Vs===null){Vs=!1;try{var t=ga||{};Vs=t[ql]!==void 0}catch(n){Ve(e,2,68,"Cannot access document.cookie - "+Gr(n),{exception:Be(n)})}}return Vs}function Hv(e){var t={};if(e&&e.length){var n=Ne(e).split(";");J(n,function(r){if(r=Ne(r||_e),r){var i=r.indexOf("=");i===-1?t[r]=null:t[Ne(r.substring(0,i))]=Ne(r.substring(i+1))}})}return t}function Lv(e,t){return we(e[t])?e[t]():null}function Uv(e,t){var n=e||_e;return Me(t,function(r,i){n+="; "+r+(fe(i)?_e:"="+i)}),n}function W0(e){var t=_e;if(ga){var n=ga[ql]||_e;Mv!==n&&(Nv=Hv(n),Mv=n),t=Ne(Nv[e]||_e)}return t}function Ov(e,t){ga&&(ga[ql]=e+"="+t)}function Zi(e){return qe(e)?!!(Qe(e,"CPU iPhone OS 12")||Qe(e,"iPad; CPU OS 12")||Qe(e,"Macintosh; Intel Mac OS X 10_14")&&Qe(e,"Version/")&&Qe(e,"Safari")||Qe(e,"Macintosh; Intel Mac OS X 10_14")&&jr(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Qe(e,"Chrome/5")||Qe(e,"Chrome/6")||Qe(e,"UnrealEngine")&&!Qe(e,"Chrome")||Qe(e,"UCBrowser/12")||Qe(e,"UCBrowser/11")):!1}var Rv,Dv,ql,Hl,Bl,kv,Fv,br,Vs,zl,Mv,ga,Nv,Ks,jl=se(()=>{Yt();$e();Lt();hr();Rv="toGMTString",Dv="toUTCString",ql="cookie",Hl="expires",Bl="enabled",kv="isCookieUseDisabled",Fv="disableCookiesUsage",br="_ckMgr",Vs=null,zl=null,Mv=null,ga=Ht(),Nv={},Ks={}});function Vv(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function Qs(e,t){if(t){var n="";me(t)?(n="",J(t,function(i){i=Vv(i),i&&(i[0]!=="."&&(i="."+i),n+=i)})):n=Vv(t),n&&(n[0]!=="."&&(n="."+n),e=(e||"")+n)}var r=Q0.exec(e||"")||[];return{type:r[1],ns:(r[2]||"").replace(K0,".").replace(G0,"").split(".").sort().join(".")}}function Vl(e,t,n){var r=[],i=ha.get(e,Gs,{},!1),o=Qs(t,n);return Me(i,function(a,s){J(s,function(u){(!o.type||o.type===u.evtName.type)&&(!o.ns||o.ns===o.ns)&&r.push({name:u.evtName.type+(u.evtName.ns?"."+u.evtName.ns:""),handler:u.handler})})}),r}function Yv(e,t,n){n===void 0&&(n=!0);var r=ha.get(e,Gs,{},n),i=r[t];return i||(i=r[t]=[]),i}function Zv(e,t,n,r){e&&t&&t.type&&(e[jv]?e[jv](t.type,n,r):e[qv]&&e[qv](Kv+t.type,n))}function $0(e,t,n,r){var i=!1;return e&&t&&t.type&&n&&(e[Bv]?(e[Bv](t.type,n,r),i=!0):e[zv]&&(e[zv](Kv+t.type,n),i=!0)),i}function Wv(e,t,n,r){for(var i=t.length;i--;){var o=t[i];o&&(!n.ns||n.ns===o.evtName.ns)&&(!r||r(o))&&(Zv(e,o.evtName,o.handler,o.capture),t.splice(i,1))}}function J0(e,t,n){if(t.type)Wv(e,Yv(e,t.type),t,n);else{var r=ha.get(e,Gs,{});Me(r,function(i,o){Wv(e,o,t,n)}),It(r).length===0&&ha.kill(e,Gs)}}function $n(e,t){var n;return t?(me(t)?n=[e].concat(t):n=[e,t],n=Qs("xx",n).ns.split(".")):n=e,n}function ni(e,t,n,r,i){i===void 0&&(i=!1);var o=!1;if(e)try{var a=Qs(t,r);if(o=$0(e,a,n,i),o&&ha.accept(e)){var s={guid:X0++,evtName:a,handler:n,capture:i};Yv(e,a.type).push(s)}}catch{}return o}function ri(e,t,n,r,i){if(i===void 0&&(i=!1),e)try{var o=Qs(t,r),a=!1;J0(e,o,function(s){return o.ns&&!n||s.handler===n?(a=!0,!0):!1}),a||Zv(e,o,n,i)}catch{}}function to(e,t,n,r){return r===void 0&&(r=!1),ni(e,t,n,null,r)}function no(e,t,n,r){r===void 0&&(r=!1),ri(e,t,n,null,r)}function Cr(e,t,n){var r=!1,i=Tn();i&&(r=ni(i,e,t,n),r=ni(i.body,e,t,n)||r);var o=Ht();return o&&(r=ni(o,e,t,n)||r),r}function $s(e,t,n){var r=Tn();r&&(ri(r,e,t,n),ri(r.body,e,t,n));var i=Ht();i&&ri(i,e,t,n)}function eo(e,t,n,r){var i=!1;return t&&e&&e.length>0&&J(e,function(o){o&&(!n||at(n,o)===-1)&&(i=Cr(o,t,r)||i)}),i}function Js(e,t,n,r){var i=!1;return t&&e&&me(e)&&(i=eo(e,t,n,r),!i&&n&&n.length>0&&(i=eo(e,t,null,r))),i}function Sr(e,t,n){e&&me(e)&&J(e,function(r){r&&$s(r,t,n)})}function ii(e,t,n){return Js([Qv,Xv,Xs],e,t,n)}function ya(e,t){Sr([Qv,Xv,Xs],e,t)}function ro(e,t,n){function r(a){var s=Ht();e&&s&&s.visibilityState==="hidden"&&e(a)}var i=$n($v,n),o=eo([Xs],e,t,i);return(!t||at(t,ma)===-1)&&(o=eo([ma],r,t,i)||o),!o&&t&&(o=ro(e,null,n)),o}function xa(e,t){var n=$n($v,t);Sr([Xs],e,n),Sr([ma],null,n)}function io(e,t,n){function r(a){var s=Ht();e&&s&&s.visibilityState==="visible"&&e(a)}var i=$n(Jv,n),o=eo([Gv],e,t,i);return o=eo([ma],r,t,i)||o,!o&&t&&(o=io(e,null,n)),o}function ba(e,t){var n=$n(Jv,t);Sr([Gv],e,n),Sr([ma],null,n)}var Kv,zv,Bv,qv,jv,Gs,ma,Xs,Gv,Xv,Qv,$v,Jv,K0,G0,X0,ha,Q0,Wl=se(()=>{va();Yt();$e();Kv="on",zv="attachEvent",Bv="addEventListener",qv="detachEvent",jv="removeEventListener",Gs="events",ma="visibilitychange",Xs="pagehide",Gv="pageshow",Xv="unload",Qv="beforeunload",$v=fn("aiEvtPageHide"),Jv=fn("aiEvtPageShow"),K0=/\.[\.]+/g,G0=/[\.]+$/,X0=1,ha=js("events"),Q0=/^([^.]*)(?:\.(.+)|)/});function oo(){function e(){return ti(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Y0,function(t){var n=e()|0,r=t==="x"?n:n&3|8;return r.toString(16)})}function ao(){var e=Qi();return e&&e.now?e.now():st()}function Ir(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=_e,n,r=0;r<4;r++)n=ln(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var i=e[8+(ln()&3)|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var Y0,Kl,Gl=se(()=>{"use strict";Yt();$e();Wl();qs();Lt();Y0=/[xy]/g,Kl={Attach:to,AttachEvent:to,Detach:no,DetachEvent:no}});function Jn(e,t,n){return e&&e.length===t&&e!==n?!!e.match(/^[\da-f]*$/):!1}function tg(e,t,n){return Jn(e,t)?e:n}function ng(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function $l(e,t,n,r){return{version:Jn(r,2,Ql)?r:Xl,traceId:so(e)?e:Ir(),spanId:uo(t)?t:Ir().substr(0,16),traceFlags:n>=0&&n<=255?n:1}}function wa(e){if(!e||(me(e)&&(e=e[0]||""),!e||!qe(e)||e.length>8192))return null;var t=Z0.exec(Ne(e));return!t||t[1]===Ql||t[2]===Ys||t[3]===Zs?null:{version:t[1],traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}function so(e){return Jn(e,32,Ys)}function uo(e){return Jn(e,16,Zs)}function eu(e){return!(!e||!Jn(e.version,2,Ql)||!Jn(e.traceId,32,Ys)||!Jn(e.spanId,16,Zs)||!Jn(ng(e.traceFlags),2))}function Jl(e){return eu(e)?(e.traceFlags&eg)===eg:!1}function Yl(e){if(e){var t=ng(e.traceFlags);Jn(t,2)||(t="01");var n=e.version||Xl;return n!=="00"&&n!=="ff"&&(n=Xl),"".concat(n,"-").concat(tg(e.traceId,32,Ys),"-").concat(tg(e.spanId,16,Zs),"-").concat(t)}return""}function Zl(){var e="traceparent",t=wa(Dl(e));return t||(t=wa(kl(e))),t}var Z0,Xl,Ql,Ys,Zs,eg,ef=se(()=>{Gl();Yt();$e();Z0=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,Xl="00",Ql="ff",Ys="00000000000000000000000000000000",Zs="0000000000000000",eg=1});function Yn(e){return eb.get(e,"state",{},!0)}function tu(e,t){for(var n=[],r=null,i=e.getNext(),o;i;){var a=i.getPlugin();if(a){r&&we(r[$o])&&we(a[Is])&&r[$o](a);var s=!1;we(a[jn])?s=a[jn]():(o=Yn(a),s=o[jn]),s||n.push(a),r=a,i=i.getNext()}}J(n,function(u){var c=e.core();u.initialize(e.getCfg(),c,t,e.getNext()),o=Yn(u),!u[sn]&&!o[sn]&&(o[sn]=c),o[jn]=!0,delete o[$t]})}function nu(e){return e.sort(function(t,n){var r=0;if(n){var i=we(n[Is]);we(t[Is])?r=i?t[il]-n[il]:1:i&&(r=-1)}else r=t?1:-1;return r})}function rg(e){var t={};return{getName:function(){return t.name},setName:function(n){e&&e.setName(n),t.name=n},getTraceId:function(){return t.traceId},setTraceId:function(n){e&&e.setTraceId(n),so(n)&&(t.traceId=n)},getSpanId:function(){return t.spanId},setSpanId:function(n){e&&e.setSpanId(n),uo(n)&&(t.spanId=n)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(n){e&&e.setTraceFlags(n),t.traceFlags=n}}}var eb,ru=se(()=>{"use strict";$e();Lt();va();ef();eb=js("plugin")});function nb(e,t,n){for(;e;){if(e.getPlugin()===n)return e;e=e.getNext()}return _n([n],t.config||{},t)}function tf(e,t,n,r){var i=null,o=[];r!==null&&(i=r?nb(e,n,r):e);var a={_next:u,ctx:{core:function(){return n},diagLog:function(){return ua(n,t)},getCfg:function(){return t},getExtCfg:c,getConfig:l,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(d){i=d},iterate:f,onComplete:s}};function s(d,p){for(var g=[],m=2;m<arguments.length;m++)g[m-2]=arguments[m];d&&o.push({func:d,self:Te(p)?a.ctx:p,args:g})}function u(){var d=i;if(i=d?d.getNext():null,!d){var p=o;p&&p.length>0&&(J(p,function(g){try{g.func.call(g.self,g.args)}catch(m){Ve(n.logger,2,73,"Unexpected Exception during onComplete - "+Be(m))}}),o=[])}return d}function c(d,p,g){p===void 0&&(p={}),g===void 0&&(g=0);var m;if(t){var v=t.extensionConfig;v&&d&&(m=v[d])}if(!m)m=p;else if(gt(p)&&g!==0){var h=Ki(!0,p,m);t&&g===2&&Me(p,function(x){if(fe(h[x])){var C=t[x];fe(C)||(h[x]=C)}}),m=h}return m}function l(d,p,g){g===void 0&&(g=!1);var m,v=c(d,null);return v&&!fe(v[p])?m=v[p]:t&&!fe(t[p])&&(m=t[p]),fe(m)?g:m}function f(d){for(var p;p=a._next();){var g=p.getPlugin();g&&d(g)}}return a}function zt(e,t,n,r){var i=tf(e,t,n,r),o=i.ctx;function a(u){var c=i._next();return c&&c.processTelemetry(u,o),!c}function s(u,c){return u===void 0&&(u=null),me(u)&&(u=_n(u,t,n,c)),zt(u||o.getNext(),t,n,c)}return o.processNext=a,o.createNew=s,o}function co(e,t,n){var r=t.config||{},i=tf(e,r,t,n),o=i.ctx;function a(u){var c=i._next();return c&&c.unload(o,u),!c}function s(u,c){return u===void 0&&(u=null),me(u)&&(u=_n(u,r,t,c)),co(u||o.getNext(),t,c)}return o.processNext=a,o.createNew=s,o}function Sa(e,t,n){var r=t.config||{},i=tf(e,r,t,n),o=i.ctx;function a(u){return o.iterate(function(c){we(c.update)&&c.update(o,u)})}function s(u,c){return u===void 0&&(u=null),me(u)&&(u=_n(u,r,t,c)),Sa(u||o.getNext(),t,c)}return o.processNext=a,o.createNew=s,o}function _n(e,t,n,r){var i=null,o=!r;if(me(e)&&e.length>0){var a=null;J(e,function(s){if(!o&&r===s&&(o=!0),o&&s&&we(s.processTelemetry)){var u=rb(s,t,n);i||(i=u),a&&a._setNext(u),a=u}})}return r&&!i?_n([r],t,n):i}function rb(e,t,n){var r=null,i=we(e.processTelemetry),o=we(e.setNextPlugin),a;e?a=e.identifier+"-"+e.priority+"-"+ag++:a="Unknown-0-"+ag++;var s={getPlugin:function(){return e},getNext:function(){return r},processTelemetry:l,unload:f,update:d,_id:a,_setNext:function(p){r=p}};function u(){var p;return e&&we(e[og])&&(p=e[og]()),p||(p=zt(s,t,n)),p}function c(p,g,m,v,h){var x=!1,C=e?e.identifier:tb,_=p[ig];return _||(_=p[ig]={}),p.setNext(r),e&&Xe(p[sn](),function(){return C+":"+m},function(){_[a]=!0;try{var y=r?r._id:_e;y&&(_[y]=!1),x=g(p)}catch(te){var K=r?_[r._id]:!0;K&&(x=!0),(!r||!K)&&Ve(p.diagLog(),1,73,"Plugin ["+C+"] failed during "+m+" - "+Be(te)+", run flags: "+Be(_))}},v,h),x}function l(p,g){g=g||u();function m(v){if(!e||!i)return!1;var h=Yn(e);return h.teardown||h[Jo]?!1:(o&&e.setNextPlugin(r),e.processTelemetry(p,v),!0)}c(g,m,"processTelemetry",function(){return{item:p}},!p.sync)||g.processNext(p)}function f(p,g){function m(){var v=!1;if(e){var h=Yn(e),x=e[sn]||h.core;e&&(!x||x===p[sn]())&&!h[$t]&&(h[sn]=null,h[$t]=!0,h[jn]=!1,e[$t]&&e[$t](p,g)===!0&&(v=!0))}return v}c(p,m,"unload",function(){},g.isAsync)||p.processNext(g)}function d(p,g){function m(){var v=!1;if(e){var h=Yn(e),x=e[sn]||h.core;e&&(!x||x===p[sn]())&&!h[$t]&&e[ol]&&e[ol](p,g)===!0&&(v=!0)}return v}c(p,m,"update",function(){},!1)||p.processNext(g)}return Ot(s)}var tb,ig,og,ag,nf,Ca=se(()=>{"use strict";hr();$e();la();Yt();Lt();ru();tb="TelemetryPluginChain",ig="_hasRun",og="_getTelCtx",ag=0;nf=function(){function e(t,n,r,i){var o=this,a=zt(t,n,r,i);Xr(o,a,It(a))}return e}()});var sg,iu,rf=se(()=>{sg="iKey",iu="extensionConfig"});function ug(e,t,n,r){t&&me(t)&&t.length>0&&(t=t.sort(function(i,o){return i.priority-o.priority}),J(t,function(i){i.priority<Ia&&mt(ib+i.identifier)}),e.push({queue:Ot(t),chain:_n(t,n,r)}))}function cg(e,t){var n;function r(){return zt(null,t.config,t,null)}function i(l,f,d,p){var g=l?l.length+1:1;function m(){g--,g===0&&(p&&p(),p=null)}g>0&&J(l,function(v){if(v&&v.queue.length>0){var h=v.chain,x=f.createNew(h);x.onComplete(m),d(x)}else g--}),m()}function o(l,f){var d=f||{reason:0};return i(e,l,function(p){p[Hr](d)},function(){l[Hr](d)}),!0}function a(l,f){var d=f||{reason:0,isAsync:!1};return i(e,l,function(p){p[Hr](d)},function(){l[Hr](d),u=!1}),!0}function s(l){var f=null;return e&&e.length>0&&J(e,function(d){if(d&&d.queue.length>0&&(J(d.queue,function(p){if(p.identifier===l)return f=p,-1}),f))return-1}),f}var u=!1,c=(n={identifier:"ChannelControllerPlugin",priority:Ia,initialize:function(l,f,d,p){u=!0,J(e,function(g){g&&g.queue.length>0&&tu(zt(g.chain,l,f),d)})},isInitialized:function(){return u},processTelemetry:function(l,f){i(e,f||r(),function(d){d[Hr](l)},function(){f[Hr](l)})},update:o},n[Ts]=function(){i(e,r(),function(l){l.iterate(function(f){f[Ts]&&f[Ts]()})},null)},n[Es]=function(){i(e,r(),function(l){l.iterate(function(f){f[Es]&&f[Es]()})},null)},n[$t]=a,n.getChannel=s,n.flush=function(l,f,d,p){var g=1,m=!1,v=null;p=p||5e3;function h(){g--,m&&g===0&&(v&&(clearTimeout(v),v=null),f&&f(m),f=null)}return i(e,r(),function(x){x.iterate(function(C){if(C.flush){g++;var _=!1;C.flush(l,function(){_=!0,h()},d)||_||(l&&v==null?v=setTimeout(function(){v=null,h()},p):h())}})},function(){m=!0,h()}),!0},n._setQueue=function(l){e=l},n);return c}function lg(e,t,n,r){var i=[];if(e&&J(e,function(a){return ug(i,a,n,r)}),t){var o=[];J(t,function(a){a.priority>Ia&&o.push(a)}),ug(i,o,n,r)}return i}var Ia,ib,fg=se(()=>{$e();Lt();Ca();ru();Ia=500,ib="Channel has invalid priority - "});function oi(){var e=[];function t(r){r&&e.push(r)}function n(r,i){J(e,function(o){try{o(r,i)}catch(a){Ve(r.diagLog(),2,73,"Unexpected error calling unload handler - "+Be(a))}}),e=[]}return{add:t,run:n}}var ou=se(()=>{hr();Yt();$e()});var Er,ai,of=se(()=>{"use strict";ht();Ca();$e();rf();ou();Lt();Er="getPlugin",ai=function(){function e(){var t=this,n,r,i,o,a;c(),Ce(e,t,function(l){l.initialize=function(f,d,p,g){u(f,d,g),n=!0},l.teardown=function(f,d){var p=l.core;if(!p||f&&p!==f.core())return;var g,m=!1,v=f||co(null,p,i&&i[Er]?i[Er]():i),h=d||{reason:0,isAsync:!1};function x(){m||(m=!0,o.run(v,d),J(a,function(C){C.rm()}),a=[],g===!0&&v.processNext(h),c())}return!l[Ui]||l[Ui](v,h,x)!==!0?x():g=!0,g},l.update=function(f,d){var p=l.core;if(!p||f&&p!==f.core())return;var g,m=!1,v=f||Sa(null,p,i&&i[Er]?i[Er]():i),h=d||{reason:0};function x(){m||(m=!0,u(v.getCfg(),v.core(),v.getNext()))}return!l._doUpdate||l._doUpdate(v,h,x)!==!0?x():g=!0,g},l._addHook=function(f){f&&(me(f)?a=a.concat(f):a.push(f))},gr(l,"_addUnloadCb",function(){return o},"add")}),t.diagLog=function(l){return s(l).diagLog()},t[jn]=function(){return n},t.setInitialized=function(l){n=l},t[$o]=function(l){i=l},t.processNext=function(l,f){f?f.processNext(l):i&&we(i.processTelemetry)&&i.processTelemetry(l,null)},t._getTelCtx=s;function s(l){l===void 0&&(l=null);var f=l;if(!f){var d=r||zt(null,{},t.core);i&&i[Er]?f=d.createNew(null,i[Er]):f=d.createNew(null,i)}return f}function u(l,f,d){l&&ut(l,iu,[],null,fe),!d&&f&&(d=f.getProcessTelContext().getNext());var p=i;i&&i[Er]&&(p=i[Er]()),t.core=f,r=zt(d,l,f,p)}function c(){n=!1,t.core=null,r=null,i=null,a=[],o=oi()}}return e}()});var dg,pg=se(()=>{Nt();ht();of();hr();Yt();$e();Lt();dg=function(e){an(t,e);function t(){var n=e.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,i;o(),Ce(t,n,function(a,s){a.addTelemetryInitializer=function(u){var c={id:r++,fn:u};i.push(c);var l={remove:function(){J(i,function(f,d){if(f.id===c.id)return i.splice(d,1),-1})}};return l},a.processTelemetry=function(u,c){for(var l=!1,f=i.length,d=0;d<f;++d){var p=i[d];if(p)try{if(p.fn.apply(null,[u])===!1){l=!0;break}}catch(g){Ve(c.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Gr(g),{exception:Be(g)},!0)}}l||a.processNext(u,c)},a[Ui]=function(){o()}});function o(){r=0,i=[]}return n}return t}(ai)});function sb(e,t){return new ca(t)}function ub(e,t,n){var r=[],i={};return J(n,function(o){(fe(o)||fe(o.initialize))&&mt(hg);var a=o.priority,s=o.identifier;o&&a&&(fe(i[a])?i[a]=s:Ll(e,"Two extensions have same priority #"+a+" - "+i[a]+", "+s)),(!a||a<t)&&r.push(o)}),{all:n,core:r}}function mg(e,t){var n=!1;return J(t,function(r){if(r===e)return n=!0,-1}),n}function cb(){var e;return In((e={},e[zr]=function(t){},e[Br]=function(t){},e[Oi]=function(t){},e[Hi]=function(t,n){},e[zi]=function(t,n){},e))}var hg,vg,gg,ob,ab,si,af=se(()=>{"use strict";Nt();Nt();ht();Ca();ru();la();jl();$e();rf();hr();Nl();fg();pg();va();ou();Lt();hg="Plugins must provide initialize method",vg="_notificationManager",gg="SDK is still unloading...",ob="SDK is not initialized",ab={loggingLevelConsole:1};si=function(){function e(){var t,n,r,i,o,a,s,u,c,l,f,d,p,g,m,v,h,x,C,_=0;Ce(e,this,function(y){K(),y.isInitialized=function(){return t},y.initialize=function(I,z,Q,G){p&&mt(gg),y.isInitialized()&&mt("Core should not be initialized more than once"),(!I||fe(I.instrumentationKey))&&mt("Please provide instrumentation key"),r=G,y[vg]=G,y.config=I||{},b(I),E(I),I.extensions=fe(I.extensions)?[]:I.extensions,M(I),Q&&(y.logger=Q),u=[],u.push.apply(u,Cs(Cs([],z,!1),I.extensions,!1)),f=(I||{}).channels,A(I,null),(!d||d.length===0)&&mt("No channels available"),t=!0,y.releaseQueue()},y.getTransmissionControls=function(){var I=[];return d&&J(d,function(z){I.push(z.queue)}),Ot(I)},y.track=function(I){ut(I,sg,y.config.instrumentationKey,null,Vi),ut(I,"time",Jt(new Date),null,Vi),ut(I,"ver","4.0",null,fe),!p&&y.isInitialized()?te().processNext(I):n.push(I)},y.getProcessTelContext=te,y.getNotifyMgr=function(){return r||(r=cb(),y[vg]=r),r},y[zr]=function(I){r&&r[zr](I)},y[Br]=function(I){r&&r[Br](I)},y.getCookieMgr=function(){return a||(a=Qn(y.config,y.logger)),a},y.setCookieMgr=function(I){a=I},y.getPerfMgr=function(){return!i&&!o&&y.config&&y.config.enablePerfMgr&&we(y.config.createPerfMgr)&&(o=y.config.createPerfMgr(y,y.getNotifyMgr())),i||o||Ol()},y.setPerfMgr=function(I){i=I},y.eventCnt=function(){return n.length},y.releaseQueue=function(){if(t&&n.length>0){var I=n;n=[],J(I,function(z){te().processNext(z)})}},y.pollInternalLogs=function(I){m=I||null;var z=y.config.diagnosticLogInterval;return(!z||!(z>0))&&(z=1e4),_&&clearInterval(_),_=setInterval(function(){Z()},z),_},y.stopPollingInternalLogs=function(){_&&(clearInterval(_),_=0,Z())},Xr(y,function(){return g},["addTelemetryInitializer"]),y.unload=function(I,z,Q){I===void 0&&(I=!0),t||mt(ob),p&&mt(gg);var G={reason:50,isAsync:I,flushComplete:!1},le=co(q(),y);le.onComplete(function(){K(),z&&z(G)},y);function T(R){G.flushComplete=R,p=!0,h.run(le,G),y.stopPollingInternalLogs(),le.processNext(G)}ce(I,T,6,Q)||T(!1)},y.getPlugin=Y,y.addPlugin=function(I,z,Q,G){if(!I){G&&G(!1),X(hg);return}var le=Y(I.identifier);if(le&&!z){G&&G(!1),X("Plugin ["+I.identifier+"] is already loaded!");return}var T={reason:16};function R($){u.push(I),T.added=[I],A(y.config,T),G&&G(!0)}if(le){var L=[le.plugin],B={reason:2,isAsync:!!Q};oe(L,B,function($){$?(T.removed=L,T.reason|=32,R(!0)):G&&G(!1)})}else R(!1)},y.evtNamespace=function(){return v},y.flush=ce,y.getTraceCtx=function(I){return C||(C=rg()),C},y.setTraceCtx=function(I){C=I||null},gr(y,"addUnloadCb",function(){return h},"add");function K(){t=!1,y.config=Ki(!0,{},ab),y.logger=new Zt(y.config),y._extensions=[],g=new dg,n=[],r=null,i=null,o=null,a=null,s=null,c=null,u=[],l=null,f=null,d=null,p=!1,m=null,v=fn("AIBaseCore",!0),h=oi(),C=null}function te(){return zt(q(),y.config,y)}function A(I,z){var Q=ub(y.logger,Ia,u);c=Q.core,s=null;var G=Q.all;if(d=Ot(lg(f,G,I,y)),l){var le=at(G,l);le!==-1&&G.splice(le,1),le=at(c,l),le!==-1&&c.splice(le,1),l._setQueue(d)}else l=cg(d,y);G.push(l),c.push(l),y._extensions=nu(G),l.initialize(I,y,G),tu(te(),G),y._extensions=Ot(nu(c||[])).slice(),z&&H(z)}function Y(I){var z=null,Q=null;return J(y._extensions,function(G){if(G.identifier===I&&G!==l&&G!==g)return Q=G,-1}),!Q&&l&&(Q=l.getChannel(I)),Q&&(z={plugin:Q,setEnabled:function(G){Yn(Q)[Jo]=!G},isEnabled:function(){var G=Yn(Q);return!G[$t]&&!G[Jo]},remove:function(G,le){G===void 0&&(G=!0);var T=[Q],R={reason:1,isAsync:G};oe(T,R,function(L){L&&A(y.config,{reason:32,removed:T}),le&&le(L)})}}),z}function q(){if(!s){var I=(c||[]).slice();at(I,g)===-1&&I.push(g),s=_n(nu(I),y.config,y)}return s}function oe(I,z,Q){if(I&&I.length>0){var G=_n(I,y.config,y),le=co(G,y);le.onComplete(function(){var T=!1,R=[];J(u,function(B,$){mg(B,I)?T=!0:R.push(B)}),u=R;var L=[];f&&(J(f,function(B,$){var ie=[];J(B,function(ne){mg(ne,I)?T=!0:ie.push(ne)}),L.push(ie)}),f=L),Q&&Q(T)}),le.processNext(z)}else Q(!1)}function Z(){var I=y.logger?y.logger.queue:[];I&&(J(I,function(z){var Q={name:m||"InternalMessageId: "+z.messageId,iKey:y.config.instrumentationKey,time:Jt(new Date),baseType:Zr.dataType,baseData:{message:z.message}};y.track(Q)}),I.length=0)}function ce(I,z,Q,G){return l?l.flush(I,z,Q||6,G):(z&&z(!1),!0)}function b(I){I.disableDbgExt===!0&&x&&(r[Br](x),x=null),r&&!x&&I.disableDbgExt!==!0&&(x=bv(I),r[zr](x))}function E(I){!I.enablePerfMgr&&o&&(o=null),I.enablePerfMgr&&ut(y.config,"createPerfMgr",sb)}function M(I){var z=Zo(I,iu);z.NotificationManager=r}function H(I){var z=Sa(q(),y);(!y._updateHook||y._updateHook(z,I)!==!0)&&z.processNext(I)}function X(I){var z=y.logger;z?Ve(z,2,73,I):mt(I)}})}return e}()});function au(e,t,n,r){J(e,function(i){if(i&&i[t])if(n)setTimeout(function(){return r(i)},0);else try{r(i)}catch{}})}var Ea,sf=se(()=>{ht();$e();Lt();Ea=function(){function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;Ce(e,this,function(r){r[zr]=function(i){r.listeners.push(i)},r[Br]=function(i){for(var o=at(r.listeners,i);o>-1;)r.listeners.splice(o,1),o=at(r.listeners,i)},r[Oi]=function(i){au(r.listeners,Oi,!0,function(o){o[Oi](i)})},r[Hi]=function(i,o){au(r.listeners,Hi,!0,function(a){a[Hi](i,o)})},r[zi]=function(i,o){au(r.listeners,zi,o,function(a){a[zi](i,o)})},r[Yo]=function(i){i&&(n||!i.isChildEvt())&&au(r.listeners,Yo,!1,function(o){i.isAsync?setTimeout(function(){return o[Yo](i)},0):o[Yo](i)})}})}return e}()});var Ta,yg=se(()=>{Nt();af();sf();la();hr();ht();$e();Ta=function(e){an(t,e);function t(){var n=e.call(this)||this;return Ce(t,n,function(r,i){r.initialize=function(s,u,c,l){i.initialize(s,u,c||new Zt(s),l||new Ea(s))},r.track=function(s){Xe(r.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){s===null&&(a(s),mt("Invalid telemetry item")),o(s),i.track(s)},function(){return{item:s}},!s.sync)};function o(s){fe(s.name)&&(a(s),mt("telemetry name required"))}function a(s){var u=r.getNotifyMgr();u&&u.eventsDiscarded([s],2)}}),n}return t}(si)});var uf,_a,xg=se(()=>{As();uf=Et({CRITICAL:1,WARNING:2}),_a=Et({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106})});var Zn=se(()=>{Vp();av();yg();af();of();qs();Gl();$e();As();Wl();Yt();Nt();sf();la();hr();Ca();xg();jl();va();ou();ef()});var bg,wg,Sg,Cg,Ig,Eg,Tg=se(()=>{Nt();Zn();bg=Et({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),wg=Et({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),Sg=Et({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),Cg=Et({Normal:1,Critical:2}),Ig=Et({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),Eg=Ot(Ss(Ss({},_a),Et({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})))});function rt(e){return!(e===""||fe(e))}function Aa(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function ff(){return cf===null&&(cf=!Te(Uint8Array)&&!vb()&&!Xn()),cf}function Ra(e){return!!(e&&Ut(e)&&e>=1&&e<=4)}function Da(e,t,n){if(!t&&!rt(t)||typeof e!="string")return null;var r=typeof t;if(r==="string"||r==="number"||r==="boolean"||me(t))t={value:t};else if(r==="object"&&!t.hasOwnProperty("value"))t={value:n?JSON.stringify(t):t};else if(fe(t.value)||t.value===""||!qe(t.value)&&!Ut(t.value)&&!Vn(t.value)&&!me(t.value))return null;if(me(t.value)&&!uu(t.value))return null;if(!fe(t.kind)){if(me(t.value)||!lo(t.kind))return null;t.value=t.value.toString()}return t}function ka(e,t,n){var r=-1;if(!Te(e))if(t>0&&(t===32?r=1<<13:t<=13&&(r=t<<5)),pb(n))r===-1&&(r=0),r|=n;else{var i=db[pn(e)]||-1;r!==-1&&i!==-1?r|=i:i===6&&(r=i)}return r}function df(){wr(null).setEnabled(!1)}function pf(e,t,n){dn(null)&&wr(null).set(e,t,n*86400,null,"/")}function vf(e){dn(null)&&wr(null).del(e)}function gf(e){return dn(null)?mf(wr(null),e):""}function mf(e,t,n){n===void 0&&(n=!0);var r;return e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function hf(e){e===void 0&&(e="D");var t=oo();return e==="B"?t="{"+t+"}":e==="P"?t="("+t+")":e==="N"&&(t=t.replace(/-/g,"")),t}function Tr(e,t,n,r,i){var o={},a=!1,s=0,u=arguments.length,c=Object[nt],l=arguments;for(c.toString.call(l[0])==="[object Boolean]"&&(a=l[0],s++);s<u;s++){var e=l[s];Me(e,function(d,p){a&&p&&gt(p)?me(p)?(o[d]=o[d]||[],J(p,function(g,m){g&&gt(g)?o[d][m]=Tr(!0,o[d][m],g):o[d][m]=g})):o[d]=Tr(!0,o[d],p):o[d]=p})}return o}function lo(e){return e===0||e>0&&e<=13||e===32}function pb(e){return e>=0&&e<=9}function vb(){var e=Kt();if(!Te(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}function uu(e){return e.length>0}function fo(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=Tt()}function pn(e){var t=0;if(e!=null){var n=typeof e;n==="string"?t=1:n==="number"?t=2:n==="boolean"?t=3:n===et&&(t=4,me(e)?(t=4096,e.length>0&&(t|=pn(e[0]))):En(e,"value")&&(t=8192|pn(e.value)))}return t}function cu(){return!!je("chrome")}function lu(e,t,n,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);function a(u,c,l){try{u[c]=l}catch{}}var s=new XMLHttpRequest;return r&&a(s,lb,r),n&&a(s,_g,n),s.open(e,t,!i),n&&a(s,_g,n),!i&&o&&a(s,fb,o),s}var er,su,tr,lb,_g,fb,db,cf,Pa,lf,Tt,Pg,Ag,Fa=se(()=>{Nt();Zn();su="3.2.3",tr="1DS-Web-JS-"+su,lb="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",_g="withCredentials",fb="timeout",db=(er={},er[0]=0,er[2]=6,er[1]=1,er[3]=7,er[4098]=6,er[4097]=1,er[4099]=7,er),cf=null,Pa=Boolean(Ht()),lf=Boolean(Tn());Tt=ao;Pg={Version:su,FullVersionString:tr,strUndefined:tt,strObject:et,Undefined:tt,arrForEach:J,arrIndexOf:at,arrMap:Wr,arrReduce:Kr,objKeys:It,toISOString:Jt,isReactNative:Xn,isString:qe,isNumber:Ut,isBoolean:Vn,isFunction:we,isArray:me,isObject:gt,strTrim:Ne,isDocumentObjectAvailable:Pa,isWindowObjectAvailable:lf,isValueAssigned:rt,getTenantId:Aa,isBeaconsSupported:mr,isUint8ArrayAvailable:ff,isLatency:Ra,sanitizeProperty:Da,getISOString:Jt,useXDomainRequest:Yr,getCommonSchemaMetaData:ka,cookieAvailable:dn,disallowsSameSiteNone:Zi,setCookie:pf,deleteCookie:vf,getCookie:gf,createGuid:hf,extend:Tr,getTime:Tt,isValueKind:lo,isArrayValid:uu,objDefineAccessors:Wt,addPageUnloadEventListener:ii,setProcessTelemetryTimings:fo,addEventHandler:Cr,getFieldValueType:pn,strEndsWith:jr,objForEachKey:Me},Ag={_canUseCookies:void 0,isTypeof:Bi,isUndefined:Te,isNullOrUndefined:fe,hasOwnProperty:En,isFunction:we,isObject:gt,isDate:ji,isArray:me,isError:Vr,isString:qe,isNumber:Ut,isBoolean:Vn,toISOString:Jt,arrForEach:J,arrIndexOf:at,arrMap:Wr,arrReduce:Kr,strTrim:Ne,objCreate:In,objKeys:It,objDefineAccessors:Wt,addEventHandler:Cr,dateNow:st,isIE:cn,disableCookies:df,newGuid:oo,perfNow:ao,newId:xr,randomValue:ti,random32:ln,mwcRandomSeed:Bs,mwcRandom32:pa,generateW3CId:Ir}});var yf,xf,gb,Rg,Dg=se(()=>{Nt();Zn();Fa();ht();yf="version",xf="properties",gb=function(e){an(t,e);function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],n.pluginVersionString="",Ce(t,n,function(r,i){(!r.logger||!r.logger.queue)&&(r.logger=new Zt({loggingLevelConsole:1})),r.initialize=function(o,a,s,u){Xe(r,function(){return"AppInsightsCore.initialize"},function(){if(o){o.endpointUrl||(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var c=o.propertyStorageOverride;if(c&&(!c.getProperty||!c.setProperty))throw new Error("Invalid property storage override passed.");o.channels&&J(o.channels,function(d){d&&J(d,function(p){if(p.identifier&&p.version){var g=p.identifier+"="+p.version;r.pluginVersionStringArr.push(g)}})})}r.getWParam=function(){return typeof document<"u"?0:-1},a&&J(a,function(d){if(d&&d.identifier&&d.version){var p=d.identifier+"="+d.version;r.pluginVersionStringArr.push(p)}}),r.pluginVersionString=r.pluginVersionStringArr.join(";");try{i.initialize(o,a,s,u),r.pollInternalLogs("InternalLog")}catch(d){var l=r.logger,f=Be(d);f.indexOf("channels")!==-1&&(f+=`
 - Channels must be provided through config.channels only!`),l.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+f)}},function(){return{config:o,extensions:a,logger:s,notificationManager:u}})},r.track=function(o){Xe(r,function(){return"AppInsightsCore.track"},function(){var a=o;if(a){a.timings=a.timings||{},a.timings.trackStart=Tt(),Ra(a.latency)||(a.latency=1);var s=a.ext=a.ext||{};s.sdk=s.sdk||{},s.sdk.ver=tr;var u=a.baseData=a.baseData||{};u[xf]||(u[xf]={});var c=u[xf];c[yf]||(c[yf]=""),r.pluginVersionString!==""&&(c[yf]=r.pluginVersionString)}i.track(a)},function(){return{item:o}},!o.sync)}}),n}return t}(Ta),Rg=gb});var mb,kg,Fg=se(()=>{Nt();ht();Zn();Fa();mb=function(e){an(t,e);function t(){var n=e.call(this)||this;return Ce(t,n,function(r,i){r.initialize=function(o,a,s,u){o&&!o.endpointUrl&&(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),r.getWParam=function(){return Pa?0:-1};try{i.initialize(o,a,s,u)}catch(c){Ve(r.logger,1,514,"Initialization Failed: "+Be(c)+`
 - Note: Channels must be provided through config.channels only`)}},r.track=function(o){var a=o;if(a){var s=a.ext=a.ext||{};s.sdk=s.sdk||{},s.sdk.ver=tr}i.track(a)}}),n}return t}(si),kg=mb});function hb(e,t,n){return function(r){e[t]=r,n()}}var ui,yb,_r,bf=se(()=>{Zn();ht();ui=we;yb=function(){function e(t){var n=0,r=null,i=[];Ce(e,this,function(c){c.then=function(l,f){return new e(function(d,p){o(l,f,d,p)})},c.catch=function(l){return c.then(null,l)}});function o(c,l,f,d){i.push(function(){var p;try{n===1?p=ui(c)?c(r):r:p=ui(l)?l(r):r,p instanceof e?p.then(f,d):n===2&&!ui(l)?d(p):f(p)}catch(g){d(g);return}}),n!==0&&a()}function a(){if(i.length>0){var c=i.slice();i=[],setTimeout(function(){for(var l=0,f=c.length;l<f;++l)try{c[l]()}catch{}},0)}}function s(c){n===0&&(r=c,n=1,a())}function u(c){n===0&&(r=c,n=2,a())}(function(){if(!ui(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(s,u)}catch(l){u(l)}})()}return e.resolve=function(t){return t instanceof e?t:t&&ui(t.then)?new e(function(n,r){try{t.then(n,r)}catch(i){r(i)}}):new e(function(n){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.all=function(t){if(!(!t||!t.length))return new e(function(n,r){try{for(var i=[],o=0,a=0;a<t.length;a++){var s=t[a];s&&ui(s.then)?(o++,s.then(hb(i,a,function(){--o===0&&n(i)}),r)):i[a]=s}o===0&&setTimeout(function(){n(i)},0)}catch(u){r(u)}})},e.race=function(t){return new e(function(n,r){if(!(!t||!t.length))try{for(var i=function(a){var s=t[a];s&&ui(s.then)?s.then(n,r):setTimeout(function(){n(s)},0)},o=0;o<t.length;o++)i(o)}catch(a){r(a)}})},e}(),_r=yb});function po(){return new Date().getTime()}var xb,Mg,Ma,ci,wf,bb,Ng,Lg=se(()=>{bf();Zn();ht();xb=6e5,Mg=0,Ma=[],ci=[],wf=[];bb=function(){function e(t,n){var r=0,i=(t||"<unnamed>")+"."+Mg;Mg++,Ce(e,this,function(s){var u=null,c=0;s.scheduleEvent=function(f,d,p){var g=i+"."+c;c++,d&&(g+="-("+d+")");var m=g+"{"+r+"}";r++;var v={evt:null,tm:po(),id:m,isRunning:!1,isAborted:!1};return u?v.evt=te(v,u):v.evt=K(v),u=v,u.evt._schId=m,v.evt;function h(A){for(var Y=po(),q=Y-xb,oe=A.length,Z=0;Z<oe;){var ce=A[Z];if(ce&&ce.tm<q){var b=null;ce.abort?(b="Aborting ["+ce.id+"] due to Excessive runtime ("+(Y-ce.tm)+" ms)",ce.abort(b)):b="Removing ["+ce.id+"] due to Excessive runtime ("+(Y-ce.tm)+" ms)",a(b),A.splice(Z,1),oe--}else Z++}}function x(A,Y){var q=!1,oe=l(Ma,A);if(oe||(oe=l(wf,A),q=!0),oe){oe.to&&(clearTimeout(oe.to),oe.to=null);var Z=po()-oe.tm;Y?q?a("Timed out event ["+A+"] finally complete -- "+Z+" ms"):o("Promise ["+A+"] Complete -- "+Z+" ms"):(wf.push(oe),a("Event ["+A+"] Timed out and removed -- "+Z+" ms"))}else o("Failed to remove ["+A+"] from running queue");u&&u.id===A&&(u=null),h(Ma),h(ci),h(wf)}function C(A,Y){return function(q){return x(A,!0),Y&&Y(q),q}}function _(A,Y,q,oe){Y.then(function(Z){return Z instanceof _r?(o("Event ["+A+"] returned a promise -- waiting"),_(A,Z,q,oe),Z):C(A,q)(Z)},C(A,oe))}function y(A,Y){var q=A.id;return new _r(function(oe,Z){o("Event ["+q+"] Starting -- waited for "+(A.wTm||"--")+" ms"),A.isRunning=!0,A.abort=function(b){A.abort=null,A.isAborted=!0,x(q,!1),Z(new Error(b))};var ce=Y(q);ce instanceof _r?(p&&(A.to=setTimeout(function(){x(q,!1),Z(new Error("Timed out after ["+p+"] ms"))},p)),_(q,ce,function(b){o("Event ["+q+"] Resolving after "+(po()-A.tm)+" ms"),oe(b)},Z)):(o("Promise ["+q+"] Auto completed as the start action did not return a promise"),oe())})}function K(A){var Y=po();return A.wTm=Y-A.tm,A.tm=Y,A.isAborted?_r.reject(new Error("["+g+"] was aborted")):(Ma.push(A),y(A,f))}function te(A,Y){var q=new _r(function(oe,Z){var ce=po()-Y.tm,b=Y.id;o("["+g+"] is waiting for ["+b+":"+ce+" ms] to complete before starting -- ["+ci.length+"] waiting and ["+Ma.length+"] running"),A.abort=function(E){A.abort=null,l(ci,g),A.isAborted=!0,Z(new Error(E))},Y.evt.then(function(E){l(ci,g),K(A).then(oe,Z)},function(E){l(ci,g),K(A).then(oe,Z)})});return ci.push(A),q}};function l(f,d){for(var p=0;p<f.length;p++)if(f[p].id===d)return f.splice(p,1)[0];return null}});function o(s){var u=on();u&&u.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+s)}function a(s){n&&n.warnToConsole("ESPromiseScheduler["+i+"] "+s)}}return e.incomplete=function(){return Ma},e.waitingToStart=function(){return ci},e}(),Ng=bb});var Ug,Og=se(()=>{Zn();Fa();Ug=function(){function e(t){var n=this,r={},i=[],o=[];t&&o.push(t);function a(l,f){var d,p=r[l];if(p&&(d=p[f]),!d&&d!==null){if(qe(l)&&qe(f))if(o.length>0){for(var g=0;g<o.length;g++)if(o[g].handleField(l,f)){d={canHandle:!0,fieldHandler:o[g]};break}}else i.length===0&&(d={canHandle:!0});if(!d&&d!==null){d=null;for(var g=0;g<i.length;g++)if(i[g].handleField(l,f)){d={canHandle:!0,handler:i[g],fieldHandler:null};break}}p||(p=r[l]={}),p[f]=d}return d}n.addSanitizer=function(l){l&&(i.push(l),r={})},n.addFieldSanitizer=function(l){l&&(o.push(l),r={})},n.handleField=function(l,f){var d=a(l,f);return d?d.canHandle:!1},n.value=function(l,f,d,p){var g=a(l,f);if(g&&g.canHandle){if(!g||!g.canHandle)return null;if(g.handler)return g.handler.value(l,f,d,p);if(!qe(f)||fe(d)||d==="")return null;var m=null,v=pn(d);if((v&8192)===8192){var h=v&-8193;if(m=d,!rt(m.value)||h!==1&&h!==2&&h!==3&&(h&4096)!==4096)return null}else v===1||v===2||v===3||(v&4096)===4096?m=u(l,f,d):v===4&&(m=u(l,f,p?JSON.stringify(d):d));if(m)return s(g,l,f,v,m,p)}return null},n.property=function(l,f,d,p){var g=a(l,f);if(!g||!g.canHandle||!qe(f)||fe(d)||!rt(d.value))return null;var m=pn(d.value);return m===0?null:s(g,l,f,m,d,p)};function s(l,f,d,p,g,m){if(l.handler)return l.handler.property(f,d,g,m);if(!fe(g.kind)){if((p&4096)===4096||!lo(g.kind))return null;g.value=g.value.toString()}return c(l.fieldHandler,f,d,p,g)}function u(l,f,d){return rt(d)?{value:d}:null}function c(l,f,d,p,g){if(g&&l){var m=l.getSanitizer(f,d,p,g.kind,g.propertyType);if(m)if(p===4){var v={},h=g.value;Me(h,function(C,_){var y=f+"."+d;if(rt(_)){var K=u(y,C,_);K=c(l,y,C,pn(_),K),K&&(v[C]=K.value)}}),g.value=v}else{var x={path:f,name:d,type:p,prop:g,sanitizer:n};g=m.call(n,x)}}return g}}return e.getFieldType=pn,e}()});var Hg={};el(Hg,{AppInsightsCore:()=>Rg,BaseCore:()=>kg,BaseTelemetryPlugin:()=>ai,CoreUtils:()=>Ag,DiagnosticLogger:()=>Zt,ESPromise:()=>_r,ESPromiseScheduler:()=>Ng,EventHelper:()=>Kl,EventLatency:()=>wg,EventPersistence:()=>Cg,EventPropertyType:()=>Sg,EventsDiscardedReason:()=>un,FullVersionString:()=>tr,InternalAppInsightsCore:()=>Ta,InternalBaseCore:()=>si,LoggingSeverity:()=>uf,MinChannelPriorty:()=>rl,NotificationManager:()=>Ea,PerfEvent:()=>ei,PerfManager:()=>ca,ProcessTelemetryContext:()=>nf,TraceLevel:()=>Ig,Undefined:()=>tt,Utils:()=>Pg,ValueKind:()=>bg,ValueSanitizer:()=>Ug,Version:()=>su,_ExtendedInternalMessageId:()=>Eg,_InternalLogMessage:()=>Zr,_InternalMessageId:()=>_a,__getRegisteredEvents:()=>Vl,_throwInternal:()=>Ve,addEventHandler:()=>Cr,addEventListeners:()=>Js,addPageHideEventListener:()=>ro,addPageShowEventListener:()=>io,addPageUnloadEventListener:()=>ii,areCookiesSupported:()=>dn,arrForEach:()=>J,arrIndexOf:()=>at,arrMap:()=>Wr,arrReduce:()=>Kr,attachEvent:()=>to,cookieAvailable:()=>dn,createCookieMgr:()=>Qn,createEnumStyle:()=>Et,createGuid:()=>hf,createProcessTelemetryContext:()=>zt,createTraceParent:()=>$l,createUniqueNamespace:()=>fn,createUnloadHandlerContainer:()=>oi,dateNow:()=>st,deleteCookie:()=>vf,detachEvent:()=>no,disableCookies:()=>df,disallowsSameSiteNone:()=>Zi,doPerf:()=>Xe,dumpObj:()=>Be,eventOff:()=>ri,eventOn:()=>ni,extend:()=>Tr,findW3cTraceParent:()=>Zl,formatTraceParent:()=>Yl,generateW3CId:()=>Ir,getCommonSchemaMetaData:()=>ka,getConsole:()=>ia,getCookie:()=>gf,getCookieValue:()=>mf,getCrypto:()=>oa,getDocument:()=>Ht,getExceptionName:()=>Gr,getFieldValueType:()=>pn,getGlobal:()=>on,getGlobalInst:()=>je,getHistory:()=>Al,getIEVersion:()=>Rl,getISOString:()=>Jt,getJSON:()=>$i,getLocation:()=>$r,getMsCrypto:()=>aa,getNavigator:()=>Kt,getPerformance:()=>Qi,getSetValue:()=>Zo,getTenantId:()=>Aa,getTime:()=>Tt,getWindow:()=>Tn,hasDocument:()=>Us,hasHistory:()=>Os,hasJSON:()=>Jr,hasNavigator:()=>ra,hasOwnProperty:()=>En,hasWindow:()=>na,isArray:()=>me,isArrayValid:()=>uu,isBeaconsSupported:()=>mr,isBoolean:()=>Vn,isChromium:()=>cu,isDate:()=>ji,isDocumentObjectAvailable:()=>Pa,isError:()=>Vr,isFetchSupported:()=>sa,isFunction:()=>we,isIE:()=>cn,isLatency:()=>Ra,isNotTruthy:()=>Vi,isNullOrUndefined:()=>fe,isNumber:()=>Ut,isObject:()=>gt,isReactNative:()=>Xn,isSampledFlag:()=>Jl,isString:()=>qe,isTruthy:()=>Wi,isTypeof:()=>Bi,isUint8ArrayAvailable:()=>ff,isUndefined:()=>Te,isValidSpanId:()=>uo,isValidTraceId:()=>so,isValidTraceParent:()=>eu,isValueAssigned:()=>rt,isValueKind:()=>lo,isWindowObjectAvailable:()=>lf,isXhrSupported:()=>Ji,mergeEvtNamespace:()=>$n,newGuid:()=>oo,newId:()=>xr,normalizeJsName:()=>qr,objCreate:()=>In,objDefineAccessors:()=>Wt,objForEachKey:()=>Me,objFreeze:()=>Ot,objKeys:()=>It,objSeal:()=>pl,openXhr:()=>lu,optimizeObject:()=>Wn,parseTraceParent:()=>wa,perfNow:()=>ao,proxyAssign:()=>vl,proxyFunctionAs:()=>gr,proxyFunctions:()=>Xr,random32:()=>ln,randomValue:()=>ti,removeEventHandler:()=>$s,removeEventListeners:()=>Sr,removePageHideEventListener:()=>xa,removePageShowEventListener:()=>ba,removePageUnloadEventListener:()=>ya,safeGetCookieMgr:()=>wr,safeGetLogger:()=>ua,sanitizeProperty:()=>Da,setCookie:()=>pf,setEnableEnvMocks:()=>Pl,setProcessTelemetryTimings:()=>fo,setValue:()=>ut,strContains:()=>Qe,strEndsWith:()=>jr,strFunction:()=>Qt,strObject:()=>et,strPrototype:()=>nt,strStartsWith:()=>qi,strTrim:()=>Ne,strUndefined:()=>tt,throwError:()=>mt,toISOString:()=>Jt,useXDomainRequest:()=>Yr});var li=se(()=>{Tg();Dg();Fg();bf();Lg();Og();Zn();Fa()});var fi,fu,du,Sf=se(()=>{fi="REAL_TIME",fu="NEAR_REAL_TIME",du="BEST_EFFORT"});var pu,zg,vu,Bg,Cf,qg,jg,Vg,If,Ef,gu,Wg,Tf,Kg,_f,mu,Pf,hu,yu,xu,Na,Af,Gg,vo,bu=se(()=>{pu="POST",zg="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",vu="drop",Bg="send",Cf="requeue",qg="rspFail",jg="oth",Vg="no-cache, no-store",If="application/x-json-stream",Ef="cache-control",gu="content-type",Wg="kill-tokens",Tf="kill-duration",Kg="kill-duration-seconds",_f="time-delta-millis",mu="client-version",Pf="client-id",hu="time-delta-to-apply-millis",yu="upload-time",xu="apikey",Na="AuthMsaDeviceTicket",Af="AuthXToken",Gg="NoResponseBody",vo="msfpc"});function Qg(e){var t=(e.ext||{}).intweb;return t&&rt(t[vo])?t[vo]:null}function Xg(e){for(var t=null,n=0;t===null&&n<e.length;n++)t=Qg(e[n]);return t}var go,Rf=se(()=>{li();bu();go=function(){function e(t,n){var r=n?[].concat(n):[],i=this,o=Xg(r);i.iKey=function(){return t},i.Msfpc=function(){return o||""},i.count=function(){return r.length},i.events=function(){return r},i.addEvent=function(a){return a?(r.push(a),o||(o=Qg(a)),!0):!1},i.split=function(a,s){var u;if(a<r.length){var c=r.length-a;fe(s)||(c=s<c?s:c),u=r.splice(a,c),o=Xg(r)}return new e(t,u)}}return e.create=function(t,n){return new e(t,n)},e}()});function Jg(e,t,n,r){if(r&&e){var i=ka(r.value,r.kind,r.propertyType);if(i>-1){var o=e[$g];o||(o=e[$g]={f:{}});var a=o[wu];if(a||(a=o[wu]={}),t)for(var s=0;s<t.length;s++){var u=t[s];a[u]||(a[u]={f:{}});var c=a[u][wu];c||(c=a[u][wu]={}),a=c}a=a[n]={},me(r.value)?a.a={t:i}:a.t=i}}}var wb,Sb,Yg,Zg,Cb,$g,wu,Ib,em,tm=se(()=>{li();Rf();ht();wb=20,Sb=3984588,Yg=65e3,Zg=2e6,Cb=Math.min(Zg,Yg),$g="metadata",wu="f",Ib=/\./,em=function(){function e(t,n,r,i){var o="data",a="baseData",s="ext",u=!!i,c=!0,l=n,f={};Ce(e,this,function(d){d.createPayload=function(m,v,h,x,C,_){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:m,isTeardown:v,isSync:h,isBeacon:x,sendType:_,sendReason:C}},d.appendPayload=function(m,v,h){var x=m&&v&&!m.overflow;return x&&Xe(t,function(){return"Serializer:appendPayload"},function(){for(var C=v.events(),_=m.payloadBlob,y=m.numEvents,K=!1,te=[],A=[],Y=m.isBeacon,q=Y?Yg:Sb,oe=Y?Cb:Zg,Z=0,ce=0;Z<C.length;){var b=C[Z];if(b){if(y>=h){m.overflow=v.split(Z);break}var E=d.getEventBlob(b);if(E&&E.length<=oe){var M=E.length,H=_.length;if(H+M>q){m.overflow=v.split(Z);break}_&&(_+=`
`),_+=E,ce++,ce>wb&&(_.substr(0,1),ce=0),K=!0,y++}else E?te.push(b):A.push(b),C.splice(Z,1),Z--}Z++}if(te&&te.length>0&&m.sizeExceed.push(go.create(v.iKey(),te)),A&&A.length>0&&m.failedEvts.push(go.create(v.iKey(),A)),K){m.batches.push(v),m.payloadBlob=_,m.numEvents=y;var X=v.iKey();at(m.apiKeys,X)===-1&&m.apiKeys.push(X)}},function(){return{payload:m,theBatch:{iKey:v.iKey(),evts:v.events()},max:h}}),x},d.getEventBlob=function(m){try{return Xe(t,function(){return"Serializer.getEventBlob"},function(){var v={};v.name=m.name,v.time=m.time,v.ver=m.ver,v.iKey="o:"+Aa(m.iKey);var h={},x=m[s];x&&(v[s]=h,Me(x,function(y,K){var te=h[y]={};g(K,te,"ext."+y,!0,null,null,!0)}));var C=v[o]={};C.baseType=m.baseType;var _=C[a]={};return g(m.baseData,_,a,!1,[a],function(y,K,te){Jg(h,y,K,te)},c),g(m.data,C,o,!1,[],function(y,K,te){Jg(h,y,K,te)},c),JSON.stringify(v)},function(){return{item:m}})}catch{return null}};function p(m,v){var h=f[m];return h===void 0&&(m.length>=7&&(h=qi(m,"ext.metadata")||qi(m,"ext.web")),f[m]=h),h}function g(m,v,h,x,C,_,y){Me(m,function(K,te){var A=null;if(te||rt(te)){var Y=h,q=K,oe=C,Z=v;if(u&&!x&&Ib.test(K)){var ce=K.split("."),b=ce.length;if(b>1){oe&&(oe=oe.slice());for(var E=0;E<b-1;E++){var M=ce[E];Z=Z[M]=Z[M]||{},Y+="."+M,oe&&oe.push(M)}q=ce[b-1]}}var H=x&&p(Y,q);if(!H&&l&&l.handleField(Y,q)?A=l.value(Y,q,te,r):A=Da(q,te,r),A){var X=A.value;if(Z[q]=X,_&&_(oe,q,A),y&&typeof X=="object"&&!me(X)){var I=oe;I&&(I=I.slice(),I.push(q)),g(te,X,Y+"."+q,x,I,_,y)}}}})}})}return e}()});function rm(e){return!(e>=300&&e<500&&e!=408&&e!=429||e==501||e==505)}function Su(e){var t=0,n=nm*Eb,r=nm*Tb,i=Math.floor(Math.random()*(r-n))+n;return t=Math.pow(2,e)*i,Math.min(t,_b)}var Eb,Tb,nm,_b,Df=se(()=>{Eb=.8,Tb=1.2,nm=3e3,_b=6e5});var Pb,Ab,im,om=se(()=>{ht();li();Pb=1e3,Ab=function(){function e(){var t={};function n(r){var i=[];return r&&J(r,function(o){i.push(Ne(o))}),i}Ce(e,this,function(r){r.setKillSwitchTenants=function(i,o){if(i&&o)try{var a=n(i.split(","));if(o==="this-request-only")return a;for(var s=parseInt(o,10)*Pb,u=0;u<a.length;++u)t[a[u]]=st()+s}catch{return[]}return[]},r.isTenantKilled=function(i){var o=t,a=Ne(i);return o[a]!==void 0&&o[a]>st()?!0:(delete o[a],!1)}})}return e}(),im=Ab});var Rb,am,sm=se(()=>{ht();Rb=function(){function e(){var t=!0,n=!0,r=!0,i="use-collector-delta",o=!1;Ce(e,this,function(a){a.allowRequestSending=function(){return t},a.firstRequestSent=function(){r&&(r=!1,o||(t=!1))},a.shouldAddClockSkewHeaders=function(){return n},a.getClockSkewHeaderValue=function(){return i},a.setClockSkew=function(s){o||(s?(i=s,n=!0,o=!0):n=!1,t=!0)}})}return e}(),am=Rb});function pi(e,t,n){Ff[e]=t,n!==!1&&(Mf[t]=e)}function cm(e){try{return e.responseText}catch{}return""}function lm(e,t){var n=!1;if(e&&t){var r=It(e);if(r&&r.length>0)for(var i=t.toLowerCase(),o=0;o<r.length;o++){var a=r[o];if(a&&En(t,a)&&a.toLowerCase()===i){n=!0;break}}}return n}function mo(e,t,n,r){t&&n&&n.length>0&&(r&&Ff[t]?(e.hdrs[Ff[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}var di,kf,um,Db,Ff,Mf,fm,dm=se(()=>{li();tm();Df();om();sm();ht();bu();kf="sendAttempt",um="&"+Gg+"=true",Db=(di={},di[1]=Cf,di[100]=Cf,di[200]="sent",di[8004]=vu,di[8003]=vu,di),Ff={},Mf={};pi(Na,Na,!1);pi(mu,mu);pi(Pf,"Client-Id");pi(xu,xu);pi(hu,hu);pi(yu,yu);pi(Af,Af);fm=function(){function e(t,n,r,i,o){this._responseHandlers=[];var a="?cors=true&"+gu.toLowerCase()+"="+If,s=new im,u=!1,c=new am,l=!1,f=0,d,p,g,m=!0,v=[],h={},x=[],C=null,_=!1,y,K=!1,te=!1,A,Y;Ce(e,this,function(q){var oe=!0;q.initialize=function(w,D,F,O,ee){var ge;ee||(ee={}),a=w+a,te=Te(ee.avoidOptions)?!0:!ee.avoidOptions,g=D,y=D.getCookieMgr(),_=!g.config.disableEventTimings;var de=!!g.config.enableCompoundKey;d=F;var be=ee.valueSanitizer,pe=ee.stringifyObjects;Te(ee.enableCompoundKey)||(de=!!ee.enableCompoundKey),A=ee.xhrTimeout,Y=ee.disableXhrSync,l=!Xn(),C=new em(g,be,pe,de);var re=O,S=ee.alwaysUseXhrOverride?O:null,P=ee.alwaysUseXhrOverride?O:null;if(!O){m=!1;var N=$r();N&&N.protocol&&N.protocol.toLowerCase()==="file:"&&(oe=!1);var j=[];Xn()?j=[2,1]:j=[1,2,3];var ae=ee.transports;ae&&(Ut(ae)?j=[ae].concat(j):me(ae)&&(j=ae.concat(j))),O=Z(j,!1),re=Z(j,!0),O||d.diagLog().warnToConsole("No available transport to send events")}p=(ge={},ge[0]=O,ge[1]=re||Z([1,2,3],!0),ge[2]=S||Z([3,2],!0)||re||Z([1],!0),ge[3]=P||Z([2,3],!0)||re||Z([1],!0),ge)};function Z(w,D){for(var F=0,O=null,ee=0;O==null&&ee<w.length;)F=w[ee],F===1?Yr()?O=ce:Ji()&&(O=E):F===2&&sa(D)?O=b:l&&F===3&&mr()&&(O=H),ee++;return O?{_transport:F,_isSync:D,sendPOST:O}:null}q._getDbgPlgTargets=function(){return[p[0],s,C,p]};function ce(w,D,F){var O=new XDomainRequest;O.open(pu,w.urlString),w.timeout&&(O.timeout=w.timeout),O.onload=function(){var ee=cm(O);M(D,200,{},ee),qn(ee)},O.onerror=function(){M(D,400,{})},O.ontimeout=function(){M(D,500,{})},O.onprogress=function(){},F?O.send(w.data):o.set(function(){O.send(w.data)},0)}function b(w,D,F){var O,ee=w.urlString,ge=!1,de=!1,be=(O={body:w.data,method:pu},O[zg]=!0,O);F&&(be.keepalive=!0,w._sendReason===2&&(ge=!0,ee+=um)),oe&&(be.credentials="include"),w.headers&&It(w.headers).length>0&&(be.headers=w.headers),fetch(ee,be).then(function(pe){var re={},S="";pe.headers&&pe.headers.forEach(function(P,N){re[N]=P}),pe.body&&pe.text().then(function(P){S=P}),de||(de=!0,M(D,pe.status,re,S),qn(S))}).catch(function(pe){de||(de=!0,M(D,0,{}))}),ge&&!de&&(de=!0,M(D,200,{})),!de&&w.timeout>0&&o.set(function(){de||(de=!0,M(D,500,{}))},w.timeout)}function E(w,D,F){var O=w.urlString;function ee(pe,re,S){if(!pe[S]&&re&&re.getResponseHeader){var P=re.getResponseHeader(S);P&&(pe[S]=Ne(P))}return pe}function ge(pe){var re={};return pe.getAllResponseHeaders?re=Ze(pe.getAllResponseHeaders()):(re=ee(re,pe,_f),re=ee(re,pe,Tf),re=ee(re,pe,Kg)),re}function de(pe,re){M(D,pe.status,ge(pe),re)}F&&w.disableXhrSync&&(F=!1);var be=lu(pu,O,oe,!0,F,w.timeout);Me(w.headers,function(pe,re){be.setRequestHeader(pe,re)}),be.onload=function(){var pe=cm(be);de(be,pe),qn(pe)},be.onerror=function(){de(be)},be.ontimeout=function(){de(be)},be.send(w.data)}function M(w,D,F,O){try{w(D,F,O)}catch(ee){Ve(d.diagLog(),2,518,Be(ee))}}function H(w,D,F){var O=w,ee=200,ge=O._thePayload,de=w.urlString+um;try{var be=Kt();if(!be.sendBeacon(de,w.data))if(ge){var pe=[];J(ge.batches,function(re){if(pe&&re&&re.count()>0){for(var S=re.events(),P=0;P<S.length;P++)if(!be.sendBeacon(de,C.getEventBlob(S[P]))){pe.push(re.split(P));break}}else pe.push(re.split(0))}),kt(pe,8003,ge.sendType,!0)}else ee=0}catch(re){d.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+Be(re)),ee=0}finally{M(D,ee,{},"")}}function X(w){return w===2||w===3}function I(w){return K&&X(w)&&(w=2),w}q.addQueryStringParameter=function(w,D){for(var F=0;F<v.length;F++)if(v[F].name===w){v[F].value=D;return}v.push({name:w,value:D})},q.addHeader=function(w,D){h[w]=D},q.canSendRequest=function(){return z()&&c.allowRequestSending()},q.sendQueuedRequests=function(w,D){Te(w)&&(w=0),K&&(w=I(w),D=2),G(x,w,0)&&T(Q(),0,!1,w,D||0)},q.isCompletelyIdle=function(){return!u&&f===0&&x.length===0},q.setUnloading=function(w){K=w},q.addBatch=function(w){if(w&&w.count()>0){if(s.isTenantKilled(w.iKey()))return!1;x.push(w)}return!0},q.teardown=function(){x.length>0&&T(Q(),0,!0,2,2)},q.pause=function(){u=!0},q.resume=function(){u=!1,q.sendQueuedRequests(0,4)},q.sendSynchronousBatch=function(w,D,F){w&&w.count()>0&&(fe(D)&&(D=1),K&&(D=I(D),F=2),T([w],0,!1,D,F||0))};function z(){return!u&&f<n}function Q(){var w=x;return x=[],w}function G(w,D,F){var O=!1;return w&&w.length>0&&!u&&p[D]&&C&&(O=D!==0||z()&&(F>0||c.allowRequestSending())),O}function le(w){var D={};return w&&J(w,function(F,O){D[O]={iKey:F.iKey(),evts:F.events()}}),D}function T(w,D,F,O,ee){if(!(!w||w.length===0)){if(u){kt(w,1,O);return}O=I(O);try{var ge=w,de=O!==0;Xe(g,function(){return"HttpManager:_sendBatches"},function(be){be&&(w=w.slice(0));for(var pe=[],re=null,S=Tt(),P=p[O]||(de?p[1]:p[0]),N=(K||X(O)||P&&P._transport===3)&&L();G(w,O,D);){var j=w.shift();j&&j.count()>0&&(s.isTenantKilled(j.iKey())?pe.push(j):(re=re||C.createPayload(D,F,de,N,ee,O),C.appendPayload(re,j,t)?re.overflow!==null&&(w=[re.overflow].concat(w),re.overflow=null,$(re,S,Tt(),ee),S=Tt(),re=null):($(re,S,Tt(),ee),S=Tt(),w=[j].concat(w),re=null)))}re&&$(re,S,Tt(),ee),w.length>0&&(x=w.concat(x)),kt(pe,8004,O)},function(){return{batches:le(ge),retryCount:D,isTeardown:F,isSynchronous:de,sendReason:ee,useSendBeacon:X(O),sendType:O}},!de)}catch(be){Ve(d.diagLog(),2,48,"Unexpected Exception sending batch: "+Be(be))}}}function R(w,D){var F={url:a,hdrs:{},useHdrs:!1};D?(F.hdrs=Tr(F.hdrs,h),F.useHdrs=It(F.hdrs).length>0):Me(h,function(be,pe){Mf[be]?mo(F,Mf[be],pe,!1):(F.hdrs[be]=pe,F.useHdrs=!0)}),mo(F,Pf,"NO_AUTH",D),mo(F,mu,tr,D);var O="";J(w.apiKeys,function(be){O.length>0&&(O+=","),O+=be}),mo(F,xu,O,D),mo(F,yu,st().toString(),D);var ee=rn(w);if(rt(ee)&&(F.url+="&ext.intweb.msfpc="+ee),c.shouldAddClockSkewHeaders()&&mo(F,hu,c.getClockSkewHeaderValue(),D),g.getWParam){var ge=g.getWParam();ge>=0&&(F.url+="&w="+ge)}for(var de=0;de<v.length;de++)F.url+="&"+v[de].name+"="+v[de].value;return F}function L(){return!m&&l&&mr()}function B(w,D,F){w[D]=w[D]||{},w[D][d.identifier]=F}function $(w,D,F,O){if(w&&w.payloadBlob&&w.payloadBlob.length>0){var ee=!!q.sendHook,ge=p[w.sendType];!X(w.sendType)&&w.isBeacon&&w.sendReason===2&&(ge=p[2]||p[3]||ge);var de=te;(w.isBeacon||ge._transport===3)&&(de=!1);var be=R(w,de);de=de||be.useHdrs;var pe=Tt();Xe(g,function(){return"HttpManager:_doPayloadSend"},function(){for(var re=0;re<w.batches.length;re++)for(var S=w.batches[re],P=S.events(),N=0;N<P.length;N++){var j=P[N];if(_){var ae=j.timings=j.timings||{};B(ae,"sendEventStart",pe),B(ae,"serializationStart",D),B(ae,"serializationCompleted",F)}j[kf]>0?j[kf]++:j[kf]=1}kt(w.batches,1e3+(O||0),w.sendType,!0);var ue={data:w.payloadBlob,urlString:be.url,headers:be.hdrs,_thePayload:w,_sendReason:O,timeout:A};Te(Y)||(ue.disableXhrSync=!!Y),de&&(lm(ue.headers,Ef)||(ue.headers[Ef]=Vg),lm(ue.headers,gu)||(ue.headers[gu]=If));var Ge=null;ge&&(Ge=function(vt){c.firstRequestSent();var Mt=function(Zc,zx){ne(Zc,zx,w,O)},wn=w.isTeardown||w.isSync;try{ge.sendPOST(vt,Mt,wn),q.sendListener&&q.sendListener(ue,vt,wn,w.isBeacon)}catch(Zc){d.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+Be(Zc)),M(Mt,0,{})}}),Xe(g,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Ge)if(w.sendType===0&&f++,ee&&!w.isBeacon&&ge._transport!==3){var vt={data:ue.data,urlString:ue.urlString,headers:Tr({},ue.headers),timeout:ue.timeout,disableXhrSync:ue.disableXhrSync},Mt=!1;Xe(g,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{q.sendHook(vt,function(wn){Mt=!0,!m&&!wn._thePayload&&(wn._thePayload=wn._thePayload||ue._thePayload,wn._sendReason=wn._sendReason||ue._sendReason),Ge(wn)},w.isSync||w.isTeardown)}catch{Mt||Ge(ue)}})}else Ge(ue)})},function(){return{thePayload:w,serializationStart:D,serializationCompleted:F,sendReason:O}},w.isSync)}w.sizeExceed&&w.sizeExceed.length>0&&kt(w.sizeExceed,8003,w.sendType),w.failedEvts&&w.failedEvts.length>0&&kt(w.failedEvts,8002,w.sendType)}function ie(w,D){_&&J(w,function(F){var O=F.timings=F.timings||{};B(O,"sendEventCompleted",D)})}function ne(w,D,F,O){var ee=9e3,ge=null,de=!1,be=!1;try{var pe=!0;if(typeof w!==tt){if(D){c.setClockSkew(D[_f]);var re=D[Tf]||D["kill-duration-seconds"];J(s.setKillSwitchTenants(D[Wg],re),function(P){J(F.batches,function(N){if(N.iKey()===P){ge=ge||[];var j=N.split(0);F.numEvents-=j.count(),ge.push(j)}})})}if(w==200||w==204){ee=200;return}(!rm(w)||F.numEvents<=0)&&(pe=!1),ee=9e3+w%1e3}if(pe){ee=100;var S=F.retryCnt;F.sendType===0&&(S<r?(de=!0,Ue(function(){F.sendType===0&&f--,T(F.batches,S+1,F.isTeardown,K?2:F.sendType,5)},K,Su(S))):(be=!0,K&&(ee=8001)))}}finally{de||(c.setClockSkew(),xe(F,ee,O,be)),kt(ge,8004,F.sendType)}}function xe(w,D,F,O){try{O&&d._backOffTransmission(),D===200&&(!O&&!w.isSync&&d._clearBackOff(),De(w.batches)),kt(w.batches,D,w.sendType,!0)}finally{w.sendType===0&&(f--,F!==5&&q.sendQueuedRequests(w.sendType,F))}}function De(w){if(_){var D=Tt();J(w,function(F){F&&F.count()>0&&ie(F.events(),D)})}}function Ue(w,D,F){D?w():o.set(w,F)}function Ze(w){var D={};if(qe(w)){var F=Ne(w).split(/[\r\n]+/);J(F,function(O){if(O){var ee=O.indexOf(": ");if(ee!==-1){var ge=Ne(O.substring(0,ee)).toLowerCase(),de=Ne(O.substring(ee+1));D[ge]=de}else D[Ne(O)]=1}})}return D}function rn(w){for(var D=0;D<w.batches.length;D++){var F=w.batches[D].Msfpc();if(F)return encodeURIComponent(F)}return""}function qn(w){var D=q._responseHandlers;try{for(var F=0;F<D.length;F++)try{D[F](w)}catch(ee){Ve(d.diagLog(),1,519,"Response handler failed: "+ee)}if(w){var O=JSON.parse(w);rt(O.webResult)&&rt(O.webResult[vo])&&y.set("MSFPC",O.webResult[vo],365*86400)}}catch{}}function kt(w,D,F,O){if(w&&w.length>0&&i){var ee=i[Ft(D)];if(ee){var ge=F!==0;Xe(g,function(){return"HttpManager:_sendBatchesNotification"},function(){Ue(function(){try{ee.call(i,w,D,ge,F)}catch(de){Ve(d.diagLog(),1,74,"send request notification failed: "+de)}},O||ge,0)},function(){return{batches:le(w),reason:D,isSync:ge,sendSync:O,sendType:F}},!ge)}}}function Ft(w){var D=Db[w];return rt(D)||(D=jg,w>=9e3&&w<=9999?D=qg:w>=8e3&&w<=8999?D=vu:w>=1e3&&w<=1999&&(D=Bg)),D}})}return e}()});function kb(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout(e,t,n)}function Fb(e){clearTimeout(e)}function La(e,t){return{set:e||kb,clear:t||Fb}}var pm=se(()=>{});var Mb,vm,Nb,gm,mm,Lb,hm,Ub,vi,Cu,ym,xm,Ob,Hb,bm,wm=se(()=>{Nt();ht();li();Sf();Rf();dm();Df();bu();pm();Mb=.25,vm=500,Nb=20,gm=6,mm=2,Lb=4,hm=2,Ub=1,vi="eventsDiscarded",Cu="overrideInstrumentationKey",ym="maxEventRetryAttempts",xm="maxUnloadEventRetryAttempts",Ob="addUnloadCb",Hb=function(e){an(t,e);function t(){var n=e.call(this)||this;n.identifier="PostChannel",n.priority=1011,n.version="3.2.3";var r,i=!1,o=[],a=null,s=!1,u=0,c=500,l=0,f=1e4,d={},p=fi,g=null,m=null,v=0,h=0,x,C,_={},y,K,te=-1,A,Y=!0,q=!1,oe=gm,Z=mm,ce,b;return Ce(t,n,function(E,M){T(),E._getDbgPlgTargets=function(){return[C]},E.initialize=function(S,P,N){Xe(P,function(){return"PostChannel:initialize"},function(){var j=P;M.initialize(S,P,N);try{var ae=!!P[Ob];ce=$n(fn(E.identifier),P.evtNamespace&&P.evtNamespace());var ue=E._getTelCtx();S.extensionConfig[E.identifier]=S.extensionConfig[E.identifier]||{},r=ue.getExtCfg(E.identifier),b=La(r.setTimeoutOverride,r.clearTimeoutOverride),Y=!r.disableOptimizeObj&&cu(),H(j),r.eventsLimitInMem>0&&(f=r.eventsLimitInMem),r.immediateEventLimit>0&&(c=r.immediateEventLimit),r.autoFlushEventsLimit>0&&(y=r.autoFlushEventsLimit),Ut(r[ym])&&(oe=r[ym]),Ut(r[xm])&&(Z=r[xm]),re(),r.httpXHROverride&&r.httpXHROverride.sendPOST&&(x=r.httpXHROverride),rt(S.anonCookieName)&&C.addQueryStringParameter("anoncknm",S.anonCookieName),C.sendHook=r.payloadPreprocessor,C.sendListener=r.payloadListener;var Ge=r.overrideEndpointUrl?r.overrideEndpointUrl:S.endpointUrl;E._notificationManager=S.extensionConfig.NotificationManager,C.initialize(Ge,E.core,E,x,r);var vt=S.disablePageUnloadEvents||[];ii(X,vt,ce),ro(X,vt,ce),io(I,S.disablePageShowEvents,ce)}catch(Mt){throw E.setInitialized(!1),Mt}},function(){return{coreConfig:S,core:P,extensions:N}})},E.processTelemetry=function(S,P){fo(S,E.identifier),P=E._getTelCtx(P);var N=P.getExtCfg(E.identifier),j=!!r.disableTelemetry;N&&(j=j||!!N.disableTelemetry);var ae=S;!j&&!i&&(r[Cu]&&(ae.iKey=r[Cu]),N&&N[Cu]&&(ae.iKey=N[Cu]),z(ae,!0),q?B(2,2):le()),E.processNext(ae,P)},E._doTeardown=function(S,P){B(2,2),i=!0,C.teardown(),ya(null,ce),xa(null,ce),ba(null,ce),T()};function H(S){var P=S.getWParam;S.getWParam=function(){var N=0;return r.ignoreMc1Ms0CookieProcessing&&(N=N|2),N|P()}}function X(S){var P=S||Tn().event;P.type!=="beforeunload"&&(q=!0,C.setUnloading(q)),B(2,2)}function I(S){q=!1,C.setUnloading(q)}function z(S,P){if(S.sendAttempt||(S.sendAttempt=0),S.latency||(S.latency=1),S.ext&&S.ext.trace&&delete S.ext.trace,S.ext&&S.ext.user&&S.ext.user.id&&delete S.ext.user.id,Y&&(S.ext=Wn(S.ext),S.baseData&&(S.baseData=Wn(S.baseData)),S.data&&(S.data=Wn(S.data))),S.sync){if(v||s)S.latency=3,S.sync=!1;else if(C){Y&&(S=Wn(S)),C.sendSynchronousBatch(go.create(S.iKey,[S]),S.sync===!0?1:S.sync,3);return}}var N=S.latency,j=l,ae=f;N===4&&(j=u,ae=c);var ue=!1;if(j<ae)ue=!xe(S,P);else{var Ge=1,vt=Nb;N===4&&(Ge=4,vt=1),ue=!0,De(S.iKey,S.latency,Ge,vt)&&(ue=!xe(S,P))}ue&&F(vi,[S],un.QueueFull)}E.setEventQueueLimits=function(S,P){f=S>0?S:1e4,y=P>0?P:0,re();var N=l>S;if(!N&&K>0)for(var j=1;!N&&j<=3;j++){var ae=_[j];ae&&ae.batches&&J(ae.batches,function(ue){ue&&ue.count()>=K&&(N=!0)})}ne(!0,N)},E.pause=function(){L(),s=!0,C.pause()},E.resume=function(){s=!1,C.resume(),le()},E.addResponseHandler=function(S){C._responseHandlers.push(S)},E._loadTransmitProfiles=function(S){kt(),Me(S,function(P,N){var j=N.length;if(j>=2){var ae=j>2?N[2]:0;if(N.splice(0,j-2),N[1]<0&&(N[0]=-1),N[1]>0&&N[0]>0){var ue=N[0]/N[1];N[0]=Math.ceil(ue)*N[1]}ae>=0&&N[1]>=0&&ae>N[1]&&(ae=N[1]),N.push(ae),d[P]=N}})},E.flush=function(S,P,N){if(S===void 0&&(S=!0),!s)if(N=N||1,S)a==null?(L(),Ze(1,0,N),a=R(function(){a=null,rn(P,N)},0)):o.push(P);else{var j=L();Q(1,1,N),P?.(),j&&le()}},E.setMsaAuthTicket=function(S){C.addHeader(Na,S)},E.hasEvents=G,E._setTransmitProfile=function(S){p!==S&&d[S]!==void 0&&(L(),p=S,le())};function Q(S,P,N){var j=Ze(S,P,N);return C.sendQueuedRequests(P,N),j}function G(){return l>0}function le(){if(te>=0&&Ze(te,0,A)&&C.sendQueuedRequests(0,A),u>0&&!m&&!s){var S=d[p][2];S>=0&&(m=R(function(){m=null,Q(4,0,1),le()},S))}var P=d[p][1];!g&&!a&&P>=0&&!s&&(G()?g=R(function(){g=null,Q(h===0?3:1,0,1),h++,h%=2,le()},P):h=0)}E._backOffTransmission=function(){v<Lb&&(v++,L(),le())},E._clearBackOff=function(){v&&(v=0,L(),le())};function T(){r=null,i=!1,o=[],a=null,s=!1,u=0,c=500,l=0,f=1e4,d={},p=fi,g=null,m=null,v=0,h=0,x=null,_={},y=void 0,K=0,te=-1,A=null,Y=!0,q=!1,oe=gm,Z=mm,ce=null,b=La(),C=new fm(vm,hm,Ub,{requeue:w,send:ee,sent:ge,drop:de,rspFail:be,oth:pe},b),Ft(),$(),re()}function R(S,P){P===0&&v&&(P=1);var N=1e3;return v&&(N=Su(v-1)),b.set(S,P*N)}function L(){return g!==null?(b.clear(g),g=null,h=0,!0):!1}function B(S,P){L(),a&&(b.clear(a),a=null),s||Q(1,S,P)}function $(){_[4]={batches:[],iKeyMap:{}},_[3]={batches:[],iKeyMap:{}},_[2]={batches:[],iKeyMap:{}},_[1]={batches:[],iKeyMap:{}}}function ie(S,P,N){var j=_[P];j||(P=1,j=_[P]);var ae=j.iKeyMap[S];return!ae&&N&&(ae=go.create(S),j.batches.push(ae),j.iKeyMap[S]=ae),ae}function ne(S,P){C.canSendRequest()&&!v&&(y>0&&l>y&&(P=!0),P&&a==null&&E.flush(S,null,20))}function xe(S,P){Y&&(S=Wn(S));var N=S.latency,j=ie(S.iKey,N,!0);return j.addEvent(S)?(N!==4?(l++,P&&S.sendAttempt===0&&ne(!S.sync,K>0&&j.count()>=K)):u++,!0):!1}function De(S,P,N,j){for(;N<=P;){var ae=ie(S,P,!0);if(ae&&ae.count()>0){var ue=ae.split(0,j),Ge=ue.count();if(Ge>0)return N===4?u-=Ge:l-=Ge,O(vi,[ue],un.QueueFull),!0}N++}return Ue(),!1}function Ue(){for(var S=0,P=0,N=function(ae){var ue=_[ae];ue&&ue.batches&&J(ue.batches,function(Ge){ae===4?S+=Ge.count():P+=Ge.count()})},j=1;j<=4;j++)N(j);l=P,u=S}function Ze(S,P,N){var j=!1,ae=P===0;return!ae||C.canSendRequest()?Xe(E.core,function(){return"PostChannel._queueBatches"},function(){for(var ue=[],Ge=4;Ge>=S;){var vt=_[Ge];vt&&vt.batches&&vt.batches.length>0&&(J(vt.batches,function(Mt){C.addBatch(Mt)?j=j||Mt&&Mt.count()>0:ue=ue.concat(Mt.events()),Ge===4?u-=Mt.count():l-=Mt.count()}),vt.batches=[],vt.iKeyMap={}),Ge--}ue.length>0&&F(vi,ue,un.KillSwitch),j&&te>=S&&(te=-1,A=0)},function(){return{latency:S,sendType:P,sendReason:N}},!ae):(te=te>=0?Math.min(te,S):S,A=Math.max(A,N)),j}function rn(S,P){Q(1,0,P),Ue(),qn(function(){S&&S(),o.length>0?a=R(function(){a=null,rn(o.shift(),P)},0):(a=null,le())})}function qn(S){C.isCompletelyIdle()?S():a=R(function(){a=null,qn(S)},Mb)}function kt(){L(),Ft(),p=fi,le()}function Ft(){d={},d[fi]=[2,1,0],d[fu]=[6,3,0],d[du]=[18,9,0]}function w(S,P){var N=[],j=oe;q&&(j=Z),J(S,function(ae){ae&&ae.count()>0&&J(ae.events(),function(ue){ue&&(ue.sync&&(ue.latency=4,ue.sync=!1),ue.sendAttempt<j?(fo(ue,E.identifier),z(ue,!1)):N.push(ue))})}),N.length>0&&F(vi,N,un.NonRetryableStatus),q&&B(2,2)}function D(S,P){var N=E._notificationManager||{},j=N[S];if(j)try{j.apply(N,P)}catch(ae){Ve(E.diagLog(),1,74,S+" notification failed: "+ae)}}function F(S,P){for(var N=[],j=2;j<arguments.length;j++)N[j-2]=arguments[j];P&&P.length>0&&D(S,[P].concat(N))}function O(S,P){for(var N=[],j=2;j<arguments.length;j++)N[j-2]=arguments[j];P&&P.length>0&&J(P,function(ae){ae&&ae.count()>0&&D(S,[ae.events()].concat(N))})}function ee(S,P,N){S&&S.length>0&&D("eventsSendRequest",[P>=1e3&&P<=1999?P-1e3:0,N!==!0])}function ge(S,P){O("eventsSent",S,P),le()}function de(S,P){O(vi,S,P>=8e3&&P<=8999?P-8e3:un.Unknown)}function be(S){O(vi,S,un.NonRetryableStatus),le()}function pe(S,P){O(vi,S,un.Unknown),le()}function re(){!r||!r.disableAutoBatchFlushLimit?K=Math.max(vm*(hm+1),f/6):K=0}Wt(E,"_setTimeoutOverride",function(){return b.set},function(S){b=La(S,b.clear)}),Wt(E,"_clearTimeoutOverride",function(){return b.clear},function(S){b=La(b.set,S)})}),n}return t}(ai),bm=Hb});var Sm={};el(Sm,{BE_PROFILE:()=>du,NRT_PROFILE:()=>fu,PostChannel:()=>bm,RT_PROFILE:()=>fi});var Cm=se(()=>{wm();Sf()});var AC={};el(AC,{activate:()=>_C,deactivate:()=>PC});module.exports=Kx(AC);var th=Sn(require("vscode")),nh=Object.defineProperty,Im=Object.getOwnPropertySymbols,zb=Object.prototype.hasOwnProperty,Bb=Object.prototype.propertyIsEnumerable,Em=(e,t,n)=>t in e?nh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,An=(e,t)=>{for(var n in t||(t={}))zb.call(t,n)&&Em(e,n,t[n]);if(Im)for(var n of Im(t))Bb.call(t,n)&&Em(e,n,t[n]);return e},k=(e,t)=>()=>(e&&(t=e(e=0)),t),qb=(e,t)=>{for(var n in t)nh(e,n,{get:t[n],enumerable:!0})},Do=(e,t,n)=>new Promise((r,i)=>{var o=u=>{try{s(n.next(u))}catch(c){i(c)}},a=u=>{try{s(n.throw(u))}catch(c){i(c)}},s=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,a);s((n=n.apply(e,t)).next())}),rh,jb=k(()=>{rh={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}}),Bo,On,sr,Xt,qu,ir,ju,Vu,ih,oh,Ja,kd=k(()=>{Bo="function",On="object",sr="undefined",Xt="prototype",qu="hasOwnProperty",ir=Object,ju=ir[Xt],Vu=ir.assign,ih=ir.create,oh=ir.defineProperty,Ja=ju[qu]});function ko(){return typeof globalThis!==sr&&globalThis?globalThis:typeof self!==sr&&self?self:typeof window!==sr&&window?window:typeof global!==sr&&global?global:null}function Fd(e){throw new TypeError(e)}function Wu(e){var t=ih;if(t)return t(e);if(e==null)return{};var n=typeof e;n!==On&&n!==Bo&&Fd("Object prototype may only be an Object:"+e);function r(){}return r[Xt]=e,new r}var ah=k(()=>{kd()});function Ae(e,t){typeof t!==Bo&&t!==null&&Fd("Class extends value "+String(t)+" is not a constructor or null"),Du(e,t);function n(){this.constructor=e}e[Xt]=t===null?Wu(t):(n[Xt]=t[Xt],new n)}var Vb,Wb,Tm,Fo,Du,Kb=k(()=>{kd(),ah(),Vb=(ko()||{}).Symbol,Wb=(ko()||{}).Reflect,Tm=function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)ju[qu].call(t,i)&&(e[i]=t[i])}return e},Fo=Vu||Tm,Du=function(e,t){return Du=ir.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[qu](i)&&(n[i]=r[i])},Du(e,t)}}),Gb=k(()=>{}),Fe=k(()=>{kd(),ah(),Kb(),Gb()});function dr(e,t){return e&&Xa[Ln].hasOwnProperty.call(e,t)}function sh(e){return e&&(e===Xa[Ln]||e===Array[Ln])}function Md(e){return sh(e)||e===Function[Ln]}function Ii(e){var t;if(e){if(No)return No(e);var n=e[Qf]||e[Ln]||(e[Ya]?e[Ya][Ln]:null);t=e[Va]||n,dr(e,Va)||(delete e[ku],t=e[Va]=e[ku]||e[Va],e[ku]=n)}return t}function Ku(e,t){var n=[];if(Jf)n=Jf(e);else for(var r in e)typeof r=="string"&&dr(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function Nd(e,t,n){return t!==Ya&&typeof e[t]===Za&&(n||dr(e,t))}function Gu(e){throw new TypeError("DynamicProto: "+e)}function Xb(e){var t={};return Ku(e,function(n){!t[n]&&Nd(e,n,!1)&&(t[n]=e[n])}),t}function Ld(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function Qb(e,t,n,r){function i(u,c,l){var f=c[l];if(f[Xu]&&r){var d=u[es]||{};d[Mo]!==!1&&(f=(d[c[bi]]||{})[l]||f)}return function(){return f.apply(u,arguments)}}var o={};Ku(n,function(u){o[u]=i(t,n,u)});for(var a=Ii(e),s=[];a&&!Md(a)&&!Ld(s,a);)Ku(a,function(u){!o[u]&&Nd(a,u,!No)&&(o[u]=i(t,a,u))}),s.push(a),a=Ii(a);return o}function $b(e,t,n,r){var i=null;if(e&&dr(n,bi)){var o=e[es]||{};if(i=(o[n[bi]]||{})[t],i||Gu("Missing ["+t+"] "+Za),!i[Qu]&&o[Mo]!==!1){for(var a=!dr(e,t),s=Ii(e),u=[];a&&s&&!Md(s)&&!Ld(u,s);){var c=s[t];if(c){a=c===r;break}u.push(s),s=Ii(s)}try{a&&(e[t]=i),i[Qu]=1}catch{o[Mo]=!1}}}return i}function Jb(e,t,n){var r=t[e];return r===n&&(r=Ii(t)[e]),typeof r!==Za&&Gu("["+e+"] is not a "+Za),r}function Yb(e,t,n,r,i){function o(u,c){var l=function(){var f=$b(this,c,u,l)||Jb(c,u,l);return f.apply(this,arguments)};return l[Xu]=1,l}if(!sh(e)){var a=n[es]=n[es]||{},s=a[t]=a[t]||{};a[Mo]!==!1&&(a[Mo]=!!i),Ku(n,function(u){Nd(n,u,!1)&&n[u]!==r[u]&&(s[u]=n[u],delete n[u],(!dr(e,u)||e[u]&&!e[u][Xu])&&(e[u]=o(e,u)))})}}function Zb(e,t){if(No){for(var n=[],r=Ii(t);r&&!Md(r)&&!Ld(n,r);){if(r===e)return!0;n.push(r),r=Ii(r)}return!1}return!0}function Nf(e,t){return dr(e,Ln)?e.name||t||Xf:((e||{})[Ya]||{}).name||t||Xf}function Je(e,t,n,r){dr(e,Ln)||Gu("theClass is an invalid class definition.");var i=e[Ln];Zb(i,t)||Gu("["+Nf(e)+"] is not in class hierarchy of ["+Nf(t)+"]");var o=null;dr(i,bi)?o=i[bi]:(o=uh+Nf(e,"_")+"$"+Yf,Yf++,i[bi]=o);var a=Je[Gf],s=!!a[Fu];s&&r&&r[Fu]!==void 0&&(s=!!r[Fu]);var u=Xb(t),c=Qb(i,t,u,s);n(t,c);var l=!!No&&!!a[$f];l&&r&&(l=!!r[$f]),Yb(i,o,t,u,l!==!1)}var Ya,Ln,Za,es,Xu,bi,uh,Qu,Mo,Gf,Xf,Qf,Va,ku,Fu,$f,Xa,No,Jf,Yf,_m,dt=k(()=>{Ya="constructor",Ln="prototype",Za="function",es="_dynInstFuncs",Xu="_isDynProxy",bi="_dynClass",uh="_dynCls$",Qu="_dynInstChk",Mo=Qu,Gf="_dfOpts",Xf="_unknown_",Qf="__proto__",Va="_dyn"+Qf,ku="_dynInstProto",Fu="useBaseInst",$f="setInstFuncs",Xa=Object,No=Xa.getPrototypeOf,Jf=Xa.getOwnPropertyNames,Yf=0,_m={setInstFuncs:!0,useBaseInst:!0},Je[Gf]=_m}),V,U,cc=k(()=>{(function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"})(V||(V={})),U={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}});function Ud(e){return ju.toString.call(e)}function ew(e,t){return typeof e===t}function Rt(e){return e===void 0||typeof e===sr}function W(e){return e===null||Rt(e)}function tw(e){return!W(e)}function Od(e,t){return e&&Ja.call(e,t)}function Ei(e){return typeof e===On}function Ee(e){return typeof e===Bo}function ts(e,t,n,r){r===void 0&&(r=!1);var i=!1;if(!W(e))try{W(e[nd])?W(e[td])||(e[td](Bd+t,n),i=!0):(e[nd](t,n,r),i=!0)}catch{}return i}function Pm(e,t,n,r){if(r===void 0&&(r=!1),!W(e))try{W(e[id])?W(e[rd])||e[rd](Bd+t,n):e[id](t,n,r)}catch{}}function nw(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}function lt(e,t){if(e)for(var n in e)Ja.call(e,n)&&t.call(e,n,e[n])}function rw(e,t){if(e&&t){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var i=r-1,o=n-1;o>=0;o--){if(e[i]!=t[o])return!1;i--}return!0}}return!1}function wt(e,t){return e&&t?e.indexOf(t)!==-1:!1}function Hd(e){return Ud(e)==="[object Date]"}function pr(e){return Ud(e)==="[object Array]"}function lc(e){return Ud(e)==="[object Error]"}function he(e){return typeof e=="string"}function zd(e){return typeof e=="number"}function Zf(e){return typeof e=="boolean"}function Mr(e){if(Hd(e)){var t=function(n){var r=String(n);return r.length===1&&(r="0"+r),r};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function ye(e,t,n){for(var r=e.length,i=0;i<r&&!(i in e&&t.call(n||e,e[i],i,e)===-1);i++);}function ns(e,t,n){for(var r=e.length,i=n||0,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o;return-1}function Wa(e,t,n){for(var r=e.length,i=n||e,o=new Array(r),a=0;a<r;a++)a in e&&(o[a]=t.call(i,e[a],e));return o}function ch(e,t,n){var r=e.length,i=0,o;if(arguments.length>=3)o=arguments[2];else{for(;i<r&&!(i in e);)i++;o=e[i++]}for(;i<r;)i in e&&(o=t(o,e[i],i,e)),i++;return o}function yt(e){return typeof e!="string"?e:e.replace(/^\s+|\s+$/g,"")}function Ti(e){var t=typeof e;t!==Bo&&(t!==On||e===null)&&Fd("objKeys called on non-object");var n=[];for(var r in e)e&&Ja.call(e,r)&&n.push(r);if(fh)for(var i=Mu.length,o=0;o<i;o++)e&&Ja.call(e,Mu[o])&&n.push(Mu[o]);return n}function Lo(e,t,n,r){if(od)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),od(e,t,i),!0}catch{}return!1}function tn(){var e=Date;return e.now?e.now():new e().getTime()}function Pe(e){return lc(e)?e.name:""}function Ie(e,t,n,r,i){var o=n;return e&&(o=e[t],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,e[t]=o)),o}function bt(e,t,n){var r;return e?(r=e[t],!r&&W(r)&&(r=Rt(n)?{}:n,e[t]=r)):r=Rt(n)?{}:n,r}function Am(e){return!e}function ed(e){return!!e}function Rn(e){throw new Error(e)}function lh(e,t,n){if(e&&t&&e!==t&&Ei(e)&&Ei(t)){var r=function(o){if(he(o)){var a=t[o];Ee(a)?(!n||n(o,!0,t,e))&&(e[o]=function(s){return function(){var u=arguments;return t[s].apply(t,u)}}(o)):(!n||n(o,!1,t,e))&&(Od(e,o)&&delete e[o],Lo(e,o,function(){return t[o]},function(s){t[o]=s})||(e[o]=a))}};for(var i in t)r(i)}return e}function iw(e){return function(){function t(){var n=this;e&&lt(e,function(r,i){n[r]=i})}return t}()}function Rm(e){return e&&(e=ir(Vu?Vu({},e):e)),e}var Bd,td,nd,rd,id,od,ow,aw,fh,Mu,Ct=k(()=>{Fe(),Bd="on",td="attachEvent",nd="addEventListener",rd="detachEvent",id="removeEventListener",od=oh,ow=ir.freeze,aw=ir.seal,fh=!{toString:null}.propertyIsEnumerable("toString"),Mu=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]});function St(e){var t=ko();return t&&t[e]?t[e]:e===jd&&fc()?window:null}function fc(){return Boolean(typeof window===On&&window)}function rs(){return fc()?window:St(jd)}function dh(){return Boolean(typeof document===On&&document)}function Dn(){return dh()?document:St(ph)}function sw(){return Boolean(typeof navigator===On&&navigator)}function Un(){return sw()?navigator:St(vh)}function uw(){return Boolean(typeof history===On&&history)}function cw(){return uw()?history:St(gh)}function wi(e){if(e&&Sh){var t=St("__mockLocation");if(t)return t}return typeof location===On&&location?location:St(mh)}function lw(){return typeof console!==sr?console:St(hh)}function or(){return St(yh)}function qo(){return Boolean(typeof JSON===On&&JSON||St(Vd)!==null)}function hn(){return qo()?JSON||St(Vd):null}function fw(){return St(xh)}function dw(){return St(bh)}function pw(){var e=Un();return e&&e.product?e.product===wh:!1}function $u(){var e=Un();if(e&&(e.userAgent!==Lu||Nu===null)){Lu=e.userAgent;var t=(Lu||"").toLowerCase();Nu=wt(t,Ju)||wt(t,Yu)}return Nu}function qd(e){if(e===void 0&&(e=null),!e){var t=Un()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(wt(n,Ju))return parseInt(n.split(Ju)[1]);if(wt(n,Yu)){var r=parseInt(n.split(Yu)[1]);if(r)return r+4}return null}function ve(e){var t=Object[Xt].toString.call(e),n="";return t==="[object Error]"?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":qo()&&(n=hn().stringify(e)),t+n}var jd,ph,vh,gh,mh,hh,yh,Vd,xh,bh,wh,Ju,Yu,Nu,Lu,Sh,us=k(()=>{"use strict";Fe(),Ct(),jd="window",ph="document",vh="navigator",gh="history",mh="location",hh="console",yh="performance",Vd="JSON",xh="crypto",bh="msCrypto",wh="ReactNative",Ju="msie",Yu="trident/",Nu=null,Lu=null,Sh=!1});function Dm(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function dc(e,t){return(e||{}).logger||new Wd(t)}var km,Fm,Mm,Po,Wd,Kd=k(()=>{"use strict";cc(),us(),dt(),Ct(),km="AI (Internal): ",Fm="AI: ",Mm="AITR_",Po=function(){function e(t,n,r,i){r===void 0&&(r=!1);var o=this;o.messageId=t,o.message=(r?Fm:km)+t;var a="";qo()&&(a=hn().stringify(i));var s=(n?" message:"+Dm(n):"")+(i?" props:"+Dm(a):"");o.message+=s}return e.dataType="MessageData",e}(),Wd=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};Je(e,this,function(i){W(t)&&(t={}),i.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},i.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},i.throwInternal=function(s,u,c,l,f){f===void 0&&(f=!1);var d=new Po(u,c,f,l);if(i.enableDebugExceptions())throw d;if(!Rt(d.message)){var p=i.consoleLoggingLevel();if(f){var g=+d.messageId;!r[g]&&p>=V.WARNING&&(i.warnToConsole(d.message),r[g]=!0)}else p>=V.WARNING&&i.warnToConsole(d.message);i.logInternalMessage(s,d)}},i.warnToConsole=function(s){var u=lw();if(u){var c="log";u.warn&&(c="warn"),Ee(u[c])&&u[c](s)}},i.resetInternalMessageCount=function(){n=0,r={}},i.logInternalMessage=function(s,u){if(!a()){var c=!0,l=Mm+u.messageId;if(r[l]?c=!1:r[l]=!0,c&&(s<=i.telemetryLoggingLevel()&&(i.queue.push(u),n++),n===i.maxInternalMessageLimit())){var f="Internal events throttle limit per PageView reached for this app.",d=new Po(U.MessageLimitPerPVExceeded,f,!1);i.queue.push(d),i.warnToConsole(f)}}};function o(s,u){var c=t[s];return W(c)?u:c}function a(){return n>=i.maxInternalMessageLimit()}})}return e}()});function Uo(e,t,n,r,i){if(e){var o=e;if(Ee(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var a=void 0,s=o.getCtx(Uu);try{if(a=o.create(t(),r,i),a){if(s&&a.setCtx&&(a.setCtx(Ao.ParentContextKey,s),s.getCtx&&s.setCtx)){var u=s.getCtx(Ao.ChildrenContextKey);u||(u=[],s.setCtx(Ao.ChildrenContextKey,u)),u.push(a)}return o.setCtx(Uu,a),n(a)}}catch(c){a&&a.setCtx&&a.setCtx("exception",c)}finally{a&&o.fire(a),o.setCtx(Uu,s)}}}return n()}var gi,Ao,Gd,Uu,pc=k(()=>{dt(),Ct(),gi="ctx",Ao=function(){function e(t,n,r){var i=this,o=!1;if(i.start=tn(),i.name=t,i.isAsync=r,i.isChildEvt=function(){return!1},Ee(n)){var a;o=Lo(i,"payload",function(){return!a&&Ee(n)&&(a=n(),n=null),a})}i.getCtx=function(s){return s?s===e.ParentContextKey||s===e.ChildrenContextKey?i[s]:(i[gi]||{})[s]:null},i.setCtx=function(s,u){if(s)if(s===e.ParentContextKey)i[s]||(i.isChildEvt=function(){return!0}),i[s]=u;else if(s===e.ChildrenContextKey)i[s]=u;else{var c=i[gi]=i[gi]||{};c[s]=u}},i.complete=function(){var s=0,u=i.getCtx(e.ChildrenContextKey);if(pr(u))for(var c=0;c<u.length;c++){var l=u[c];l&&(s+=l.time)}i.time=tn()-i.start,i.exTime=i.time-s,i.complete=function(){},!o&&Ee(n)&&(i.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Gd=function(){function e(t){this.ctx={},Je(e,this,function(n){n.create=function(r,i,o){return new Ao(r,i,o)},n.fire=function(r){r&&(r.complete(),t&&t.perfEvent(r))},n.setCtx=function(r,i){if(r){var o=n[gi]=n[gi]||{};o[r]=i}},n.getCtx=function(r){return(n[gi]||{})[r]}})}return e}(),Uu="CoreUtils.doPerf"}),Ch,vw=k(()=>{"use strict";pc(),cc(),Ct(),Ch=function(){function e(t,n){var r=this,i=null,o=Ee(t.processTelemetry),a=Ee(t.setNextPlugin);r._hasRun=!1,r.getPlugin=function(){return t},r.getNext=function(){return i},r.setNext=function(s){i=s},r.processTelemetry=function(s,u){u||(u=n);var c=t?t.identifier:"TelemetryPluginChain";Uo(u?u.core():null,function(){return c+":processTelemetry"},function(){if(t&&o){r._hasRun=!0;try{u.setNext(i),a&&t.setNextPlugin(i),i&&(i._hasRun=!1),t.processTelemetry(s,u)}catch(f){var l=i&&i._hasRun;(!i||!l)&&u.diagLog().throwInternal(V.CRITICAL,U.PluginException,"Plugin ["+t.identifier+"] failed during processTelemetry - "+f),i&&!l&&i.processTelemetry(s,u)}}else i&&(r._hasRun=!0,i.processTelemetry(s,u))},function(){return{item:s}},!s.sync)}}return e}()});function Xd(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var o=e[i];if(o&&Ee(o.processTelemetry)){var a=new Ch(o,t);n.push(a),r&&r.setNext(a),r=a}}return n.length>0?n[0]:null}function gw(e,t,n){var r=[],i=!n;if(e)for(;e;){var o=e.getPlugin();(i||o===n)&&(i=!0,r.push(o)),e=e.getNext()}return i||r.push(n),Xd(r,t)}function mw(e,t,n){var r=e,i=!1;return n&&e&&(r=[],ye(e,function(o){(i||o===n)&&(i=!0,r.push(o))})),n&&!i&&(r||(r=[]),r.push(n)),Xd(r,t)}var Si,Qd=k(()=>{"use strict";Kd(),vw(),Ct(),Si=function(){function e(t,n,r,i){var o=this,a=null;i!==null&&(t&&Ee(t.getPlugin)?a=gw(t,o,i||t.getPlugin()):i?a=mw(t,o,i):Rt(i)&&(a=Xd(t,o))),o.core=function(){return r},o.diagLog=function(){return dc(r,n)},o.getCfg=function(){return n},o.getExtCfg=function(s,u){u===void 0&&(u={});var c;if(n){var l=n.extensionConfig;l&&s&&(c=l[s])}return c||u},o.getConfig=function(s,u,c){c===void 0&&(c=!1);var l,f=o.getExtCfg(s,null);return f&&!W(f[u])?l=f[u]:n&&!W(n[u])&&(l=n[u]),W(l)?c:l},o.hasNext=function(){return a!=null},o.getNext=function(){return a},o.setNext=function(s){a=s},o.processNext=function(s){var u=a;u&&(a=u.getNext(),u.processTelemetry(s,o))},o.createNew=function(s,u){return s===void 0&&(s=null),new e(s||a,n,r,u)}}return e}()}),Ih,$d,Eh=k(()=>{Ih="iKey",$d="extensionConfig"}),Ua,Ai,Th=k(()=>{"use strict";Qd(),Ct(),Eh(),Ua="getPlugin",Ai=function(){function e(){var t=this,n=!1,r=null,i=null;t.core=null,t.diagLog=function(o){return t._getTelCtx(o).diagLog()},t.isInitialized=function(){return n},t.setInitialized=function(o){n=o},t.setNextPlugin=function(o){i=o},t.processNext=function(o,a){a?a.processNext(o):i&&Ee(i.processTelemetry)&&i.processTelemetry(o,null)},t._getTelCtx=function(o){o===void 0&&(o=null);var a=o;if(!a){var s=r||new Si(null,{},t.core);i&&i[Ua]?a=s.createNew(null,i[Ua]):a=s.createNew(null,i)}return a},t._baseTelInit=function(o,a,s,u){o&&Ie(o,$d,[],null,W),!u&&a&&(u=a.getProcessTelContext().getNext());var c=i;i&&i[Ua]&&(c=i[Ua]()),t.core=a,r=new Si(u,o,a,c),n=!0}}return e.prototype.initialize=function(t,n,r,i){this._baseTelInit(t,n,r,i)},e}()});function ad(e,t){for(var n=[],r=null,i=e.getNext();i;){var o=i.getPlugin();o&&(r&&Ee(r[ud])&&Ee(o[Zu])&&r[ud](o),(!Ee(o[cd])||!o[cd]())&&n.push(o),r=o,i=i.getNext())}ye(n,function(a){a.initialize(e.getCfg(),e.core(),t,e.getNext())})}function Nm(e){return e.sort(function(t,n){var r=0,i=Ee(n[Zu]);return Ee(t[Zu])?r=i?t[sd]-n[sd]:1:i&&(r=-1),r})}var Zu,sd,ud,cd,_h=k(()=>{"use strict";Ct(),Zu="processTelemetry",sd="priority",ud="setNextPlugin",cd="isInitialized"}),Iu,Lm,Ph,hw=k(()=>{"use strict";Fe(),dt(),Th(),Qd(),_h(),Ct(),Iu=500,Lm="Channel has invalid priority",Ph=function(e){Ae(t,e);function t(){var n=e.call(this)||this;n.identifier="ChannelControllerPlugin",n.priority=Iu;var r;Je(t,n,function(s,u){s.setNextPlugin=function(c){},s.processTelemetry=function(c,l){r&&ye(r,function(f){if(f.length>0){var d=n._getTelCtx(l).createNew(f);d.processNext(c)}})},s.getChannelControls=function(){return r},s.initialize=function(c,l,f){s.isInitialized()||(u.initialize(c,l,f),a((c||{}).channels,f),ye(r,function(d){return ad(new Si(d,c,l),f)}))}});function i(s){ye(s,function(u){u.priority<Iu&&Rn(Lm+u.identifier)})}function o(s){s&&s.length>0&&(s=s.sort(function(u,c){return u.priority-c.priority}),i(s),r.push(s))}function a(s,u){if(r=[],s&&ye(s,function(l){return o(l)}),u){var c=[];ye(u,function(l){l.priority>Iu&&c.push(l)}),o(c)}}return n}return t._staticInit=function(){var n=t.prototype;Lo(n,"ChannelControls",n.getChannelControls),Lo(n,"channelQueue",n.getChannelControls)}(),t}(Ai)});function Ah(e,t){var n=Qa[ur]||is[ur];return n||(n=Qa[ur]=Qa(e,t),is[ur]=n),n}function Eu(e){return e?e.isEnabled():!0}function yw(e){var t=e.cookieCfg=e.cookieCfg||{};if(Ie(t,"domain",e.cookieDomain,tw,W),Ie(t,"path",e.cookiePath||"/",null,W),W(t[ec])){var n=void 0;Rt(e[dd])||(n=!e[dd]),Rt(e[pd])||(n=!e[pd]),t[ec]=n}return t}function Jd(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;r[ur]?n=r[ur]:n=Qa(t)}return n||(n=Ah(t,(e||{}).logger)),n}function Qa(e,t){var n=yw(e||is),r=n.path||"/",i=n.domain,o=n[ec]!==!1,a={isEnabled:function(){var s=o&&Um(t),u=is[ur];return s&&u&&a!==u&&(s=Eu(u)),s},setEnabled:function(s){o=s!==!1},set:function(s,u,c,l,f){if(Eu(a)){var d={},p=yt(u||en),g=p.indexOf(";");if(g!==-1&&(p=yt(u.substring(0,g)),d=Rh(u.substring(g+1))),Ie(d,"domain",l||i,ed,Rt),!W(c)){var m=$u();if(Rt(d[Ou])){var v=tn(),h=v+c*1e3;if(h>0){var x=new Date;x.setTime(h),Ie(d,Ou,Om(x,m?ld:fd)||Om(x,m?ld:fd)||en,ed)}}m||Ie(d,"max-age",en+c,null,Rt)}var C=wi();C&&C.protocol==="https:"&&(Ie(d,"secure",null,null,Rt),Hu===null&&(Hu=!Dh((Un()||{}).userAgent)),Hu&&Ie(d,"SameSite","None",null,Rt)),Ie(d,"path",f||r,null,Rt);var _=n.setCookie||zm;_(s,Hm(p,d))}},get:function(s){var u=en;return Eu(a)&&(u=(n.getCookie||xw)(s)),u},del:function(s,u){Eu(a)&&a.purge(s,u)},purge:function(s,u){if(Um(t)){var c=(f={},f.path=u||"/",f[Ou]="Thu, 01 Jan 1970 00:00:01 GMT",f);$u()||(c["max-age"]="0");var l=n.delCookie||zm;l(s,Hm(en,c))}var f}};return a[ur]=a,a}function Um(e){if(Ka===null){Ka=!1;try{var t=Oo||{};Ka=t[vc]!==void 0}catch(n){e&&e.throwInternal(V.WARNING,U.CannotAccessCookie,"Cannot access document.cookie - "+Pe(n),{exception:ve(n)})}}return Ka}function Rh(e){var t={};if(e&&e.length){var n=yt(e).split(";");ye(n,function(r){if(r=yt(r||en),r){var i=r.indexOf("=");i===-1?t[r]=null:t[yt(r.substring(0,i))]=yt(r.substring(i+1))}})}return t}function Om(e,t){return Ee(e[t])?e[t]():null}function Hm(e,t){var n=e||en;return lt(t,function(r,i){n+="; "+r+(W(i)?en:"="+i)}),n}function xw(e){var t=en;if(Oo){var n=Oo[vc]||en;vd!==n&&(gd=Rh(n),vd=n),t=yt(gd[e]||en)}return t}function zm(e,t){Oo&&(Oo[vc]=e+"="+t)}function Dh(e){return he(e)?!!(wt(e,"CPU iPhone OS 12")||wt(e,"iPad; CPU OS 12")||wt(e,"Macintosh; Intel Mac OS X 10_14")&&wt(e,"Version/")&&wt(e,"Safari")||wt(e,"Macintosh; Intel Mac OS X 10_14")&&rw(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||wt(e,"Chrome/5")||wt(e,"Chrome/6")||wt(e,"UnrealEngine")&&!wt(e,"Chrome")||wt(e,"UCBrowser/12")||wt(e,"UCBrowser/11")):!1}var ld,fd,vc,Ou,ec,dd,pd,ur,en,Ka,Hu,vd,Oo,gd,is,Yd=k(()=>{cc(),us(),Ct(),ld="toGMTString",fd="toUTCString",vc="cookie",Ou="expires",ec="enabled",dd="isCookieUseDisabled",pd="disableCookiesUsage",ur="_ckMgr",en="",Ka=null,Hu=null,vd=null,Oo=Dn(),gd={},is={}}),Bm,Lf,Zd,kh=k(()=>{"use strict";Fe(),dt(),hw(),Qd(),_h(),pc(),Yd(),Ct(),Eh(),Bm="Extensions must provide callback to initialize",Lf="_notificationManager",Zd=function(){function e(){var t=!1,n,r,i,o,a;Je(e,this,function(s){s._extensions=new Array,r=new Ph,s.logger=Wu({throwInternal:function(u,c,l,f,d){d===void 0&&(d=!1)},warnToConsole:function(u){},resetInternalMessageCount:function(){}}),n=[],s.isInitialized=function(){return t},s.initialize=function(u,c,l,f){s.isInitialized()&&Rn("Core should not be initialized more than once"),(!u||W(u.instrumentationKey))&&Rn("Please provide instrumentation key"),i=f,s[Lf]=f,s.config=u||{},u.extensions=W(u.extensions)?[]:u.extensions;var d=bt(u,$d);d.NotificationManager=f,l&&(s.logger=l);var p=[];p.push.apply(p,c.concat(u.extensions)),p=Nm(p);var g=[],m=[],v={};ye(p,function(h){(W(h)||W(h.initialize))&&Rn(Bm);var x=h.priority,C=h.identifier;h&&x&&(W(v[x])?v[x]=C:l.warnToConsole("Two extensions have same priority #"+x+" - "+v[x]+", "+C)),!x||x<r.priority?g.push(h):m.push(h)}),p.push(r),g.push(r),p=Nm(p),s._extensions=p,ad(new Si([r],u,s),p),ad(new Si(g,u,s),p),s._extensions=g,s.getTransmissionControls().length===0&&Rn("No channels available"),t=!0,s.releaseQueue()},s.getTransmissionControls=function(){return r.getChannelControls()},s.track=function(u){Ie(u,Ih,s.config.instrumentationKey,null,Am),Ie(u,"time",Mr(new Date),null,Am),Ie(u,"ver","4.0",null,W),s.isInitialized()?s.getProcessTelContext().processNext(u):n.push(u)},s.getProcessTelContext=function(){var u=s._extensions,c=u;return(!u||u.length===0)&&(c=[r]),new Si(c,s.config,s)},s.getNotifyMgr=function(){return i||(i=Wu({addNotificationListener:function(u){},removeNotificationListener:function(u){},eventsSent:function(u){},eventsDiscarded:function(u,c){},eventsSendRequest:function(u,c){}}),s[Lf]=i),i},s.getCookieMgr=function(){return a||(a=Qa(s.config,s.logger)),a},s.setCookieMgr=function(u){a=u},s.getPerfMgr=function(){return o||s.config&&s.config.enablePerfMgr&&(o=new Gd(s.getNotifyMgr())),o},s.setPerfMgr=function(u){o=u},s.eventCnt=function(){return n.length},s.releaseQueue=function(){n.length>0&&(ye(n,function(u){s.getProcessTelContext().processNext(u)}),n=[])}})}return e}()}),ep,Fh=k(()=>{dt(),Ct(),ep=function(){function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;Je(e,this,function(r){r.addNotificationListener=function(i){r.listeners.push(i)},r.removeNotificationListener=function(i){for(var o=ns(r.listeners,i);o>-1;)r.listeners.splice(o,1),o=ns(r.listeners,i)},r.eventsSent=function(i){ye(r.listeners,function(o){o&&o.eventsSent&&setTimeout(function(){return o.eventsSent(i)},0)})},r.eventsDiscarded=function(i,o){ye(r.listeners,function(a){a&&a.eventsDiscarded&&setTimeout(function(){return a.eventsDiscarded(i,o)},0)})},r.eventsSendRequest=function(i,o){ye(r.listeners,function(a){if(a&&a.eventsSendRequest)if(o)setTimeout(function(){return a.eventsSendRequest(i,o)},0);else try{a.eventsSendRequest(i,o)}catch{}})},r.perfEvent=function(i){i&&(n||!i.isChildEvt())&&ye(r.listeners,function(o){if(o&&o.perfEvent)if(i.isAsync)setTimeout(function(){return o.perfEvent(i)},0);else try{o.perfEvent(i)}catch{}})}})}return e}()}),tp,bw=k(()=>{Fe(),kh(),jb(),Fh(),pc(),Kd(),dt(),Ct(),tp=function(e){Ae(t,e);function t(){var n=e.call(this)||this;return Je(t,n,function(r,i){r.initialize=function(s,u,c,l){i.initialize(s,u,c||new Wd(s),l||new ep(s))},r.track=function(s){Uo(r.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){s===null&&(a(s),Rn("Invalid telemetry item")),o(s),i.track(s)},function(){return{item:s}},!s.sync)},r.addNotificationListener=function(s){var u=r.getNotifyMgr();u&&u.addNotificationListener(s)},r.removeNotificationListener=function(s){var u=r.getNotifyMgr();u&&u.removeNotificationListener(s)},r.pollInternalLogs=function(s){var u=r.config.diagnosticLogInterval;return(!u||!(u>0))&&(u=1e4),setInterval(function(){var c=r.logger?r.logger.queue:[];ye(c,function(l){var f={name:s||"InternalMessageId: "+l.messageId,iKey:r.config.instrumentationKey,time:Mr(new Date),baseType:Po.dataType,baseData:{message:l.message}};r.track(f)}),c.length=0},u)};function o(s){if(W(s.name))throw a(s),Error("telemetry name required")}function a(s){var u=r.getNotifyMgr();u&&u.eventsDiscarded([s],rh.InvalidEvent)}}),n}return t}(Zd)});function Mh(e){e<0&&(e>>>=0),Io=123456789+e&cr,Eo=987654321-e&cr,rp=!0}function Nh(){try{var e=tn()&2147483647;Mh((Math.random()*np^e)+e)}catch{}}function Lh(e){return e>0?Math.floor(_i()/cr*(e+1))>>>0:0}function _i(e){var t,n=fw()||dw();return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&cr:$u()?(rp||Nh(),t=Uh()&cr):t=Math.floor(np*Math.random()|0),e||(t>>>=0),t}function ww(e){e?Mh(e):Nh()}function Uh(e){Eo=36969*(Eo&65535)+(Eo>>16)&cr,Io=18e3*(Io&65535)+(Io>>16)&cr;var t=(Eo<<16)+(Io&65535)>>>0&cr|0;return e||(t>>>=0),t}var np,cr,rp,Io,Eo,Oh=k(()=>{us(),Ct(),np=4294967296,cr=4294967295,rp=!1,Io=123456789,Eo=987654321});function yi(e,t){var n=!1,r=rs();r&&(n=ts(r,e,t),n=ts(r.body,e,t)||n);var i=Dn();return i&&(n=os.Attach(i,e,t)||n),n}function Sw(){function e(){return Lh(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(zh,function(t){var n=e()|0,r=t==="x"?n:n&3|8;return r.toString(16)})}function Cw(){var e=or();return e&&e.now?e.now():tn()}function gc(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=_i()>>>0,r=0,i="";i.length<e;)r++,i+=t.charAt(n&63),n>>>=6,r===5&&(n=(_i()<<2&4294967295|n&3)>>>0,r=0);return i}function kn(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",n,r=0;r<4;r++)n=_i(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var i=e[8+(_i()&3)|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}function jo(e,t){var n=Ah(e,t),r=tc._canUseCookies;return So===null&&(So=[],Oa=r,Lo(tc,"_canUseCookies",function(){return Oa},function(i){Oa=i,ye(So,function(o){o.setEnabled(i)})})),ns(So,n)===-1&&So.push(n),Zf(r)&&n.setEnabled(r),Zf(Oa)&&n.setEnabled(Oa),n}function Hh(){jo().setEnabled(!1)}function Iw(e){return jo(null,e).isEnabled()}function Ew(e,t){return jo(null,e).get(t)}function Tw(e,t,n,r){jo(null,e).set(t,n,null,r)}function _w(e,t){return jo(null,e).del(t)}var So,Oa,tc,zh,os,Pw=k(()=>{"use strict";Fe(),Yd(),us(),Ct(),Oh(),So=null,tc={_canUseCookies:void 0,isTypeof:ew,isUndefined:Rt,isNullOrUndefined:W,hasOwnProperty:Od,isFunction:Ee,isObject:Ei,isDate:Hd,isArray:pr,isError:lc,isString:he,isNumber:zd,isBoolean:Zf,toISOString:Mr,arrForEach:ye,arrIndexOf:ns,arrMap:Wa,arrReduce:ch,strTrim:yt,objCreate:Wu,objKeys:Ti,objDefineAccessors:Lo,addEventHandler:yi,dateNow:tn,isIE:$u,disableCookies:Hh,newGuid:Sw,perfNow:Cw,newId:gc,randomValue:Lh,random32:_i,mwcRandomSeed:ww,mwcRandom32:Uh,generateW3CId:kn},zh=/[xy]/g,os={Attach:ts,AttachEvent:ts,Detach:Pm,DetachEvent:Pm}});function ip(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Uf(e,t,n,r,i){i>=0&&i<=2&&ip(e,function(o,a){var s=o.cbks,u=s[yd[i]];if(u){t.ctx=function(){var f=r[a]=r[a]||{};return f};try{u.apply(t.inst,n)}catch(f){var c=t.err;try{var l=s[yd[2]];l&&(t.err=f,l.apply(t.inst,n))}catch{}finally{t.err=c}}}})}function Aw(e){return function(){var t=this,n=arguments,r=e.h,i={name:e.n,inst:t,ctx:null,set:u},o=[],a=s([i],n);function s(l,f){return ip(f,function(d){l.push(d)}),l}function u(l,f){n=s([],n),n[l]=f,a=s([i],n)}Uf(r,i,a,o,0);var c=e.f;try{i.rslt=c.apply(t,n)}catch(l){throw i.err=l,Uf(r,i,a,o,3),l}return Uf(r,i,a,o,1),i.rslt}}function Rw(e){if(e){if(xd)return xd(e);var t=e[qh]||e[Xt]||e[jh];if(t)return t}return null}function Bh(e,t,n){var r=null;return e&&(Od(e,t)?r=e:n&&(r=Bh(Rw(e),t,!1))),r}function Dw(e,t,n){return e?md(e[Xt],t,n,!1):null}function md(e,t,n,r){if(r===void 0&&(r=!0),e&&t&&n){var i=Bh(e,t,r);if(i){var o=i[t];if(typeof o===Bo){var a=o[hd];if(!a){a={i:0,n:t,f:o,h:[]};var s=Aw(a);s[hd]=a,i[t]=s}var u={id:a.i,cbks:n,rm:function(){var c=this.id;ip(a.h,function(l,f){if(l.id===c)return a.h.splice(f,1),1})}};return a.i++,a.h.push(u),u}}}return null}var hd,yd,qh,jh,xd,kw=k(()=>{Fe(),Ct(),hd="_aiHooks",yd=["req","rsp","hkErr","fnErr"],qh="__proto__",jh="constructor",xd=Object.getPrototypeOf}),Se=k(()=>{bw(),kh(),Th(),Oh(),Pw(),Ct(),us(),Fe(),Fh(),pc(),Kd(),cc(),kw(),Yd()}),Le,Vh=k(()=>{Le={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}});function op(e,t,n){var r=t.length,i=Wh(e,t);if(i.length!==r){for(var o=0,a=i;n[a]!==void 0;)o++,a=i.substring(0,150-3)+Xh(o);i=a}return i}function Wh(e,t){var n;return t&&(t=yt(t.toString()),t.length>150&&(n=t.substring(0,150),e.throwInternal(V.WARNING,U.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:t},!0))),n||t}function Dt(e,t,n){n===void 0&&(n=1024);var r;return t&&(n=n||1024,t=yt(t),t.toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(V.WARNING,U.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function cs(e,t){return sp(e,t,2048,U.UrlTooLong)}function ap(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e.throwInternal(V.WARNING,U.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:t},!0)),n||t}function Kh(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e.throwInternal(V.WARNING,U.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:t},!0))}return n||t}function Nr(e,t){if(t){var n={};lt(t,function(r,i){if(Ei(i)&&qo())try{i=hn().stringify(i)}catch(o){e.throwInternal(V.WARNING,U.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:o},!0)}i=Dt(e,i,8192),r=op(e,r,n),n[r]=i}),t=n}return t}function Lr(e,t){if(t){var n={};lt(t,function(r,i){r=op(e,r,n),n[r]=i}),t=n}return t}function Gh(e,t){return t&&sp(e,t,128,U.IdTooLong).toString()}function sp(e,t,n,r){var i;return t&&(t=yt(t),t.length>n&&(i=t.substring(0,n),e.throwInternal(V.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0))),i||t}function Xh(e){var t="00"+e;return t.substr(t.length-3)}var Qh,yn=k(()=>{Se(),Qh={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:op,sanitizeKey:Wh,sanitizeString:Dt,sanitizeUrl:cs,sanitizeMessage:ap,sanitizeException:Kh,sanitizeProperties:Nr,sanitizeMeasurements:Lr,sanitizeId:Gh,sanitizeInput:sp,padNumber:Xh,trim:yt}});function Co(e){var t=null;if(Ee(Event))t=new Event(e);else{var n=Dn();n&&n.createEvent&&(t=n.createEvent("Event"),t.initEvent(e,!0,!0))}return t}var $h=k(()=>{Se()});function Re(e,t){return t===void 0&&(t=!1),e==null?t:e.toString().toLowerCase()==="true"}function ar(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=""+e%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/(1e3*60))%60,i=""+Math.floor(e/(1e3*60*60))%24,o=Math.floor(e/(1e3*60*60*24));return t=t.length===1?"00"+t:t.length===2?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,(o>0?o+".":"")+i+":"+r+":"+n+"."+t}function bd(){var e=Un();return"sendBeacon"in e&&e.sendBeacon}function Jh(e,t){var n=null;return ye(e,function(r){if(r.identifier===t)return n=r,-1}),n}function Yh(e,t,n,r,i){return!i&&he(e)&&(e==="Script error."||e==="Script error")}var mc=k(()=>{Se()}),xi,hc,Ro,nc,up,nn,xn=k(()=>{xi="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",hc="sampleRate",Ro="ProcessLegacy",nc="http.method",up="https://dc.services.visualstudio.com",nn="not_specified"}),Pi,vn,Zh=k(()=>{(function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"})(Pi||(Pi={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(vn||(vn={}))});function cp(){return fp()?yc(Pi.LocalStorage):null}function yc(e){try{if(W(ko()))return null;var t=new Date,n=St(e===Pi.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch{}return null}function lp(){return Ho()?yc(Pi.SessionStorage):null}function ey(){kr=!1,Fr=!1}function fp(){return kr===void 0&&(kr=!!yc(Pi.LocalStorage)),kr}function ty(e,t){var n=cp();if(n!==null)try{return n.getItem(t)}catch(r){kr=!1,e.throwInternal(V.WARNING,U.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+Pe(r),{exception:ve(r)})}return null}function ny(e,t,n){var r=cp();if(r!==null)try{return r.setItem(t,n),!0}catch(i){kr=!1,e.throwInternal(V.WARNING,U.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+Pe(i),{exception:ve(i)})}return!1}function ry(e,t){var n=cp();if(n!==null)try{return n.removeItem(t),!0}catch(r){kr=!1,e.throwInternal(V.WARNING,U.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+Pe(r),{exception:ve(r)})}return!1}function Ho(){return Fr===void 0&&(Fr=!!yc(Pi.SessionStorage)),Fr}function Fw(){var e=[];return Ho()&&lt(St("sessionStorage"),function(t){e.push(t)}),e}function rc(e,t){var n=lp();if(n!==null)try{return n.getItem(t)}catch(r){Fr=!1,e.throwInternal(V.WARNING,U.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+Pe(r),{exception:ve(r)})}return null}function ic(e,t,n){var r=lp();if(r!==null)try{return r.setItem(t,n),!0}catch(i){Fr=!1,e.throwInternal(V.WARNING,U.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+Pe(i),{exception:ve(i)})}return!1}function iy(e,t){var n=lp();if(n!==null)try{return n.removeItem(t),!0}catch(r){Fr=!1,e.throwInternal(V.WARNING,U.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+Pe(r),{exception:ve(r)})}return!1}var kr,Fr,oy=k(()=>{Se(),Zh(),kr=void 0,Fr=void 0});function as(e){var t=Cd,n=cy,r=n[t];return Sd.createElement?n[t]||(r=n[t]=Sd.createElement("a")):r={host:uy(e,!0)},r.href=e,t++,t>=n.length&&(t=0),Cd=t,r}function ay(e){var t,n=as(e);return n&&(t=n.href),t}function Mw(e){var t,n=as(e);return n&&(t=n.pathname),t}function sy(e,t){return e?e.toUpperCase()+" "+t:t}function uy(e,t){var n=wd(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>3&&he(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function wd(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>2&&he(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),o=r[3]||"";(i==="http"&&o===":80"||i==="https"&&o===":443")&&(o=""),n+=o}}return n}var Sd,Cd,cy,ly=k(()=>{Se(),Sd=Dn()||{},Cd=0,cy=[null,null,null,null,null]});function zu(e){return fy.indexOf(e.toLowerCase())!==-1}function Nw(e,t,n,r){var i,o=r,a=r;if(t&&t.length>0){var s=as(t);if(i=s.host,!o)if(s.pathname!=null){var u=s.pathname.length===0?"/":s.pathname;u.charAt(0)!=="/"&&(u="/"+u),a=s.pathname,o=Dt(e,n?n+" "+u:u)}else o=Dt(e,t)}else i=r,o=r;return{target:i,name:o,data:a}}function Ga(){var e=or();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return tn()}function Pt(e,t){var n=null;return e!==0&&t!==0&&!W(e)&&!W(t)&&(n=t-e),n}var fy,dp,dy,Dr,py,vy=k(()=>{Se(),Vh(),yn(),$h(),mc(),xn(),oy(),ly(),fy=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],dp={NotSpecified:nn,createDomEvent:Co,disableStorage:ey,isInternalApplicationInsightsEndpoint:zu,canUseLocalStorage:fp,getStorage:ty,setStorage:ny,removeStorage:ry,canUseSessionStorage:Ho,getSessionStorageKeys:Fw,getSessionStorage:rc,setSessionStorage:ic,removeSessionStorage:iy,disableCookies:Hh,canUseCookies:Iw,disallowsSameSiteNone:Dh,setCookie:Tw,stringToBoolOrDefault:Re,getCookie:Ew,deleteCookie:_w,trim:yt,newId:gc,random32:function(){return _i(!0)},generateW3CId:kn,isArray:pr,isError:lc,isDate:Hd,toISOStringForIE8:Mr,getIEVersion:qd,msToTimeSpan:ar,isCrossOriginError:Yh,dump:ve,getExceptionName:Pe,addEventHandler:ts,IsBeaconApiSupported:bd,getExtension:Jh},dy={parseUrl:as,getAbsoluteUrl:ay,getPathName:Mw,getCompleteUrl:sy,parseHost:uy,parseFullHost:wd},Dr={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns){for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1}var i=as(t).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(wd(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var o=e&&e.correlationHeaderDomains;if(o){var a;if(ye(o,function(c){var l=new RegExp(c.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));a=a||l.test(i)}),!a)return!1}var s=e&&e.correlationHeaderExcludedDomains;if(!s||s.length===0)return!0;for(var r=0;r<s.length;r++){var u=new RegExp(s[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(u.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=Dr.getCorrelationContextValue(e,Le.requestContextTargetKey);if(t&&t!==Dr.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(i.length===2&&i[0]===t)return i[1]}}},py={Now:Ga,GetDuration:Pt}});function gy(e){if(!e)return{};var t=e.split(my),n=ch(t,function(i,o){var a=o.split(hy);if(a.length===2){var s=a[0].toLowerCase(),u=a[1];i[s]=u}return i},{});if(Ti(n).length>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+r+"dc."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||up}return n}var my,hy,yy,Lw=k(()=>{xn(),Se(),my=";",hy="=",yy={parse:gy}}),pp,xy=k(()=>{pp=function(){function e(){}return e}()}),vp,by=k(()=>{Fe(),xy(),vp=function(e){Ae(t,e);function t(){return e.call(this)||this}return t}(pp)}),wy,Uw=k(()=>{wy=function(){function e(){this.ver=1,this.sampleRate=100,this.tags={}}return e}()}),gp,Ow=k(()=>{Fe(),Uw(),yn(),Se(),xn(),gp=function(e){Ae(t,e);function t(n,r,i){var o=e.call(this)||this;return o.name=Dt(n,i)||nn,o.data=r,o.time=Mr(new Date),o.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return o.sampleRate===100?4:1},tags:1,data:1},o}return t}(wy)}),mp,Sy=k(()=>{mp=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return e}()}),gn,Hw=k(()=>{Fe(),Sy(),yn(),xn(),gn=function(e){Ae(t,e);function t(n,r,i,o){var a=e.call(this)||this;return a.aiDataContract={ver:1,name:1,properties:0,measurements:0},a.name=Dt(n,r)||nn,a.properties=Nr(n,i),a.measurements=Lr(n,o),a}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(mp)}),Cy,zw=k(()=>{Cy=function(){function e(){}return e}()}),Iy,Bw=k(()=>{Iy=function(){function e(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return e}()}),Ey,qw=k(()=>{Ey=function(){function e(){this.hasFullStack=!0,this.parsedStack=[]}return e}()});function Id(e,t){var n=e;return n&&!he(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),t&&(!n||n==="{}")&&(Ee(e.toString)?n=e.toString():n=""+e)):n=""+e+" - (Missing JSON.stringify)"),n||""}function qm(e,t){var n=e;return e&&(n=e[sc]||e[hp]||"",n&&!he(n)&&(n=Id(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&(n||"").indexOf(t)===-1&&(n=t+": "+n),n||""}function jw(e){return Ei(e)?"hasFullStack"in e&&"typeName"in e:!1}function Vw(e){return Ei(e)?"ver"in e&&"exceptions"in e&&"properties"in e:!1}function jm(e){return e&&e.src&&he(e.src)&&e.obj&&pr(e.obj)}function ho(e){var t=e||"";he(t)||(he(t[Gt])?t=t[Gt]:t=""+t);var n=t.split(`
`);return{src:t,obj:n}}function Ww(e){for(var t=[],n=e.split(`
`),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}function Vm(e){var t=null;if(e)try{if(e[Gt])t=ho(e[Gt]);else if(e[Ci]&&e[Ci][Gt])t=ho(e[Ci][Gt]);else if(e.exception&&e.exception[Gt])t=ho(e.exception[Gt]);else if(jm(e))t=e;else if(jm(e[ac]))t=e[ac];else if(window.opera&&e[sc])t=Ww(e.message);else if(he(e))t=ho(e);else{var n=e[sc]||e[hp]||"";he(e[Ed])&&(n&&(n+=`
`),n+=" from "+e[Ed]),n&&(t=ho(n))}}catch(r){t=ho(r)}return t||{src:"",obj:null}}function Kw(e){var t="";return e&&(e.obj?ye(e.obj,function(n){t+=n+`
`}):t=e.src||""),t}function Gw(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;ye(n,function(g){var m=g.toString();if(uc.regex.test(m)){var v=new uc(m,r++);i+=v.sizeInBytes,t.push(v)}});var o=32*1024;if(i>o)for(var a=0,s=t.length-1,u=0,c=a,l=s;a<s;){var f=t[a].sizeInBytes,d=t[s].sizeInBytes;if(u+=f+d,u>o){var p=l-c+1;t.splice(c,p);break}c=a,l=s,a++,s--}}return t}function oc(e){var t="";if(e&&(t=e.typeName||e.name||"",!t))try{var n=/function (.{1,200})\(/,r=n.exec(e.constructor.toString());t=r&&r.length>1?r[1]:""}catch{}return t}function Of(e){if(e)try{if(!he(e)){var t=oc(e),n=Id(e,!1);return(!n||n==="{}")&&(e[Ci]&&(e=e[Ci],t=oc(e)),n=Id(e,!0)),n.indexOf(t)!==0&&t!=="String"?t+":"+n:n}}catch{}return""+(e||"")}var Wm,Ci,Gt,ac,Ed,sc,hp,At,Hf,uc,Xw=k(()=>{Fe(),zw(),Bw(),qw(),yn(),Se(),xn(),Wm="<no_method>",Ci="error",Gt="stack",ac="stackDetails",Ed="errorSrc",sc="message",hp="description",At=function(e){Ae(t,e);function t(n,r,i,o,a,s){var u=e.call(this)||this;return u.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},Vw(r)?(u.exceptions=r.exceptions,u.properties=r.properties,u.measurements=r.measurements,r.severityLevel&&(u.severityLevel=r.severityLevel),r.id&&(u.id=r.id),r.problemGroup&&(u.problemGroup=r.problemGroup),u.ver=2,W(r.isManual)||(u.isManual=r.isManual)):(i||(i={}),u.exceptions=[new Hf(n,r,i)],u.properties=Nr(n,i),u.measurements=Lr(n,o),a&&(u.severityLevel=a),s&&(u.id=s)),u}return t.CreateAutoException=function(n,r,i,o,a,s,u,c){var l=oc(a||s||n);return{message:qm(n,l),url:r,lineNumber:i,columnNumber:o,error:Of(a||s||n),evt:Of(s||n),typeName:l,stackDetails:Vm(u||a||s),errorSrc:c}},t.CreateFromInterface=function(n,r,i,o){var a=r.exceptions&&Wa(r.exceptions,function(u){return Hf.CreateFromInterface(n,u)}),s=new t(n,Fo({},r,{exceptions:a}),i,o);return s},t.prototype.toInterface=function(){var n=this,r=n.exceptions,i=n.properties,o=n.measurements,a=n.severityLevel,s=n.ver,u=n.problemGroup,c=n.id,l=n.isManual,f=r instanceof Array&&Wa(r,function(d){return d.toInterface()})||void 0;return{ver:"4.0",exceptions:f,severityLevel:a,properties:i,measurements:o,problemGroup:u,id:c,isManual:l}},t.CreateSimpleException=function(n,r,i,o,a,s){return{exceptions:[{hasFullStack:!0,message:n,stack:a,typeName:r}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=Of,t}(Iy),Hf=function(e){Ae(t,e);function t(n,r,i){var o=e.call(this)||this;if(o.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},jw(r))o.typeName=r.typeName,o.message=r.message,o[Gt]=r[Gt],o.parsedStack=r.parsedStack,o.hasFullStack=r.hasFullStack;else{var a=r,s=a&&a.evt;lc(a)||(a=a[Ci]||s||a),o.typeName=Dt(n,oc(a))||nn,o.message=ap(n,qm(r||a,o.typeName))||nn;var u=r[ac]||Vm(r);o.parsedStack=Gw(u),o[Gt]=Kh(n,Kw(u)),o.hasFullStack=pr(o.parsedStack)&&o.parsedStack.length>0,i&&(i.typeName=i.typeName||o.typeName)}return o}return t.prototype.toInterface=function(){var n=this.parsedStack instanceof Array&&Wa(this.parsedStack,function(i){return i.toInterface()}),r={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Gt],parsedStack:n||void 0};return r},t.CreateFromInterface=function(n,r){var i=r.parsedStack instanceof Array&&Wa(r.parsedStack,function(a){return uc.CreateFromInterface(a)})||r.parsedStack,o=new t(n,Fo({},r,{parsedStack:i}));return o},t}(Ey),uc=function(e){Ae(t,e);function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof n=="string"){var o=n;i.level=r,i.method=Wm,i.assembly=yt(o),i.fileName="",i.line=0;var a=o.match(t.regex);a&&a.length>=5&&(i.method=yt(a[2])||i.method,i.fileName=yt(a[4]),i.line=parseInt(a[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return t.CreateFromInterface=function(n){return new t(n,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(Cy)}),Ty,Qw=k(()=>{Ty=function(){function e(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return e}()}),Td,$w=k(()=>{(function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})(Td||(Td={}))}),_y,Jw=k(()=>{$w(),_y=function(){function e(){this.kind=Td.Measurement}return e}()}),Py,Yw=k(()=>{Fe(),Jw(),Py=function(e){Ae(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},n}return t}(_y)}),Mn,Zw=k(()=>{Fe(),Qw(),yn(),Yw(),xn(),Mn=function(e){Ae(t,e);function t(n,r,i,o,a,s,u,c){var l=e.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var f=new Py;return f.count=o>0?o:void 0,f.max=isNaN(s)||s===null?void 0:s,f.min=isNaN(a)||a===null?void 0:a,f.name=Dt(n,r)||nn,f.value=i,l.metrics=[f],l.properties=Nr(n,u),l.measurements=Lr(n,c),l}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(Ty)}),xc,yp=k(()=>{Fe(),Sy(),xc=function(e){Ae(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(mp)}),mn,eS=k(()=>{Fe(),yp(),yn(),mc(),xn(),mn=function(e){Ae(t,e);function t(n,r,i,o,a,s,u){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=Gh(n,u),c.url=cs(n,i),c.name=Dt(n,r)||nn,isNaN(o)||(c.duration=ar(o)),c.properties=Nr(n,a),c.measurements=Lr(n,s),c}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(xc)}),Ay,tS=k(()=>{Ay=function(){function e(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return e}()}),Nn,nS=k(()=>{Fe(),yn(),vy(),tS(),mc(),Nn=function(e){Ae(t,e);function t(n,r,i,o,a,s,u,c,l,f,d,p){l===void 0&&(l="Ajax");var g=e.call(this)||this;g.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},g.id=r,g.duration=ar(a),g.success=s,g.resultCode=u+"",g.type=Dt(n,l);var m=Nw(n,i,c,o);return g.data=cs(n,o)||m.data,g.target=Dt(n,m.target),f&&(g.target=g.target+" | "+f),g.name=Dt(n,m.name),g.properties=Nr(n,d),g.measurements=Lr(n,p),g}return t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(Ay)}),Ry,rS=k(()=>{Ry=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return e}()}),lr,iS=k(()=>{Fe(),rS(),yn(),xn(),lr=function(e){Ae(t,e);function t(n,r,i,o,a){var s=e.call(this)||this;return s.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},r=r||nn,s.message=ap(n,r),s.properties=Nr(n,o),s.measurements=Lr(n,a),i&&(s.severityLevel=i),s}return t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(Ry)}),Dy,oS=k(()=>{Fe(),yp(),Dy=function(e){Ae(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(xc)}),fr,aS=k(()=>{Fe(),oS(),yn(),xn(),fr=function(e){Ae(t,e);function t(n,r,i,o,a,s,u){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=cs(n,i),c.name=Dt(n,r)||nn,c.properties=Nr(n,a),c.measurements=Lr(n,s),u&&(c.domProcessing=u.domProcessing,c.duration=u.duration,c.networkConnect=u.networkConnect,c.perfTotal=u.perfTotal,c.receivedResponse=u.receivedResponse,c.sentRequest=u.sentRequest),c}return t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(Dy)}),rr,sS=k(()=>{Fe(),by(),rr=function(e){Ae(t,e);function t(n,r){var i=e.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=n,i.baseData=r,i}return t}(vp)}),ss,uS=k(()=>{(function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})(ss||(ss={}))}),ky,cS=k(()=>{Se(),ky=function(){function e(){}return e.getConfig=function(t,n,r,i){i===void 0&&(i=!1);var o;return r&&t.extensionConfig&&t.extensionConfig[r]&&!W(t.extensionConfig[r][n])?o=t.extensionConfig[r][n]:o=t[n],W(o)?i:o},e}()});function Pr(e){var t="ai."+e+".";return function(n){return t+n}}var yo,it,Ha,mi,Tu,nr,Ar,xo,bc,Fy=k(()=>{Fe(),Se(),yo=Pr("application"),it=Pr("device"),Ha=Pr("location"),mi=Pr("operation"),Tu=Pr("session"),nr=Pr("user"),Ar=Pr("cloud"),xo=Pr("internal"),bc=function(e){Ae(t,e);function t(){return e.call(this)||this}return t}(iw({applicationVersion:yo("ver"),applicationBuild:yo("build"),applicationTypeId:yo("typeId"),applicationId:yo("applicationId"),applicationLayer:yo("layer"),deviceId:it("id"),deviceIp:it("ip"),deviceLanguage:it("language"),deviceLocale:it("locale"),deviceModel:it("model"),deviceFriendlyName:it("friendlyName"),deviceNetwork:it("network"),deviceNetworkName:it("networkName"),deviceOEMName:it("oemName"),deviceOS:it("os"),deviceOSVersion:it("osVersion"),deviceRoleInstance:it("roleInstance"),deviceRoleName:it("roleName"),deviceScreenResolution:it("screenResolution"),deviceType:it("type"),deviceMachineName:it("machineName"),deviceVMName:it("vmName"),deviceBrowser:it("browser"),deviceBrowserVersion:it("browserVersion"),locationIp:Ha("ip"),locationCountry:Ha("country"),locationProvince:Ha("province"),locationCity:Ha("city"),operationId:mi("id"),operationName:mi("name"),operationParentId:mi("parentId"),operationRootId:mi("rootId"),operationSyntheticSource:mi("syntheticSource"),operationCorrelationVector:mi("correlationVector"),sessionId:Tu("id"),sessionIsFirst:Tu("isFirst"),sessionIsNew:Tu("isNew"),userAccountAcquisitionDate:nr("accountAcquisitionDate"),userAccountId:nr("accountId"),userAgent:nr("userAgent"),userId:nr("id"),userStoreRegion:nr("storeRegion"),userAuthUserId:nr("authUserId"),userAnonymousUserAcquisitionDate:nr("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:nr("authUserAcquisitionDate"),cloudName:Ar("name"),cloudRole:Ar("role"),cloudRoleVer:Ar("roleVer"),cloudRoleInstance:Ar("roleInstance"),cloudEnvironment:Ar("environment"),cloudLocation:Ar("location"),cloudDeploymentUnit:Ar("deploymentUnit"),internalNodeName:xo("nodeName"),internalSdkVersion:xo("sdkVersion"),internalAgentVersion:xo("agentVersion"),internalSnippet:xo("snippet"),internalSdkSrc:xo("sdkSrc")}))}),Pn,lS=k(()=>{yn(),Se(),xn(),Pn=function(){function e(){}return e.create=function(t,n,r,i,o,a){if(r=Dt(i,r)||nn,W(t)||W(n)||W(r))throw Error("Input doesn't contain all required fields");var s={name:r,time:Mr(new Date),iKey:"",ext:a||{},tags:[],data:{},baseType:n,baseData:t};return W(o)||lt(o,function(u,c){s.data[u]=c}),s},e}()}),_t,ke,fS=k(()=>{Fy(),_t={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},ke=new bc}),zo,wc,xp,ft=k(()=>{vy(),Lw(),Vh(),xn(),by(),xy(),Ow(),Hw(),Xw(),Zw(),eS(),yp(),nS(),iS(),aS(),sS(),uS(),cS(),Fy(),yn(),lS(),fS(),Zh(),mc(),$h(),oy(),ly(),zo="AppInsightsPropertiesPlugin",wc="AppInsightsChannelPlugin",xp="ApplicationInsightsAnalytics"}),My,dS=k(()=>{ft(),Se(),dt(),My=function(){function e(t,n,r,i){Je(e,this,function(o){var a=null,s=[],u=!1,c;r&&(c=r.logger);function l(){r&&ye(r.getTransmissionControls(),function(d){ye(d,function(p){return p.flush(!0)})})}function f(d){s.push(d),a||(a=setInterval(function(){var p=s.slice(0),g=!1;s=[],ye(p,function(m){m()?g=!0:s.push(m)}),s.length===0&&(clearInterval(a),a=null),g&&l()},100))}o.trackPageView=function(d,p){var g=d.name;if(W(g)||typeof g!="string"){var m=Dn();g=d.name=m&&m.title||""}var v=d.uri;if(W(v)||typeof v!="string"){var h=wi();v=d.uri=h&&h.href||""}if(!i.isPerformanceTimingSupported()){t.sendPageViewInternal(d,p),l(),c.throwInternal(V.WARNING,U.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var x=!1,C,_=i.getPerformanceTiming().navigationStart;_>0&&(C=Pt(_,+new Date),i.shouldCollectDuration(C)||(C=void 0));var y;!W(p)&&!W(p.duration)&&(y=p.duration),(n||!isNaN(y))&&(isNaN(y)&&(p||(p={}),p.duration=C),t.sendPageViewInternal(d,p),l(),x=!0);var K=6e4;p||(p={}),f(function(){var te=!1;try{if(i.isPerformanceTimingDataReady()){te=!0;var A={name:g,uri:v};i.populatePageViewPerformanceEvent(A),!A.isValid&&!x?(p.duration=C,t.sendPageViewInternal(d,p)):(x||(p.duration=A.durationMs,t.sendPageViewInternal(d,p)),u||(t.sendPageViewPerformanceInternal(A,p),u=!0))}else _>0&&Pt(_,+new Date)>K&&(te=!0,x||(p.duration=K,t.sendPageViewInternal(d,p)))}catch(Y){c.throwInternal(V.CRITICAL,U.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Pe(Y),{exception:ve(Y)})}return te})}})}return e}()}),Ny,Km,pS=k(()=>{ft(),Se(),Ny=function(){function e(t,n){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=n,this._logger=t}return e.prototype.trackPreviousPageVisit=function(t,n){try{var r=this.restartPageVisitTimer(t,n);r&&this.pageVisitTimeTrackingHandler(r.pageName,r.pageUrl,r.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+ve(i))}},e.prototype.restartPageVisitTimer=function(t,n){try{var r=this.stopPageVisitTimer();return this.startPageVisitTimer(t,n),r}catch(i){return this._logger.warnToConsole("Call to restart failed: "+ve(i)),null}},e.prototype.startPageVisitTimer=function(t,n){try{if(Ho()){rc(this._logger,this.prevPageVisitDataKeyName)!=null&&Rn("Cannot call startPageVisit consecutively without first calling stopPageVisit");var r=new Km(t,n),i=hn().stringify(r);ic(this._logger,this.prevPageVisitDataKeyName,i)}}catch(o){this._logger.warnToConsole("Call to start failed: "+ve(o))}},e.prototype.stopPageVisitTimer=function(){try{if(Ho()){var t=tn(),n=rc(this._logger,this.prevPageVisitDataKeyName);if(n&&qo()){var r=hn().parse(n);return r.pageVisitTime=t-r.pageVisitStartTime,iy(this._logger,this.prevPageVisitDataKeyName),r}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+ve(i)),null}},e}(),Km=function(){function e(t,n){this.pageVisitStartTime=tn(),this.pageName=t,this.pageUrl=n}return e}()}),Ly,vS=k(()=>{ft(),Se(),Ly=function(){function e(t){this.MAX_DURATION_ALLOWED=36e5,t&&(this._logger=t.logger)}return e.prototype.populatePageViewPerformanceEvent=function(t){t.isValid=!1;var n=this.getPerformanceNavigationTiming(),r=this.getPerformanceTiming(),i=0,o=0,a=0,s=0,u=0;(n||r)&&(n?(i=n.duration,o=n.startTime===0?n.connectEnd:Pt(n.startTime,n.connectEnd),a=Pt(n.requestStart,n.responseStart),s=Pt(n.responseStart,n.responseEnd),u=Pt(n.responseEnd,n.loadEventEnd)):(i=Pt(r.navigationStart,r.loadEventEnd),o=Pt(r.navigationStart,r.connectEnd),a=Pt(r.requestStart,r.responseStart),s=Pt(r.responseStart,r.responseEnd),u=Pt(r.responseEnd,r.loadEventEnd)),i===0?this._logger.throwInternal(V.WARNING,U.ErrorPVCalc,"error calculating page view performance.",{total:i,network:o,request:a,response:s,dom:u}):this.shouldCollectDuration(i,o,a,s,u)?i<Math.floor(o)+Math.floor(a)+Math.floor(s)+Math.floor(u)?this._logger.throwInternal(V.WARNING,U.ClientPerformanceMathError,"client performance math error.",{total:i,network:o,request:a,response:s,dom:u}):(t.durationMs=i,t.perfTotal=t.duration=ar(i),t.networkConnect=ar(o),t.sentRequest=ar(a),t.receivedResponse=ar(s),t.domProcessing=ar(u),t.isValid=!0):this._logger.throwInternal(V.WARNING,U.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:o,request:a,response:s,dom:u}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?or().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?or().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var t=or();return t&&t.getEntriesByType&&t.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var t=or();return t&&t.timing},e.prototype.isPerformanceTimingDataReady=function(){var t=or(),n=t?t.timing:0;return n&&n.domainLookupStart>0&&n.navigationStart>0&&n.responseStart>0&&n.requestStart>0&&n.loadEventEnd>0&&n.responseEnd>0&&n.connectEnd>0&&n.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Un()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],o=r.userAgent,a=!1;if(o)for(var s=0;s<i.length;s++)a=a||o.toLowerCase().indexOf(i[s])!==-1;if(a)return!1;for(var s=0;s<t.length;s++)if(t[s]<0||t[s]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}()});function za(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var zf,_u,bp,Bf,gS=k(()=>{Fe(),ft(),Se(),dS(),pS(),vS(),dt(),zf="duration",_u="event",bp=function(e){Ae(t,e);function t(){var n=e.call(this)||this;n.identifier=xp,n.priority=180,n.autoRoutePVDelay=500;var r,i,o,a=0,s,u;return Je(t,n,function(c,l){var f=wi(!0);s=f&&f.href||"",c.getCookieMgr=function(){return Jd(c.core)},c.processTelemetry=function(v,h){Uo(c.core,function(){return c.identifier+":processTelemetry"},function(){var x=!1,C=c._telemetryInitializers.length;h=c._getTelCtx(h);for(var _=0;_<C;++_){var y=c._telemetryInitializers[_];if(y)try{if(y.apply(null,[v])===!1){x=!0;break}}catch(K){h.diagLog().throwInternal(V.CRITICAL,U.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Pe(K),{exception:ve(K)},!0)}}x||c.processNext(v,h)},function(){return{item:v}},!v.sync)},c.trackEvent=function(v,h){try{var x=Pn.create(v,gn.dataType,gn.envelopeType,c.diagLog(),h);c.core.track(x)}catch(C){c.diagLog().throwInternal(V.WARNING,U.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Pe(C),{exception:ve(C)})}},c.startTrackEvent=function(v){try{r.start(v)}catch(h){c.diagLog().throwInternal(V.CRITICAL,U.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Pe(h),{exception:ve(h)})}},c.stopTrackEvent=function(v,h,x){try{r.stop(v,void 0,h)}catch(C){c.diagLog().throwInternal(V.CRITICAL,U.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Pe(C),{exception:ve(C)})}},c.trackTrace=function(v,h){try{var x=Pn.create(v,lr.dataType,lr.envelopeType,c.diagLog(),h);c.core.track(x)}catch(C){c.diagLog().throwInternal(V.WARNING,U.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Pe(C),{exception:ve(C)})}},c.trackMetric=function(v,h){try{var x=Pn.create(v,Mn.dataType,Mn.envelopeType,c.diagLog(),h);c.core.track(x)}catch(C){c.diagLog().throwInternal(V.CRITICAL,U.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Pe(C),{exception:ve(C)})}},c.trackPageView=function(v,h){try{var x=v||{};c._pageViewManager.trackPageView(x,Fo({},x.properties,x.measurements,h)),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(x.name,x.uri)}catch(C){c.diagLog().throwInternal(V.CRITICAL,U.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Pe(C),{exception:ve(C)})}},c.sendPageViewInternal=function(v,h,x){var C=Dn();C&&(v.refUri=v.refUri===void 0?C.referrer:v.refUri);var _=Pn.create(v,mn.dataType,mn.envelopeType,c.diagLog(),h,x);c.core.track(_),a=0},c.sendPageViewPerformanceInternal=function(v,h,x){var C=Pn.create(v,fr.dataType,fr.envelopeType,c.diagLog(),h,x);c.core.track(C)},c.trackPageViewPerformance=function(v,h){try{c._pageViewPerformanceManager.populatePageViewPerformanceEvent(v),c.sendPageViewPerformanceInternal(v,h)}catch(x){c.diagLog().throwInternal(V.CRITICAL,U.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Pe(x),{exception:ve(x)})}},c.startTrackPage=function(v){try{if(typeof v!="string"){var h=Dn();v=h&&h.title||""}i.start(v)}catch(x){c.diagLog().throwInternal(V.CRITICAL,U.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Pe(x),{exception:ve(x)})}},c.stopTrackPage=function(v,h,x,C){try{if(typeof v!="string"){var _=Dn();v=_&&_.title||""}if(typeof h!="string"){var y=wi();h=y&&y.href||""}i.stop(v,h,x,C),c.config.autoTrackPageVisitTime&&c._pageVisitTimeManager.trackPreviousPageVisit(v,h)}catch(K){c.diagLog().throwInternal(V.CRITICAL,U.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Pe(K),{exception:ve(K)})}},c.sendExceptionInternal=function(v,h,x){var C=v.exception||v.error||new Error(nn),_=new At(c.diagLog(),C,v.properties||h,v.measurements,v.severityLevel,v.id).toInterface(),y=Pn.create(_,At.dataType,At.envelopeType,c.diagLog(),h,x);c.core.track(y)},c.trackException=function(v,h){try{c.sendExceptionInternal(v,h)}catch(x){c.diagLog().throwInternal(V.CRITICAL,U.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Pe(x),{exception:ve(x)})}},c._onerror=function(v){var h=v&&v.error,x=v&&v.evt;try{if(!x){var C=rs();C&&(x=C[_u])}var _=v&&v.url||(Dn()||{}).URL,y=v.errorSrc||"window.onerror@"+_+":"+(v.lineNumber||0)+":"+(v.columnNumber||0),K={errorSrc:y,url:_,lineNumber:v.lineNumber||0,columnNumber:v.columnNumber||0,message:v.message};Yh(v.message,v.url,v.lineNumber,v.columnNumber,v.error)?m(At.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",_,v.lineNumber||0,v.columnNumber||0,h,x,null,y),K):(v.errorSrc||(v.errorSrc=y),c.trackException({exception:v,severityLevel:ss.Error},K))}catch(A){var te=h?h.name+", "+h.message:"null";c.diagLog().throwInternal(V.CRITICAL,U.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Pe(A),{exception:ve(A),errorString:te})}},c.addTelemetryInitializer=function(v){c._telemetryInitializers.push(v)},c.initialize=function(v,h,x,C){if(!c.isInitialized()){if(W(h))throw Error("Error initializing");l.initialize(v,h,x,C),c.setInitialized(!1);var _=c._getTelCtx(),y=c.identifier;c.config=_.getExtCfg(y);var K=t.getDefaultConfig(v);K!==void 0&&lt(K,function(H,X){c.config[H]=_.getConfig(y,H,X),c.config[H]===void 0&&(c.config[H]=X)}),c.config.isStorageUseDisabled&&ey();var te={instrumentationKey:function(){return v.instrumentationKey},accountId:function(){return c.config.accountId||v.accountId},sessionRenewalMs:function(){return c.config.sessionRenewalMs||v.sessionRenewalMs},sessionExpirationMs:function(){return c.config.sessionExpirationMs||v.sessionExpirationMs},sampleRate:function(){return c.config.samplingPercentage||v.samplingPercentage},sdkExtension:function(){return c.config.sdkExtension||v.sdkExtension},isBrowserLinkTrackingEnabled:function(){return c.config.isBrowserLinkTrackingEnabled||v.isBrowserLinkTrackingEnabled},appId:function(){return c.config.appId||v.appId}};c._pageViewPerformanceManager=new Ly(c.core),c._pageViewManager=new My(n,c.config.overridePageViewDuration,c.core,c._pageViewPerformanceManager),c._pageVisitTimeManager=new Ny(c.diagLog(),function(H,X,I){return d(H,X,I)}),c._telemetryInitializers=c._telemetryInitializers||[],p(te),r=new Bf(c.diagLog(),"trackEvent"),r.action=function(H,X,I,z){z||(z={}),z[zf]=I.toString(),c.trackEvent({name:H,properties:z})},i=new Bf(c.diagLog(),"trackPageView"),i.action=function(H,X,I,z,Q){W(z)&&(z={}),z[zf]=I.toString();var G={name:H,uri:X,properties:z,measurements:Q};c.sendPageViewInternal(G,z)};var A=rs(),Y=cw(),q=wi(!0),oe=n;if(c.config.disableExceptionTracking===!1&&!c.config.autoExceptionInstrumented&&A){var Z="onerror",ce=A[Z];A.onerror=function(H,X,I,z,Q){var G=A[_u],le=ce&&ce(H,X,I,z,Q);return le!==!0&&oe._onerror(At.CreateAutoException(H,X,I,z,Q,G)),le},c.config.autoExceptionInstrumented=!0}if(c.config.disableExceptionTracking===!1&&c.config.enableUnhandledPromiseRejectionTracking===!0&&!c.config.autoUnhandledPromiseInstrumented&&A){var b="onunhandledrejection",E=A[b];A[b]=function(H){var X=A[_u],I=E&&E.call(A,H);return I!==!0&&oe._onerror(At.CreateAutoException(H.reason.toString(),q?q.href:"",0,0,H,X)),I},c.config.autoUnhandledPromiseInstrumented=!0}if(c.config.enableAutoRouteTracking===!0&&Y&&Ee(Y.pushState)&&Ee(Y.replaceState)&&A&&typeof Event<"u"){var M=n;ye(x,function(H){H.identifier===zo&&(o=H)}),Y.pushState=function(H){return function(){var X=H.apply(this,arguments);return za(A,Co(M.config.namePrefix+"pushState")),za(A,Co(M.config.namePrefix+"locationchange")),X}}(Y.pushState),Y.replaceState=function(H){return function(){var X=H.apply(this,arguments);return za(A,Co(M.config.namePrefix+"replaceState")),za(A,Co(M.config.namePrefix+"locationchange")),X}}(Y.replaceState),A.addEventListener&&(A.addEventListener(M.config.namePrefix+"popstate",function(){za(A,Co(M.config.namePrefix+"locationchange"))}),A.addEventListener(M.config.namePrefix+"locationchange",function(){if(o&&o.context&&o.context.telemetryTrace){o.context.telemetryTrace.traceID=kn();var H="_unknown_";q&&q.pathname&&(H=q.pathname+(q.hash||"")),o.context.telemetryTrace.name=H}u&&(s=u),u=q&&q.href||"",setTimeout(function(X){M.trackPageView({refUri:X,properties:{duration:0}})}.bind(n,s),M.autoRoutePVDelay)}))}c.setInitialized(!0)}};function d(v,h,x){var C={PageName:v,PageUrl:h};c.trackMetric({name:"PageVisitTime",average:x,max:x,min:x,sampleCount:1},C)}function p(v){if(!v.isBrowserLinkTrackingEnabled()){var h=["/browserLinkSignalR/","/__browserLink/"],x=function(C){if(C.baseType===Nn.dataType){var _=C.baseData;if(_){for(var y=0;y<h.length;y++)if(_.target&&_.target.indexOf(h[y])>=0)return!1}}return!0};g(x)}}function g(v){c._telemetryInitializers.push(v)}function m(v,h){var x=Pn.create(v,At.dataType,At.envelopeType,c.diagLog(),h);c.core.track(x)}}),n}return t.getDefaultConfig=function(n){return n||(n={}),n.sessionRenewalMs=30*60*1e3,n.sessionExpirationMs=24*60*60*1e3,n.disableExceptionTracking=Re(n.disableExceptionTracking),n.autoTrackPageVisitTime=Re(n.autoTrackPageVisitTime),n.overridePageViewDuration=Re(n.overridePageViewDuration),n.enableUnhandledPromiseRejectionTracking=Re(n.enableUnhandledPromiseRejectionTracking),(isNaN(n.samplingPercentage)||n.samplingPercentage<=0||n.samplingPercentage>=100)&&(n.samplingPercentage=100),n.isStorageUseDisabled=Re(n.isStorageUseDisabled),n.isBrowserLinkTrackingEnabled=Re(n.isBrowserLinkTrackingEnabled),n.enableAutoRouteTracking=Re(n.enableAutoRouteTracking),n.namePrefix=n.namePrefix||"",n.enableDebug=Re(n.enableDebug),n.disableFlushOnBeforeUnload=Re(n.disableFlushOnBeforeUnload),n.disableFlushOnUnload=Re(n.disableFlushOnUnload,n.disableFlushOnBeforeUnload),n},t.Version="2.6.4",t}(Ai),Bf=function(){function e(t,n){var r=this,i={};r.start=function(o){typeof i[o]<"u"&&t.throwInternal(V.WARNING,U.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:o,key:o},!0),i[o]=+new Date},r.stop=function(o,a,s,u){var c=i[o];if(isNaN(c))t.throwInternal(V.WARNING,U.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:o,key:o},!0);else{var l=+new Date,f=Pt(c,l);r.action(o,a,f,s,u)}delete i[o],i[o]=void 0}}return e}()}),Uy=k(()=>{gS()}),Oy,Hy,mS=k(()=>{ft(),Se(),dt(),Oy=function(){function e(t){var n=[];Je(e,this,function(r){r.enqueue=function(i){n.push(i)},r.count=function(){return n.length},r.clear=function(){n.length=0},r.getItems=function(){return n.slice(0)},r.batchPayloads=function(i){if(i&&i.length>0){var o=t.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return o}return null},r.markAsSent=function(i){r.clear()},r.clearSent=function(i){}})}return e}(),Hy=function(){function e(t,n){var r=!1,i;Je(e,this,function(o){var a=c(e.BUFFER_KEY),s=c(e.SENT_BUFFER_KEY);i=a.concat(s),i.length>e.MAX_BUFFER_SIZE&&(i.length=e.MAX_BUFFER_SIZE),l(e.SENT_BUFFER_KEY,[]),l(e.BUFFER_KEY,i),o.enqueue=function(f){if(i.length>=e.MAX_BUFFER_SIZE){r||(t.throwInternal(V.WARNING,U.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),r=!0);return}i.push(f),l(e.BUFFER_KEY,i)},o.count=function(){return i.length},o.clear=function(){i=[],l(e.BUFFER_KEY,[]),l(e.SENT_BUFFER_KEY,[]),r=!1},o.getItems=function(){return i.slice(0)},o.batchPayloads=function(f){if(f&&f.length>0){var d=n.emitLineDelimitedJson()?f.join(`
`):"["+f.join(",")+"]";return d}return null},o.markAsSent=function(f){i=u(f,i),l(e.BUFFER_KEY,i);var d=c(e.SENT_BUFFER_KEY);d instanceof Array&&f instanceof Array&&(d=d.concat(f),d.length>e.MAX_BUFFER_SIZE&&(t.throwInternal(V.CRITICAL,U.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+d.length,!0),d.length=e.MAX_BUFFER_SIZE),l(e.SENT_BUFFER_KEY,d))},o.clearSent=function(f){var d=c(e.SENT_BUFFER_KEY);d=u(f,d),l(e.SENT_BUFFER_KEY,d)};function u(f,d){var p=[];return ye(d,function(g){!Ee(g)&&ns(f,g)===-1&&p.push(g)}),p}function c(f){var d=f;try{d=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+d:d;var p=rc(t,d);if(p){var g=hn().parse(p);if(he(g)&&(g=hn().parse(g)),g&&pr(g))return g}}catch(m){t.throwInternal(V.CRITICAL,U.FailedToRestoreStorageBuffer," storage key: "+d+", "+Pe(m),{exception:ve(m)})}return[]}function l(f,d){var p=f;try{p=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+p:p;var g=JSON.stringify(d);ic(t,p,g)}catch(m){ic(t,p,JSON.stringify([])),t.throwInternal(V.WARNING,U.FailedToSetStorageBuffer," storage key: "+p+", "+Pe(m)+". Buffer cleared",{exception:ve(m)})}}})}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}()});function ot(e,t,n){return Ie(e,t,n,ed)}var Pu,Oe,ct,qf,We,zy,_d,By,qy,jy,Vy,Wy,hS=k(()=>{Fe(),ft(),Se(),Pu="baseType",Oe="baseData",ct="properties",qf="true",We=function(){function e(){}return e.extractPropsAndMeasurements=function(t,n,r){W(t)||lt(t,function(i,o){zd(o)?r[i]=o:he(o)?n[i]=o:qo()&&(n[i]=hn().stringify(o))})},e.createEnvelope=function(t,n,r,i){var o=new gp(t,i,n);ot(o,"sampleRate",r[hc]),(r[Oe]||{}).startTime&&(o.time=Mr(r[Oe].startTime)),o.iKey=r.iKey;var a=r.iKey.replace(/-/g,"");return o.name=o.name.replace("{0}",a),e.extractPartAExtensions(r,o),r.tags=r.tags||[],Rm(o)},e.extractPartAExtensions=function(t,n){var r=n.tags=n.tags||{},i=t.ext=t.ext||{},o=t.tags=t.tags||[],a=i.user;a&&(ot(r,ke.userAuthUserId,a.authId),ot(r,ke.userId,a.id||a.localId));var s=i.app;s&&ot(r,ke.sessionId,s.sesId);var u=i.device;u&&(ot(r,ke.deviceId,u.id||u.localId),ot(r,ke.deviceType,u.deviceClass),ot(r,ke.deviceIp,u.ip),ot(r,ke.deviceModel,u.model),ot(r,ke.deviceType,u.deviceType));var c=t.ext.web;if(c){ot(r,ke.deviceLanguage,c.browserLang),ot(r,ke.deviceBrowserVersion,c.browserVer),ot(r,ke.deviceBrowser,c.browser);var l=n.data=n.data||{},f=l[Oe]=l[Oe]||{},d=f[ct]=f[ct]||{};ot(d,"domain",c.domain),ot(d,"isManual",c.isManual?qf:null),ot(d,"screenRes",c.screenRes),ot(d,"userConsent",c.userConsent?qf:null)}var p=i.os;p&&ot(r,ke.deviceOS,p.name);var g=i.trace;g&&(ot(r,ke.operationParentId,g.parentID),ot(r,ke.operationName,g.name),ot(r,ke.operationId,g.traceID));for(var m={},v=o.length-1;v>=0;v--){var h=o[v];lt(h,function(C,_){m[C]=_}),o.splice(v,1)}lt(o,function(C,_){m[C]=_});var x=Fo({},r,m);x[ke.internalSdkVersion]||(x[ke.internalSdkVersion]="javascript:"+e.Version),n.tags=Rm(x)},e.prototype.Init=function(t,n){this._logger=t,W(n[Oe])&&this._logger.throwInternal(V.CRITICAL,U.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},e.Version="2.6.4",e}(),zy=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Oe].measurements||{},o=r[Oe][ct]||{};We.extractPropsAndMeasurements(r.data,o,i);var a=r[Oe];if(W(a))return n.warnToConsole("Invalid input for dependency data"),null;var s=a[ct]&&a[ct][nc]?a[ct][nc]:"GET",u=new Nn(n,a.id,a.target,a.name,a.duration,a.success,a.responseCode,s,a.type,a.correlationContext,o,i),c=new rr(Nn.dataType,u);return We.createEnvelope(n,Nn.envelopeType,r,c)},t.DependencyEnvelopeCreator=new t,t}(We),_d=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i={},o={};r[Pu]!==gn.dataType&&(i.baseTypeSource=r[Pu]),r[Pu]===gn.dataType?(i=r[Oe][ct]||{},o=r[Oe].measurements||{}):r[Oe]&&We.extractPropsAndMeasurements(r[Oe],i,o),We.extractPropsAndMeasurements(r.data,i,o);var a=r[Oe].name,s=new gn(n,a,i,o),u=new rr(gn.dataType,s);return We.createEnvelope(n,gn.envelopeType,r,u)},t.EventEnvelopeCreator=new t,t}(We),By=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Oe].measurements||{},o=r[Oe][ct]||{};We.extractPropsAndMeasurements(r.data,o,i);var a=r[Oe],s=At.CreateFromInterface(n,a,o,i),u=new rr(At.dataType,s);return We.createEnvelope(n,At.envelopeType,r,u)},t.ExceptionEnvelopeCreator=new t,t}(We),qy=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Oe],o=i[ct]||{},a=i.measurements||{};We.extractPropsAndMeasurements(r.data,o,a);var s=new Mn(n,i.name,i.average,i.sampleCount,i.min,i.max,o,a),u=new rr(Mn.dataType,s);return We.createEnvelope(n,Mn.envelopeType,r,u)},t.MetricEnvelopeCreator=new t,t}(We),jy=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i="duration",o,a=r[Oe];!W(a)&&!W(a[ct])&&!W(a[ct][i])?(o=a[ct][i],delete a[ct][i]):!W(r.data)&&!W(r.data[i])&&(o=r.data[i],delete r.data[i]);var s=r[Oe],u;((r.ext||{}).trace||{}).traceID&&(u=r.ext.trace.traceID);var c=s.id||u,l=s.name,f=s.uri,d=s[ct]||{},p=s.measurements||{};if(W(s.refUri)||(d.refUri=s.refUri),W(s.pageType)||(d.pageType=s.pageType),W(s.isLoggedIn)||(d.isLoggedIn=s.isLoggedIn.toString()),!W(s[ct])){var g=s[ct];lt(g,function(h,x){d[h]=x})}We.extractPropsAndMeasurements(r.data,d,p);var m=new mn(n,l,f,o,d,p,c),v=new rr(mn.dataType,m);return We.createEnvelope(n,mn.envelopeType,r,v)},t.PageViewEnvelopeCreator=new t,t}(We),Vy=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Oe],o=i.name,a=i.uri||i.url,s=i[ct]||{},u=i.measurements||{};We.extractPropsAndMeasurements(r.data,s,u);var c=new fr(n,o,a,void 0,s,u,i),l=new rr(fr.dataType,c);return We.createEnvelope(n,fr.envelopeType,r,l)},t.PageViewPerformanceEnvelopeCreator=new t,t}(We),Wy=function(e){Ae(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Oe].message,o=r[Oe].severityLevel,a=r[Oe][ct]||{},s=r[Oe].measurements||{};We.extractPropsAndMeasurements(r.data,a,s);var u=new lr(n,i,o,a,s),c=new rr(lr.dataType,u);return We.createEnvelope(n,lr.envelopeType,r,c)},t.TraceEnvelopeCreator=new t,t}(We)}),Ky,yS=k(()=>{Se(),dt(),Ky=function(){function e(t){Je(e,this,function(n){n.serialize=function(a){var s=r(a,"root");try{return hn().stringify(s)}catch(u){t.throwInternal(V.CRITICAL,U.CannotSerializeObject,u&&Ee(u.toString)?u.toString():"Error serializing object",null,!0)}};function r(a,s){var u="__aiCircularRefCheck",c={};if(!a)return t.throwInternal(V.CRITICAL,U.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:s},!0),c;if(a[u])return t.throwInternal(V.WARNING,U.CircularReferenceDetected,"Circular reference detected while serializing object",{name:s},!0),c;if(!a.aiDataContract){if(s==="measurements")c=o(a,"number",s);else if(s==="properties")c=o(a,"string",s);else if(s==="tags")c=o(a,"string",s);else if(pr(a))c=i(a,s);else{t.throwInternal(V.WARNING,U.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:s},!0);try{hn().stringify(a),c=a}catch(l){t.throwInternal(V.CRITICAL,U.CannotSerializeObject,l&&Ee(l.toString)?l.toString():"Error serializing object",null,!0)}}return c}return a[u]=!0,lt(a.aiDataContract,function(l,f){var d=Ee(f)?f()&1:f&1,p=Ee(f)?f()&4:f&4,g=f&2,m=a[l]!==void 0,v=Ei(a[l])&&a[l]!==null;if(d&&!m&&!g)t.throwInternal(V.CRITICAL,U.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:l,name:s});else if(!p){var h=void 0;v?g?h=i(a[l],l):h=r(a[l],l):h=a[l],h!==void 0&&(c[l]=h)}}),delete a[u],c}function i(a,s){var u;if(a)if(!pr(a))t.throwInternal(V.CRITICAL,U.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:s},!0);else{u=[];for(var c=0;c<a.length;c++){var l=a[c],f=r(l,s+"["+c+"]");u.push(f)}}return u}function o(a,s,u){var c;return a&&(c={},lt(a,function(l,f){if(s==="string")f===void 0?c[l]="undefined":f===null?c[l]="null":f.toString?c[l]=f.toString():c[l]="invalid field: toString() is not defined.";else if(s==="number")if(f===void 0)c[l]="undefined";else if(f===null)c[l]="null";else{var d=parseFloat(f);isNaN(d)?c[l]="NaN":c[l]=d}else c[l]="invalid field: "+u+" is of unknown type.",t.throwInternal(V.CRITICAL,c[l],null,!0)})),c}})}return e}()}),Gm,Pd,xS=k(()=>{Se(),dt(),Gm=function(){function e(){var t=rs(),n=Dn(),r=!1,i=!0;Je(e,this,function(o){try{if(t&&os.Attach(t,"online",u)&&(os.Attach(t,"offline",c),r=!0),n){var a=n.body||n;Rt(a.ononline)||(a.ononline=u,a.onoffline=c,r=!0)}if(r){var s=Un();s&&!W(s.onLine)&&(i=s.onLine)}}catch{r=!1}o.isListening=r,o.isOnline=function(){var l=!0,f=Un();return r?l=i:f&&!W(f.onLine)&&(l=f.onLine),l},o.isOffline=function(){return!o.isOnline()};function u(){i=!0}function c(){i=!1}})}return e.Offline=new e,e}(),Pd=Gm.Offline}),Gy,bS=k(()=>{Gy=function(){function e(){}return e.prototype.getHashCodeScore=function(t){var n=this.getHashCode(t)/e.INT_MAX_VALUE;return n*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n=n&n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}()}),Xy,wS=k(()=>{bS(),ft(),Xy=function(){function e(){this.hashCodeGeneragor=new Gy,this.keys=new bc}return e.prototype.getSamplingScore=function(t){var n=0;return t.tags&&t.tags[this.keys.userId]?n=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.userId]):t.ext&&t.ext.user&&t.ext.user.id?n=this.hashCodeGeneragor.getHashCodeScore(t.ext.user.id):t.tags&&t.tags[this.keys.operationId]?n=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.operationId]):t.ext&&t.ext.telemetryTrace&&t.ext.telemetryTrace.traceID?n=this.hashCodeGeneragor.getHashCodeScore(t.ext.telemetryTrace.traceID):n=Math.random()*100,n},e}()}),Qy,SS=k(()=>{wS(),ft(),Se(),Qy=function(){function e(t,n){this.INT_MAX_VALUE=2147483647,this._logger=n||dc(null),(t>100||t<0)&&(this._logger.throwInternal(V.WARNING,U.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this.sampleRate=t,this.samplingScoreGenerator=new Xy}return e.prototype.isSampledIn=function(t){var n=this.sampleRate,r=!1;return n==null||n>=100||t.baseType===Mn.dataType?!0:(r=this.samplingScoreGenerator.getSamplingScore(t)<n,r)},e}()});function Au(e){try{return e.responseText}catch{}return null}var wp,CS=k(()=>{Fe(),mS(),hS(),yS(),ft(),Se(),xS(),SS(),dt(),wp=function(e){Ae(t,e);function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=wc,n._XMLHttpRequestSupported=!1;var r,i,o,a,s,u,c={};return Je(t,n,function(l,f){function d(){Rn("Method not implemented.")}l.pause=d,l.resume=d,l.flush=function(){try{l.triggerSend(!0,null,1)}catch(b){l.diagLog().throwInternal(V.CRITICAL,U.FlushFailed,"flush failed, telemetry will not be collected: "+Pe(b),{exception:ve(b)})}},l.onunloadFlush=function(){if((l._senderConfig.onunloadDisableBeacon()===!1||l._senderConfig.isBeaconApiDisabled()===!1)&&bd())try{l.triggerSend(!0,v,2)}catch(b){l.diagLog().throwInternal(V.CRITICAL,U.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Pe(b),{exception:ve(b)})}else l.flush()},l.teardown=d,l.addHeader=function(b,E){c[b]=E},l.initialize=function(b,E,M,H){f.initialize(b,E,M,H);var X=l._getTelCtx(),I=l.identifier;s=new Ky(E.logger),r=0,i=null,o=0,l._sender=null,u=0;var z=t._getDefaultAppInsightsChannelConfig();if(l._senderConfig=t._getEmptyAppInsightsChannelConfig(),lt(z,function(T,R){l._senderConfig[T]=function(){return X.getConfig(I,T,R())}}),l._buffer=l._senderConfig.enableSessionStorageBuffer()&&Ho()?new Hy(l.diagLog(),l._senderConfig):new Oy(l._senderConfig),l._sample=new Qy(l._senderConfig.samplingPercentage(),l.diagLog()),ce(b)||l.diagLog().throwInternal(V.CRITICAL,U.InvalidInstrumentationKey,"Invalid Instrumentation key "+b.instrumentationKey),!zu(l._senderConfig.endpointUrl())&&l._senderConfig.customHeaders()&&l._senderConfig.customHeaders().length>0&&ye(l._senderConfig.customHeaders(),function(T){n.addHeader(T.header,T.value)}),!l._senderConfig.isBeaconApiDisabled()&&bd())l._sender=v;else{var Q=St("XMLHttpRequest");if(Q){var G=new Q;"withCredentials"in G?(l._sender=h,l._XMLHttpRequestSupported=!0):typeof XDomainRequest!==sr&&(l._sender=Y)}else{var le=St("fetch");le&&(l._sender=x)}}},l.processTelemetry=function(b,E){E=l._getTelCtx(E);try{if(l._senderConfig.disableTelemetry())return;if(!b){E.diagLog().throwInternal(V.CRITICAL,U.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(b.baseData&&!b.baseType){E.diagLog().throwInternal(V.CRITICAL,U.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(b.baseType||(b.baseType="EventData"),!l._sender){E.diagLog().throwInternal(V.CRITICAL,U.SenderNotInitialized,"Sender was not initialized");return}if(p(b))b[hc]=l._sample.sampleRate;else{E.diagLog().throwInternal(V.WARNING,U.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:l._sample.sampleRate});return}var M=t.constructEnvelope(b,l._senderConfig.instrumentationKey(),E.diagLog());if(!M){E.diagLog().throwInternal(V.CRITICAL,U.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var H=!1;if(b.tags&&b.tags[Ro]&&(ye(b.tags[Ro],function(Q){try{Q&&Q(M)===!1&&(H=!0,E.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(G){E.diagLog().throwInternal(V.CRITICAL,U.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Pe(G),{exception:ve(G)},!0)}}),delete b.tags[Ro]),H)return;var X=s.serialize(M),I=l._buffer.getItems(),z=l._buffer.batchPayloads(I);z&&z.length+X.length>l._senderConfig.maxBatchSizeInBytes()&&l.triggerSend(!0,null,10),l._buffer.enqueue(X),K()}catch(Q){E.diagLog().throwInternal(V.WARNING,U.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Pe(Q),{exception:ve(Q)})}l.processNext(b,E)},l._xhrReadyStateChange=function(b,E,M){b.readyState===4&&g(b.status,E,b.responseURL,M,A(b),Au(b)||b.response)},l.triggerSend=function(b,E,M){b===void 0&&(b=!0);try{if(l._senderConfig.disableTelemetry())l._buffer.clear();else{if(l._buffer.count()>0){var H=l._buffer.getItems();Z(M||0,b),E?E.call(n,H,b):l._sender(H,b)}o=+new Date}clearTimeout(a),a=null,i=null}catch(I){var X=qd();(!X||X>9)&&l.diagLog().throwInternal(V.CRITICAL,U.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+Pe(I),{exception:ve(I)})}},l._onError=function(b,E,M){l.diagLog().throwInternal(V.WARNING,U.OnError,"Failed to send telemetry.",{message:E}),l._buffer.clearSent(b)},l._onPartialSuccess=function(b,E){for(var M=[],H=[],X=E.errors.reverse(),I=0,z=X;I<z.length;I++){var Q=z[I],G=b.splice(Q.index,1)[0];te(Q.statusCode)?H.push(G):M.push(G)}b.length>0&&l._onSuccess(b,E.itemsAccepted),M.length>0&&l._onError(M,A(null,["partial success",E.itemsAccepted,"of",E.itemsReceived].join(" "))),H.length>0&&(_(H),l.diagLog().throwInternal(V.WARNING,U.TransmissionFailed,"Partial success. Delivered: "+b.length+", Failed: "+M.length+". Will retry to send "+H.length+" our of "+E.itemsReceived+" items"))},l._onSuccess=function(b,E){l._buffer.clearSent(b)},l._xdrOnLoad=function(b,E){var M=Au(b);if(b&&(M+""=="200"||M===""))r=0,l._onSuccess(E,0);else{var H=C(M);H&&H.itemsReceived&&H.itemsReceived>H.itemsAccepted&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(E,H):l._onError(E,q(b))}};function p(b){return l._sample.isSampledIn(b)}function g(b,E,M,H,X,I){var z=null;if(l._appId||(z=C(I),z&&z.appId&&(l._appId=z.appId)),(b<200||b>=300)&&b!==0){if((b===301||b===307||b===308)&&!m(M)){l._onError(E,X);return}!l._senderConfig.isRetryDisabled()&&te(b)?(_(E),l.diagLog().throwInternal(V.WARNING,U.TransmissionFailed,". Response code "+b+". Will retry to send "+E.length+" items.")):l._onError(E,X)}else if(Pd.isOffline()){if(!l._senderConfig.isRetryDisabled()){var Q=10;_(E,Q),l.diagLog().throwInternal(V.WARNING,U.TransmissionFailed,". Offline - Response Code: "+b+". Offline status: "+Pd.isOffline()+". Will retry to send "+E.length+" items.")}}else m(M),b===206?(z||(z=C(I)),z&&!l._senderConfig.isRetryDisabled()?l._onPartialSuccess(E,z):l._onError(E,X)):(r=0,l._onSuccess(E,H))}function m(b){return u>=10?!1:!W(b)&&b!==""&&b!==l._senderConfig.endpointUrl()?(l._senderConfig.endpointUrl=function(){return b},++u,!0):!1}function v(b,E){var M=l._senderConfig.endpointUrl(),H=l._buffer.batchPayloads(b),X=new Blob([H],{type:"text/plain;charset=UTF-8"}),I=Un().sendBeacon(M,X);I?(l._buffer.markAsSent(b),l._onSuccess(b,b.length)):(h(b,!0),l.diagLog().throwInternal(V.WARNING,U.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function h(b,E){var M=new XMLHttpRequest,H=l._senderConfig.endpointUrl();try{M[xi]=!0}catch{}M.open("POST",H,E),M.setRequestHeader("Content-type","application/json"),zu(H)&&M.setRequestHeader(Le.sdkContextHeader,Le.sdkContextHeaderAppIdRequest),ye(Ti(c),function(I){M.setRequestHeader(I,c[I])}),M.onreadystatechange=function(){return l._xhrReadyStateChange(M,b,b.length)},M.onerror=function(I){return l._onError(b,A(M),I)};var X=l._buffer.batchPayloads(b);M.send(X),l._buffer.markAsSent(b)}function x(b,E){var M=l._senderConfig.endpointUrl(),H=l._buffer.batchPayloads(b),X=new Blob([H],{type:"text/plain;charset=UTF-8"}),I=new Headers;zu(M)&&I.append(Le.sdkContextHeader,Le.sdkContextHeaderAppIdRequest),ye(Ti(c),function(G){I.append(G,c[G])});var z={method:"POST",headers:I,body:X},Q=new Request(M,z);fetch(Q).then(function(G){if(G.ok)G.text().then(function(le){g(G.status,b,G.url,b.length,G.statusText,le)}),l._buffer.markAsSent(b);else throw Error(G.statusText)}).catch(function(G){l._onError(b,G.message)})}function C(b){try{if(b&&b!==""){var E=hn().parse(b);if(E&&E.itemsReceived&&E.itemsReceived>=E.itemsAccepted&&E.itemsReceived-E.itemsAccepted===E.errors.length)return E}}catch(M){l.diagLog().throwInternal(V.CRITICAL,U.InvalidBackendResponse,"Cannot parse the response. "+Pe(M),{response:b})}return null}function _(b,E){if(E===void 0&&(E=1),!(!b||b.length===0)){l._buffer.clearSent(b),r++;for(var M=0,H=b;M<H.length;M++){var X=H[M];l._buffer.enqueue(X)}y(E),K()}}function y(b){var E=10,M;if(r<=1)M=E;else{var H=(Math.pow(2,r)-1)/2,X=Math.floor(Math.random()*H*E)+1;X=b*X,M=Math.max(Math.min(X,3600),E)}var I=tn()+M*1e3;i=I}function K(){if(!a){var b=i?Math.max(0,i-tn()):0,E=Math.max(l._senderConfig.maxBatchInterval(),b);a=setTimeout(function(){l.triggerSend(!0,null,1)},E)}}function te(b){return b===408||b===429||b===500||b===503}function A(b,E){return b?"XMLHttpRequest,Status:"+b.status+",Response:"+Au(b)||b.response||"":E}function Y(b,E){var M=rs(),H=new XDomainRequest;H.onload=function(){return l._xdrOnLoad(H,b)},H.onerror=function(Q){return l._onError(b,q(H),Q)};var X=M&&M.location&&M.location.protocol||"";if(l._senderConfig.endpointUrl().lastIndexOf(X,0)!==0){l.diagLog().throwInternal(V.WARNING,U.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),l._buffer.clear();return}var I=l._senderConfig.endpointUrl().replace(/^(https?:)/,"");H.open("POST",I);var z=l._buffer.batchPayloads(b);H.send(z),l._buffer.markAsSent(b)}function q(b,E){return b?"XDomainRequest,Response:"+Au(b)||"":E}function oe(){var b="getNotifyMgr";return l.core[b]?l.core[b]():l.core._notificationManager}function Z(b,E){var M=oe();if(M&&M.eventsSendRequest)try{M.eventsSendRequest(b,E)}catch(H){l.diagLog().throwInternal(V.CRITICAL,U.NotificationException,"send request notification failed: "+Pe(H),{exception:ve(H)})}}function ce(b){var E=W(b.disableInstrumentationKeyValidation)?!1:b.disableInstrumentationKeyValidation;if(E)return!0;var M="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",H=new RegExp(M);return H.test(b.instrumentationKey)}}),n}return t.constructEnvelope=function(n,r,i){var o;switch(r!==n.iKey&&!W(r)?o=Fo({},n,{iKey:r}):o=n,o.baseType){case gn.dataType:return _d.EventEnvelopeCreator.Create(i,o);case lr.dataType:return Wy.TraceEnvelopeCreator.Create(i,o);case mn.dataType:return jy.PageViewEnvelopeCreator.Create(i,o);case fr.dataType:return Vy.PageViewPerformanceEnvelopeCreator.Create(i,o);case At.dataType:return By.ExceptionEnvelopeCreator.Create(i,o);case Mn.dataType:return qy.MetricEnvelopeCreator.Create(i,o);case Nn.dataType:return zy.DependencyEnvelopeCreator.Create(i,o);default:return _d.EventEnvelopeCreator.Create(i,o)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},t}(Ai)}),$y=k(()=>{CS()}),Xm,Ad,Jy,IS=k(()=>{dt(),ft(),Se(),Xm="ai_session",Ad=function(){function e(){}return e}(),Jy=function(){function e(t,n){var r=this,i,o,a=dc(n),s=Jd(n);Je(e,r,function(u){t||(t={}),Ee(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),Ee(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),u.config=t;var c=u.config.sessionCookiePostfix&&u.config.sessionCookiePostfix()?u.config.sessionCookiePostfix():u.config.namePrefix&&u.config.namePrefix()?u.config.namePrefix():"";i=function(){return Xm+c},u.automaticSession=new Ad,u.update=function(){var m=tn(),v=!1,h=u.automaticSession;h.id||(v=!l(h,m));var x=u.config.sessionExpirationMs();if(!v&&x>0){var C=u.config.sessionRenewalMs(),_=m-h.acquisitionDate,y=m-h.renewalDate;v=_<0||y<0,v=v||_>x,v=v||y>C}v?d(m):(!o||m-o>e.cookieUpdateInterval)&&p(h,m)},u.backup=function(){var m=u.automaticSession;g(m.id,m.acquisitionDate,m.renewalDate)};function l(m,v){var h=!1,x=s.get(i());if(x&&Ee(x.split))h=f(m,x);else{var C=ty(a,i());C&&(h=f(m,C))}return h||!!m.id}function f(m,v){var h=!1,x=", session will be reset",C=v.split("|");if(C.length>=2)try{var _=+C[1]||0,y=+C[2]||0;isNaN(_)||_<=0?a.throwInternal(V.WARNING,U.SessionRenewalDateIsZero,"AI session acquisition date is 0"+x):isNaN(y)||y<=0?a.throwInternal(V.WARNING,U.SessionRenewalDateIsZero,"AI session renewal date is 0"+x):C[0]&&(m.id=C[0],m.acquisitionDate=_,m.renewalDate=y,h=!0)}catch(K){a.throwInternal(V.CRITICAL,U.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(v||"")+"]"+x+" - "+Pe(K),{exception:ve(K)})}return h}function d(m){var v=u.config||{},h=(v.getNewId?v.getNewId():null)||gc;u.automaticSession.id=h(v.idLength?v.idLength():22),u.automaticSession.acquisitionDate=m,p(u.automaticSession,m),fp()||a.throwInternal(V.WARNING,U.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function p(m,v){var h=m.acquisitionDate;m.renewalDate=v;var x=u.config,C=x.sessionRenewalMs(),_=h+x.sessionExpirationMs()-v,y=[m.id,h,v],K=0;_<C?K=_/1e3:K=C/1e3;var te=x.cookieDomain?x.cookieDomain():null;s.set(i(),y.join("|"),x.sessionExpirationMs()>0?K:null,te),o=v}function g(m,v,h){ny(a,i(),[m,v,h].join("|"))}})}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}()}),Yy,ES=k(()=>{Yy=function(){function e(){}return e}()}),Zy,TS=k(()=>{Zy=function(){function e(){this.id="browser",this.deviceClass="Browser"}return e}()}),Qm,ex,_S=k(()=>{Qm="2.6.4",ex=function(){function e(t){this.sdkVersion=(t.sdkExtension&&t.sdkExtension()?t.sdkExtension()+"_":"")+"javascript:"+Qm}return e}()});function $m(e){return!(typeof e!="string"||!e||e.match(/,|;|=| |\|/))}var tx,PS=k(()=>{dt(),ft(),Se(),tx=function(){function e(t,n){this.isNewUser=!1;var r=dc(n),i=Jd(n),o;Je(e,this,function(a){a.config=t;var s=a.config.userCookiePostfix&&a.config.userCookiePostfix()?a.config.userCookiePostfix():"";o=function(){return e.userCookieName+s};var u=i.get(o());if(u){a.isNewUser=!1;var c=u.split(e.cookieSeparator);c.length>0&&(a.id=c[0])}if(!a.id){var l=t||{},f=(l.getNewId?l.getNewId():null)||gc;a.id=f(l.idLength?t.idLength():22);var d=31536e3,p=Mr(new Date);a.accountAcquisitionDate=p,a.isNewUser=!0;var g=[a.id,p];i.set(o(),g.join(e.cookieSeparator),d);var m=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";ry(r,m)}a.accountId=t.accountId?t.accountId():void 0;var v=i.get(e.authUserCookieName);if(v){v=decodeURI(v);var h=v.split(e.cookieSeparator);h[0]&&(a.authenticatedId=h[0]),h.length>1&&h[1]&&(a.accountId=h[1])}a.setAuthenticatedUserContext=function(x,C,_){_===void 0&&(_=!1);var y=!$m(x)||C&&!$m(C);if(y){r.throwInternal(V.WARNING,U.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}a.authenticatedId=x;var K=a.authenticatedId;C&&(a.accountId=C,K=[a.authenticatedId,a.accountId].join(e.cookieSeparator)),_&&i.set(e.authUserCookieName,encodeURI(K))},a.clearAuthenticatedUserContext=function(){a.authenticatedId=null,a.accountId=null,i.del(e.authUserCookieName)}})}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}()}),nx,AS=k(()=>{nx=function(){function e(){}return e}()}),rx,RS=k(()=>{ft(),Se(),rx=function(){function e(t,n,r,i){var o=this;o.traceID=t||kn(),o.parentID=n,o.name=r;var a=wi();!r&&a&&a.pathname&&(o.name=a.pathname),o.name=Dt(i,o.name)}return e}()});function bo(e,t){e&&e[t]&&Ti(e[t]).length===0&&delete e[t]}var Ba,qa,ix,DS=k(()=>{dt(),Se(),IS(),ft(),ES(),TS(),_S(),PS(),AS(),RS(),Ba="ext",qa="tags",ix=function(){function e(t,n){var r=this,i=t.logger;this.appId=function(){return null},Je(e,this,function(o){o.application=new Yy,o.internal=new ex(n),fc()&&(o.sessionManager=new Jy(n,t),o.device=new Zy,o.location=new nx,o.user=new tx(n,t),o.telemetryTrace=new rx(void 0,void 0,void 0,i),o.session=new Ad),o.applySessionContext=function(a,s){var u=o.session,c=o.sessionManager;u&&he(u.id)?Ie(bt(a.ext,_t.AppExt),"sesId",u.id):c&&c.automaticSession&&Ie(bt(a.ext,_t.AppExt),"sesId",c.automaticSession.id,he)},o.applyOperatingSystemContxt=function(a,s){Ie(a.ext,_t.OSExt,o.os)},o.applyApplicationContext=function(a,s){var u=o.application;if(u){var c=bt(a,qa);Ie(c,ke.applicationVersion,u.ver,he),Ie(c,ke.applicationBuild,u.build,he)}},o.applyDeviceContext=function(a,s){var u=o.device;if(u){var c=bt(bt(a,Ba),_t.DeviceExt);Ie(c,"localId",u.id,he),Ie(c,"ip",u.ip,he),Ie(c,"model",u.model,he),Ie(c,"deviceClass",u.deviceClass,he)}},o.applyInternalContext=function(a,s){var u=o.internal;if(u){var c=bt(a,qa);Ie(c,ke.internalAgentVersion,u.agentVersion,he),Ie(c,ke.internalSdkVersion,u.sdkVersion,he),(a.baseType===Po.dataType||a.baseType===mn.dataType)&&(Ie(c,ke.internalSnippet,u.snippetVer,he),Ie(c,ke.internalSdkSrc,u.sdkSrc,he))}},o.applyLocationContext=function(a,s){var u=r.location;u&&Ie(bt(a,qa,[]),ke.locationIp,u.ip,he)},o.applyOperationContext=function(a,s){var u=o.telemetryTrace;if(u){var c=bt(bt(a,Ba),_t.TraceExt,{traceID:void 0,parentID:void 0});Ie(c,"traceID",u.traceID,he),Ie(c,"name",u.name,he),Ie(c,"parentID",u.parentID,he)}},o.applyWebContext=function(a,s){var u=r.web;u&&Ie(bt(a,Ba),_t.WebExt,u)},o.applyUserContext=function(a,s){var u=o.user;if(u){var c=bt(a,qa,[]);Ie(c,ke.userAccountId,u.accountId,he);var l=bt(bt(a,Ba),_t.UserExt);Ie(l,"id",u.id,he),Ie(l,"authId",u.authenticatedId,he)}},o.cleanUp=function(a,s){var u=a.ext;u&&(bo(u,_t.DeviceExt),bo(u,_t.UserExt),bo(u,_t.WebExt),bo(u,_t.OSExt),bo(u,_t.AppExt),bo(u,_t.TraceExt))}})}return e}()}),Jm,Sp,kS=k(()=>{Fe(),dt(),Se(),DS(),ft(),Jm=function(e){Ae(t,e);function t(){var n=e.call(this)||this;n.priority=110,n.identifier=zo;var r,i;return Je(t,n,function(o,a){o.initialize=function(u,c,l,f){a.initialize(u,c,l,f);var d=o._getTelCtx(),p=o.identifier,g=t.getDefaultConfig();i=i||{},lt(g,function(m,v){i[m]=function(){return d.getConfig(p,m,v())}}),o.context=new ix(c,i),r=Jh(l,wc),o.context.appId=function(){return r?r._appId:null},o._extConfig=i},o.processTelemetry=function(u,c){if(!W(u)){c=o._getTelCtx(c),u.name===mn.envelopeType&&c.diagLog().resetInternalMessageCount();var l=o.context||{};if(l.session&&typeof o.context.session.id!="string"&&l.sessionManager&&l.sessionManager.update(),s(u,c),l.user&&l.user.isNewUser){l.user.isNewUser=!1;var f=new Po(U.SendBrowserInfoOnUserInit,(Un()||{}).userAgent||"");c.diagLog().logInternalMessage(V.CRITICAL,f)}o.processNext(u,c)}};function s(u,c){bt(u,"tags",[]),bt(u,"ext",{});var l=o.context;l.applySessionContext(u,c),l.applyApplicationContext(u,c),l.applyDeviceContext(u,c),l.applyOperationContext(u,c),l.applyUserContext(u,c),l.applyOperatingSystemContxt(u,c),l.applyWebContext(u,c),l.applyLocationContext(u,c),l.applyInternalContext(u,c),l.cleanUp(u,c)}}),n}return t.getDefaultConfig=function(){var n={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return n},t}(Ai),Sp=Jm}),ox=k(()=>{kS()});function ax(e,t,n){var r=0,i=e[t],o=e[n];return i&&o&&(r=Pt(i,o)),r}function hi(e,t,n,r,i){var o=0,a=ax(n,r,i);return a&&(o=Rr(e,t,ar(a))),o}function Rr(e,t,n){var r="ajaxPerf",i=0;if(e&&t&&n){var o=e[r]=e[r]||{};o[t]=n,i=1}return i}function FS(e,t){var n=e.perfTiming,r=t[Bt]||{},i=0,o="name",a="Start",s="End",u="domainLookup",c="connect",l="redirect",f="request",d="response",p="duration",g="startTime",m=u+a,v=u+s,h=c+a,x=c+s,C=f+a,_=f+s,y=d+a,K=d+s,te=l+a,A=l=s,Y="transferSize",q="encodedBodySize",oe="decodedBodySize",Z="serverTiming";if(n){i|=hi(r,l,n,te,A),i|=hi(r,u,n,m,v),i|=hi(r,c,n,h,x),i|=hi(r,f,n,C,_),i|=hi(r,d,n,y,K),i|=hi(r,"networkConnect",n,g,x),i|=hi(r,"sentRequest",n,C,K);var ce=n[p];ce||(ce=ax(n,g,K)||0),i|=Rr(r,p,ce),i|=Rr(r,"perfTotal",ce);var b=n[Z];if(b){var E={};ye(b,function(M,H){var X=nw(M[o]||""+H),I=E[X]||{};lt(M,function(z,Q){(z!==o&&he(Q)||zd(Q))&&(I[z]&&(Q=I[z]+";"+Q),(Q||!he(Q))&&(I[z]=Q))}),E[X]=I}),i|=Rr(r,Z,E)}i|=Rr(r,Y,n[Y]),i|=Rr(r,q,n[q]),i|=Rr(r,oe,n[oe])}else e.perfMark&&(i|=Rr(r,"missing",e.perfAttempts));i&&(t[Bt]=r)}var Bt,Ym,Rd,MS=k(()=>{ft(),Se(),dt(),Bt="properties",Ym=function(){function e(){var t=this;t.openDone=!1,t.setRequestHeaderDone=!1,t.sendDone=!1,t.abortDone=!1,t.stateChangeAttached=!1}return e}(),Rd=function(){function e(t,n,r){var i=this,o=r,a="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Ym,i.clientFailure=0,i.traceID=t,i.spanID=n,Je(e,i,function(s){s.getAbsoluteUrl=function(){return s.requestUrl?ay(s.requestUrl):null},s.getPathName=function(){return s.requestUrl?cs(o,sy(s.method,s.requestUrl)):null},s.CreateTrackItem=function(u,c,l){if(s.ajaxTotalDuration=Math.round(Pt(s.requestSentTime,s.responseFinishedTime)*1e3)/1e3,s.ajaxTotalDuration<0)return null;var f=(m={id:"|"+s.traceID+"."+s.spanID,target:s.getAbsoluteUrl(),name:s.getPathName(),type:u,startTime:null,duration:s.ajaxTotalDuration,success:+s.status>=200&&+s.status<400,responseCode:+s.status,method:s.method},m[Bt]={HttpMethod:s.method},m);if(s.requestSentTime&&(f.startTime=new Date,f.startTime.setTime(s.requestSentTime)),FS(s,f),c&&Ti(s.requestHeaders).length>0&&(f[Bt]=f[Bt]||{},f[Bt].requestHeaders=s.requestHeaders),l){var d=l();if(d){var p=d.correlationContext;if(p&&(f.correlationContext=p),d.headerMap&&Ti(d.headerMap).length>0&&(f[Bt]=f[Bt]||{},f[Bt].responseHeaders=d.headerMap),s.status>=400){var g=d.type;f[Bt]=f[Bt]||{},(g===""||g==="text")&&(f[Bt][a]=d[a]?d.statusText+" - "+d[a]:d.statusText),g==="json"&&(f[Bt][a]=d.response?d.statusText+" - "+JSON.stringify(d.response):d.statusText)}}}return f;var m}})}return e}()}),NS,LS=k(()=>{Se(),Se(),NS=function(){function e(){}return e.GetLength=function(t){var n=0;if(!W(t)){var r="";try{r=t.toString()}catch{}n=r.length,n=isNaN(n)?0:n}return n},e}()}),Dd,US=k(()=>{Se(),Dd=function(){function e(t,n){var r=this;r.traceFlag=e.DEFAULT_TRACE_FLAG,r.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?r.traceId=t:r.traceId=kn(),n&&e.isValidSpanId(n)?r.spanId=n:r.spanId=kn().substr(0,16)}return e.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&t!=="00000000000000000000000000000000"},e.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&t!=="0000000000000000"},e.prototype.toString=function(){var t=this;return t.version+"-"+t.traceId+"-"+t.spanId+"-"+t.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}()});function OS(){var e=ko();return!e||W(e.Request)||W(e.Request[Xt])||W(e[_o])?null:e[_o]}function HS(e){var t=!1;if(typeof XMLHttpRequest!==sr&&!W(XMLHttpRequest)){var n=XMLHttpRequest[Xt];t=!W(n)&&!W(n.open)&&!W(n.send)&&!W(n.abort)}var r=qd();if(r&&r<9&&(t=!1),t)try{var i=new XMLHttpRequest;i[qt]={};var o=XMLHttpRequest[Xt].open;XMLHttpRequest[Xt].open=o}catch(a){t=!1,$a(e,U.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:ve(a)})}return t}function Bu(e){var t="";try{!W(e)&&!W(e[qt])&&!W(e[qt].requestUrl)&&(t+="(url: '"+e[qt].requestUrl+"')")}catch{}return t}function $a(e,t,n,r,i){e[To]()[Cp](V.CRITICAL,t,n,r,i)}function Ru(e,t,n,r,i){e[To]()[Cp](V.WARNING,t,n,r,i)}function ja(e,t,n){return function(r){$a(e,t,n,{ajaxDiagnosticsMessage:Bu(r.inst),exception:ve(r.err)})}}function wo(e,t){return e&&t?e.indexOf(t):-1}var jf,To,qt,Cp,_o,Vf,Ip,zS=k(()=>{Fe(),ft(),Se(),MS(),LS(),US(),dt(),jf="ai.ajxmn.",To="diagLog",qt="ajaxData",Cp="throwInternal",_o="fetch",Vf=0,Ip=function(e){Ae(t,e);function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r="trackDependencyDataInternal",i=wi(),o=!1,a=!1,s=i&&i.host&&i.host.toLowerCase(),u=t.getEmptyConfig(),c=!1,l=0,f,d,p,g,m=!1,v=0,h=!1,x=[],C={},_;return Je(t,n,function(y,K){y.initialize=function(T,R,L,B){if(!y.isInitialized()){K.initialize(T,R,L,B);var $=y._getTelCtx(),ie=t.getDefaultConfig();lt(ie,function(Ze,rn){u[Ze]=$.getConfig(t.identifier,Ze,rn)});var ne=u.distributedTracingMode;if(c=u.enableRequestHeaderTracking,m=u.enableAjaxPerfTracking,v=u.maxAjaxCallsPerView,h=u.enableResponseHeaderTracking,_=u.excludeRequestFromAutoTrackingPatterns,p=ne===vn.AI||ne===vn.AI_AND_W3C,d=ne===vn.AI_AND_W3C||ne===vn.W3C,m){var xe=T.instrumentationKey||"unkwn";xe.length>5?g=jf+xe.substring(xe.length-5)+".":g=jf+xe+"."}if(u.disableAjaxTracking===!1&&q(),A(),L.length>0&&L){for(var De=void 0,Ue=0;!De&&Ue<L.length;)L[Ue]&&L[Ue].identifier===zo&&(De=L[Ue]),Ue++;De&&(f=De.context)}}},y.teardown=function(){ye(x,function(T){T.rm()}),x=[],o=!1,a=!1,y.setInitialized(!1)},y.trackDependencyData=function(T,R){y[r](T,R)},y.includeCorrelationHeaders=function(T,R,L,B){var $=y._currentWindowHost||s;if(R){if(Dr.canIncludeCorrelationHeader(u,T.getAbsoluteUrl(),$)){if(L||(L={}),L.headers=new Headers(L.headers||(R instanceof Request?R.headers||{}:{})),p){var ie="|"+T.traceID+"."+T.spanID;L.headers.set(Le.requestIdHeader,ie),c&&(T.requestHeaders[Le.requestIdHeader]=ie)}var ne=u.appId||f&&f.appId();if(ne&&(L.headers.set(Le.requestContextHeader,Le.requestContextAppIdFormat+ne),c&&(T.requestHeaders[Le.requestContextHeader]=Le.requestContextAppIdFormat+ne)),d){var xe=new Dd(T.traceID,T.spanID);L.headers.set(Le.traceParentHeader,xe.toString()),c&&(T.requestHeaders[Le.traceParentHeader]=xe.toString())}}return L}else if(B){if(Dr.canIncludeCorrelationHeader(u,T.getAbsoluteUrl(),$)){if(p){var ie="|"+T.traceID+"."+T.spanID;B.setRequestHeader(Le.requestIdHeader,ie),c&&(T.requestHeaders[Le.requestIdHeader]=ie)}var ne=u.appId||f&&f.appId();if(ne&&(B.setRequestHeader(Le.requestContextHeader,Le.requestContextAppIdFormat+ne),c&&(T.requestHeaders[Le.requestContextHeader]=Le.requestContextAppIdFormat+ne)),d){var xe=new Dd(T.traceID,T.spanID);B.setRequestHeader(Le.traceParentHeader,xe.toString()),c&&(T.requestHeaders[Le.traceParentHeader]=xe.toString())}}return B}},y[r]=function(T,R,L){if(v===-1||l<v){(u.distributedTracingMode===vn.W3C||u.distributedTracingMode===vn.AI_AND_W3C)&&typeof T.id=="string"&&T.id[T.id.length-1]!=="."&&(T.id+="."),W(T.startTime)&&(T.startTime=new Date);var B=Pn.create(T,Nn.dataType,Nn.envelopeType,y[To](),R,L);y.core.track(B)}else l===v&&$a(y,U.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++l};function te(T){var R=!0;return(T||u.ignoreHeaders)&&ye(u.ignoreHeaders,function(L){if(L.toLowerCase()===T.toLowerCase())return R=!1,-1}),R}function A(){var T=OS();if(T){var R=ko(),L=T.polyfill;u.disableFetchTracking===!1?(x.push(md(R,_o,{req:function(B,$,ie){var ne;if(o&&!oe(null,$,ie)&&!(L&&a)){var xe=B.ctx();ne=z($,ie);var De=y.includeCorrelationHeaders(ne,$,ie);De!==ie&&B.set(1,De),xe.data=ne}},rsp:function(B,$){var ie=B.ctx().data;ie&&(B.rslt=B.rslt.then(function(ne){return G(B,(ne||{}).status,ne,ie,function(){var xe={statusText:ne.statusText,headerMap:null,correlationContext:le(ne)};if(h){var De={};ne.headers.forEach(function(Ue,Ze){te(Ze)&&(De[Ze]=Ue)}),xe.headerMap=De}return xe}),ne}).catch(function(ne){throw G(B,0,$,ie,null,{error:ne.message}),ne}))},hkErr:ja(y,U.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),o=!0):L&&x.push(md(R,_o,{req:function(B,$,ie){oe(null,$,ie)}})),L&&(R[_o].polyfill=L)}}function Y(T,R,L){x.push(Dw(T,R,L))}function q(){HS(y)&&!a&&(Y(XMLHttpRequest,"open",{req:function(T,R,L,B){var $=T.inst,ie=$[qt];!oe($,L)&&Z($,!0)&&(!ie||!ie.xhrMonitoringState.openDone)&&ce($,R,L,B)},hkErr:ja(y,U.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),Y(XMLHttpRequest,"send",{req:function(T,R){var L=T.inst,B=L[qt];Z(L)&&!B.xhrMonitoringState.sendDone&&(X("xhr",B),B.requestSentTime=Ga(),y.includeCorrelationHeaders(B,void 0,void 0,L),B.xhrMonitoringState.sendDone=!0)},hkErr:ja(y,U.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),Y(XMLHttpRequest,"abort",{req:function(T){var R=T.inst,L=R[qt];Z(R)&&!L.xhrMonitoringState.abortDone&&(L.aborted=1,L.xhrMonitoringState.abortDone=!0)},hkErr:ja(y,U.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),c&&Y(XMLHttpRequest,"setRequestHeader",{req:function(T,R,L){var B=T.inst;Z(B)&&te(R)&&(B[qt].requestHeaders[R]=L)},hkErr:ja(y,U.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),a=!0)}function oe(T,R,L){var B=!1,$=((he(R)?R:(R||{}).url||"")||"").toLowerCase();if(ye(_,function(xe){var De=xe;he(xe)&&(De=new RegExp(xe)),B||(B=De.test($))}),B)return B;var ie=wo($,"?"),ne=wo($,"#");return(ie===-1||ne!==-1&&ne<ie)&&(ie=ne),ie!==-1&&($=$.substring(0,ie)),W(T)?W(R)||(B=(typeof R=="object"?R[xi]===!0:!1)||(L?L[xi]===!0:!1)):B=T[xi]===!0||$[xi]===!0,B?C[$]||(C[$]=1):C[$]&&(B=!0),B}function Z(T,R){var L=!0,B=a;return W(T)||(L=R===!0||!W(T[qt])),B&&L}function ce(T,R,L,B){var $=f&&f.telemetryTrace&&f.telemetryTrace.traceID||kn(),ie=kn().substr(0,16),ne=new Rd($,ie,y[To]());ne.method=R,ne.requestUrl=L,ne.xhrMonitoringState.openDone=!0,ne.requestHeaders={},ne.async=B,T[qt]=ne,b(T)}function b(T){T[qt].xhrMonitoringState.stateChangeAttached=os.Attach(T,"readystatechange",function(){try{T&&T.readyState===4&&Z(T)&&M(T)}catch(L){var R=ve(L);(!R||wo(R.toLowerCase(),"c00c023f")===-1)&&$a(y,U.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Bu(T),exception:R})}})}function E(T){try{var R=T.responseType;if(R===""||R==="text")return T.responseText}catch{}return null}function M(T){var R=T[qt];R.responseFinishedTime=Ga(),R.status=T.status;function L(B,$){var ie=$||{};ie.ajaxDiagnosticsMessage=Bu(T),B&&(ie.exception=ve(B)),Ru(y,U.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",ie)}I("xmlhttprequest",R,function(){try{var B=R.CreateTrackItem("Ajax",c,function(){var $={statusText:T.statusText,headerMap:null,correlationContext:H(T),type:T.responseType,responseText:E(T),response:T.response};if(h){var ie=T.getAllResponseHeaders();if(ie){var ne=yt(ie).split(/[\r\n]+/),xe={};ye(ne,function(De){var Ue=De.split(": "),Ze=Ue.shift(),rn=Ue.join(": ");te(Ze)&&(xe[Ze]=rn)}),$.headerMap=xe}}return $});B?y[r](B):L(null,{requestSentTime:R.requestSentTime,responseFinishedTime:R.responseFinishedTime})}finally{try{T[qt]=null}catch{}}},function(B){L(B,null)})}function H(T){try{var R=T.getAllResponseHeaders();if(R!==null){var L=wo(R.toLowerCase(),Le.requestContextHeaderLowerCase);if(L!==-1){var B=T.getResponseHeader(Le.requestContextHeader);return Dr.getCorrelationContext(B)}}}catch($){Ru(y,U.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Bu(T),exception:ve($)})}}function X(T,R){if(R.requestUrl&&g&&m){var L=or();if(L&&Ee(L.mark)){Vf++;var B=g+T+"#"+Vf;L.mark(B);var $=L.getEntriesByName(B);$&&$.length===1&&(R.perfMark=$[0])}}}function I(T,R,L,B){var $=R.perfMark,ie=or(),ne=u.maxAjaxPerfLookupAttempts,xe=u.ajaxPerfLookupDelay,De=R.requestUrl,Ue=0;(function Ze(){try{if(ie&&$){Ue++;for(var rn=null,qn=ie.getEntries(),kt=qn.length-1;kt>=0;kt--){var Ft=qn[kt];if(Ft){if(Ft.entryType==="resource")Ft.initiatorType===T&&(wo(Ft.name,De)!==-1||wo(De,Ft.name)!==-1)&&(rn=Ft);else if(Ft.entryType==="mark"&&Ft.name===$.name){R.perfTiming=rn;break}if(Ft.startTime<$.startTime-1e3)break}}}!$||R.perfTiming||Ue>=ne||R.async===!1?($&&Ee(ie.clearMarks)&&ie.clearMarks($.name),R.perfAttempts=Ue,L()):setTimeout(Ze,xe)}catch(w){B(w)}})()}function z(T,R){var L=f&&f.telemetryTrace&&f.telemetryTrace.traceID||kn(),B=kn().substr(0,16),$=new Rd(L,B,y[To]());$.requestSentTime=Ga(),T instanceof Request?$.requestUrl=T?T.url:"":$.requestUrl=T;var ie="GET";R&&R.method?ie=R.method:T&&T instanceof Request&&(ie=T.method),$.method=ie;var ne={};if(c){var xe=new Headers((R?R.headers:0)||(T instanceof Request?T.headers||{}:{}));xe.forEach(function(De,Ue){te(Ue)&&(ne[Ue]=De)})}return $.requestHeaders=ne,X("fetch",$),$}function Q(T){var R="";try{W(T)||(typeof T=="string"?R+="(url: '"+T+"')":R+="(url: '"+T.url+"')")}catch(L){$a(y,U.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:ve(L)})}return R}function G(T,R,L,B,$,ie){if(!B)return;function ne(xe,De,Ue){var Ze=Ue||{};Ze.fetchDiagnosticsMessage=Q(L),De&&(Ze.exception=ve(De)),Ru(y,xe,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",Ze)}B.responseFinishedTime=Ga(),B.status=R,I("fetch",B,function(){var xe=B.CreateTrackItem("Fetch",c,$);xe?y[r](xe):ne(U.FailedMonitorAjaxDur,null,{requestSentTime:B.requestSentTime,responseFinishedTime:B.responseFinishedTime})},function(xe){ne(U.FailedMonitorAjaxGetCorrelationHeader,xe,null)})}function le(T){if(T&&T.headers)try{var R=T.headers.get(Le.requestContextHeader);return Dr.getCorrelationContext(R)}catch(L){Ru(y,U.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:Q(T),exception:ve(L)})}}}),n}return t.getDefaultConfig=function(){var n={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:vn.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return n},t.getEmptyConfig=function(){var n=this.getDefaultConfig();return lt(n,function(r){n[r]=void 0}),n},t.prototype.processTelemetry=function(n,r){this.processNext(n,r)},t.identifier="AjaxDependencyPlugin",t}(Ai)}),sx=k(()=>{zS()}),Wf,Kf,Zm,ux,Ep,cx=k(()=>{Se(),Uy(),$y(),ox(),sx(),ft(),Kf=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Zm={Default:0,Required:1,Array:2,Hidden:4},ux={__proto__:null,PropertiesPluginIdentifier:zo,BreezeChannelIdentifier:wc,AnalyticsPluginIdentifier:xp,Util:dp,CorrelationIdHelper:Dr,UrlHelper:dy,DateTimeUtils:py,ConnectionStringParser:yy,FieldType:Zm,RequestHeaders:Le,DisabledPropertyName:xi,ProcessLegacy:Ro,SampleRate:hc,HttpMethod:nc,DEFAULT_BREEZE_ENDPOINT:up,AIData:vp,AIBase:pp,Envelope:gp,Event:gn,Exception:At,Metric:Mn,PageView:mn,PageViewData:xc,RemoteDependencyData:Nn,Trace:lr,PageViewPerformance:fr,Data:rr,SeverityLevel:ss,ConfigurationManager:ky,ContextTagKeys:bc,DataSanitizer:Qh,TelemetryItemCreator:Pn,CtxTagKeys:ke,Extensions:_t,DistributedTracingModes:vn},Ep=function(){function e(t){var n=this;n._snippetVersion=""+(t.sv||t.version||""),t.queue=t.queue||[],t.version=t.version||2;var r=t.config||{};if(r.connectionString){var i=gy(r.connectionString),o=i.ingestionendpoint;r.endpointUrl=o?o+"/v2/track":r.endpointUrl,r.instrumentationKey=i.instrumentationkey||r.instrumentationKey}n.appInsights=new bp,n.properties=new Sp,n.dependencies=new Ip,n.core=new tp,n._sender=new wp,n.snippet=t,n.config=r,n.getSKUDefaults()}return e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(t,n){this.appInsights.trackEvent(t,n)},e.prototype.trackPageView=function(t){var n=t||{};this.appInsights.trackPageView(n)},e.prototype.trackPageViewPerformance=function(t){var n=t||{};this.appInsights.trackPageViewPerformance(n)},e.prototype.trackException=function(t){t&&!t.exception&&t.error&&(t.exception=t.error),this.appInsights.trackException(t)},e.prototype._onerror=function(t){this.appInsights._onerror(t)},e.prototype.trackTrace=function(t,n){this.appInsights.trackTrace(t,n)},e.prototype.trackMetric=function(t,n){this.appInsights.trackMetric(t,n)},e.prototype.startTrackPage=function(t){this.appInsights.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsights.stopTrackPage(t,n,r,i)},e.prototype.startTrackEvent=function(t){this.appInsights.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsights.stopTrackEvent(t,n,r)},e.prototype.addTelemetryInitializer=function(t){return this.appInsights.addTelemetryInitializer(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){r===void 0&&(r=!1),this.properties.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(t){this.dependencies.trackDependencyData(t)},e.prototype.flush=function(t){var n=this;t===void 0&&(t=!0),Uo(this.core,function(){return"AISKU.flush"},function(){ye(n.core.getTransmissionControls(),function(r){ye(r,function(i){i.flush(t)})})},null,t)},e.prototype.onunloadFlush=function(t){t===void 0&&(t=!0),ye(this.core.getTransmissionControls(),function(n){ye(n,function(r){r.onunloadFlush?r.onunloadFlush():r.flush(t)})})},e.prototype.loadAppInsights=function(t,n,r){var i=this;t===void 0&&(t=!1);var o=this;function a(s){if(s){var u="";W(o._snippetVersion)||(u+=o._snippetVersion),t&&(u+=".lg"),o.context&&o.context.internal&&(o.context.internal.snippetVer=u||"-"),lt(o,function(c,l){he(c)&&!Ee(l)&&c&&c[0]!=="_"&&Kf.indexOf(c)===-1&&(s[c]=l)})}}return t&&o.config.extensions&&o.config.extensions.length>0&&Rn("Extensions not allowed in legacy mode"),Uo(o.core,function(){return"AISKU.loadAppInsights"},function(){var s=[];s.push(o._sender),s.push(o.properties),s.push(o.dependencies),s.push(o.appInsights),o.core.initialize(o.config,s,n,r),o.context=o.properties.context,Wf&&o.context&&(o.context.internal.sdkSrc=Wf),a(o.snippet),o.emptyQueue(),o.pollInternalLogs(),o.addHousekeepingBeforeUnload(i)}),o},e.prototype.updateSnippetDefinitions=function(t){lh(t,this,function(n){return n&&Kf.indexOf(n)===-1})},e.prototype.emptyQueue=function(){var t=this;try{if(pr(t.snippet.queue)){for(var n=t.snippet.queue.length,r=0;r<n;r++){var i=t.snippet.queue[r];i()}t.snippet.queue=void 0,delete t.snippet.queue}}catch(a){var o={};a&&Ee(a.toString)&&(o.exception=a.toString())}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(t){if(fc()||dh()){var n=function(){t.onunloadFlush(!1),ye(t.appInsights.core._extensions,function(i){if(i.identifier===zo)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})};if(!t.appInsights.config.disableFlushOnBeforeUnload){var r=yi("beforeunload",n);r=yi("unload",n)||r,r=yi("pagehide",n)||r,r=yi("visibilitychange",n)||r,!r&&!pw()&&t.appInsights.core.logger.throwInternal(V.CRITICAL,U.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}t.appInsights.config.disableFlushOnUnload||(yi("pagehide",n),yi("visibilitychange",n))}},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var t=this;t.config.diagnosticLogInterval=t.config.diagnosticLogInterval&&t.config.diagnosticLogInterval>0?t.config.diagnosticLogInterval:1e4},e}(),function(){var e=null,t=!1,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var r=(document||{}).currentScript;r&&(e=r.src)}catch{}if(e)try{var i=e.toLowerCase();if(i){for(var o="",a=0;a<n.length;a++)if(i.indexOf(n[a])!==-1){o="cdn"+(a+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?o+="-next":i.indexOf("/beta/")!==-1&&(o+="-beta")),Wf=o+(t?".mod":"");break}}}catch{}}()}),eh,lx,BS=k(()=>{ft(),Se(),eh=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],lx=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return e.getDefaultConfig=function(t){return t||(t={}),t.endpointUrl=t.endpointUrl||"https://dc.services.visualstudio.com/v2/track",t.sessionRenewalMs=30*60*1e3,t.sessionExpirationMs=24*60*60*1e3,t.maxBatchSizeInBytes=t.maxBatchSizeInBytes>0?t.maxBatchSizeInBytes:102400,t.maxBatchInterval=isNaN(t.maxBatchInterval)?15e3:t.maxBatchInterval,t.enableDebug=Re(t.enableDebug),t.disableExceptionTracking=Re(t.disableExceptionTracking),t.disableTelemetry=Re(t.disableTelemetry),t.verboseLogging=Re(t.verboseLogging),t.emitLineDelimitedJson=Re(t.emitLineDelimitedJson),t.diagnosticLogInterval=t.diagnosticLogInterval||1e4,t.autoTrackPageVisitTime=Re(t.autoTrackPageVisitTime),(isNaN(t.samplingPercentage)||t.samplingPercentage<=0||t.samplingPercentage>=100)&&(t.samplingPercentage=100),t.disableAjaxTracking=Re(t.disableAjaxTracking),t.maxAjaxCallsPerView=isNaN(t.maxAjaxCallsPerView)?500:t.maxAjaxCallsPerView,t.isBeaconApiDisabled=Re(t.isBeaconApiDisabled,!0),t.disableCorrelationHeaders=Re(t.disableCorrelationHeaders),t.correlationHeaderExcludedDomains=t.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],t.disableFlushOnBeforeUnload=Re(t.disableFlushOnBeforeUnload),t.disableFlushOnUnload=Re(t.disableFlushOnUnload,t.disableFlushOnBeforeUnload),t.enableSessionStorageBuffer=Re(t.enableSessionStorageBuffer,!0),t.isRetryDisabled=Re(t.isRetryDisabled),t.isCookieUseDisabled=Re(t.isCookieUseDisabled),t.isStorageUseDisabled=Re(t.isStorageUseDisabled),t.isBrowserLinkTrackingEnabled=Re(t.isBrowserLinkTrackingEnabled),t.enableCorsCorrelation=Re(t.enableCorsCorrelation),t},e.prototype.addTelemetryInitializers=function(t){var n=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(r){n._processLegacyInitializers(r)}),this._hasLegacyInitializers=!0),this._queue.push(t)},e.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},e.prototype.startTrackPage=function(t){this.appInsightsNew.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsightsNew.stopTrackPage(t,n,r)},e.prototype.trackPageView=function(t,n,r,i,o){var a={name:t,uri:n,properties:r,measurements:i};this.appInsightsNew.trackPageView(a)},e.prototype.trackEvent=function(t,n,r){this.appInsightsNew.trackEvent({name:t})},e.prototype.trackDependency=function(t,n,r,i,o,a,s){this.appInsightsNew.trackDependencyData({id:t,target:r,type:i,duration:o,properties:{HttpMethod:n},success:a,responseCode:s})},e.prototype.trackException=function(t,n,r,i,o){this.appInsightsNew.trackException({exception:t})},e.prototype.trackMetric=function(t,n,r,i,o,a){this.appInsightsNew.trackMetric({name:t,average:n,sampleCount:r,min:i,max:o})},e.prototype.trackTrace=function(t,n,r){this.appInsightsNew.trackTrace({message:t,severityLevel:r})},e.prototype.flush=function(t){this.appInsightsNew.flush(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){this.appInsightsNew.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(t,n,r,i,o){this.appInsightsNew._onerror({message:t,url:n,lineNumber:r,columnNumber:i,error:o})},e.prototype.startTrackEvent=function(t){this.appInsightsNew.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsightsNew.stopTrackEvent(t,n,r)},e.prototype.downloadAndSetup=function(t){Rn("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(t){lh(t,this,function(n){return n&&eh.indexOf(n)===-1})},e.prototype.loadAppInsights=function(){var t=this;if(this.config.iKey){var n=this.trackPageView;this.trackPageView=function(o,a,s){n.apply(t,[null,o,a,s])}}var r="logPageView";typeof this.snippet[r]=="function"&&(this[r]=function(o,a,s){t.trackPageView(null,o,a,s)});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(o,a,s){t.trackEvent(o,a,s)}),this},e.prototype._processLegacyInitializers=function(t){return t.tags[Ro]=this._queue,t},e}()}),fx,qS=k(()=>{BS(),cx(),Se(),fx=function(){function e(){}return e.getAppInsights=function(t,n){var r=new Ep(t),i=n!==2;if(jo(),n===2)return r.updateSnippetDefinitions(t),r.loadAppInsights(i),r;var o=new lx(t,r);return o.updateSnippetDefinitions(t),r.loadAppInsights(i),o},e}()}),dx={};qb(dx,{AppInsightsCore:()=>tp,ApplicationAnalytics:()=>bp,ApplicationInsights:()=>Ep,ApplicationInsightsContainer:()=>fx,BaseCore:()=>Zd,BaseTelemetryPlugin:()=>Ai,CoreUtils:()=>tc,DependenciesPlugin:()=>Ip,DistributedTracingModes:()=>vn,Event:()=>gn,Exception:()=>At,LoggingSeverity:()=>V,Metric:()=>Mn,NotificationManager:()=>ep,PageView:()=>mn,PageViewPerformance:()=>fr,PerfEvent:()=>Ao,PerfManager:()=>Gd,PropertiesPlugin:()=>Sp,RemoteDependencyData:()=>Nn,Sender:()=>wp,SeverityLevel:()=>ss,Telemetry:()=>ux,Trace:()=>lr,Util:()=>dp,_InternalMessageId:()=>U,doPerf:()=>Uo});var jS=k(()=>{cx(),qS(),Se(),ft(),$y(),Uy(),ox(),sx()}),VS=(e,t,n)=>Do(void 0,null,function*(){let r=yield Promise.resolve().then(()=>(li(),Hg)),i=yield Promise.resolve().then(()=>(Cm(),Sm)),o=new r.AppInsightsCore,a=new i.PostChannel,s={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[a]]};if(n){s.extensionConfig={};let c={alwaysUseXhrOverride:!0,httpXHROverride:n};s.extensionConfig[a.identifier]=c}let u=t.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(s,[]),o.addTelemetryInitializer(c=>{var l,f;!u||(c.ext=(l=c.ext)!=null?l:{},c.ext.utc=(f=c.ext.utc)!=null?f:{},c.ext.utc.flags=8462029)}),o}),WS=(e,t,n)=>Do(void 0,null,function*(){let r=yield VS(e,t,n);return{logEvent:(i,o)=>{try{r?.track({name:i,baseData:{name:i,properties:o?.properties,measurements:o?.measurements}})}catch(a){throw new Error(`Failed to log event to app insights!
`+a.message)}},logException:(i,o)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:()=>Do(void 0,null,function*(){try{r?.unload()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}})}}),KS=class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}logException(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:e,data:t});return}this._telemetryClient.logException(e,t)}flush(){return Do(this,null,function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)})}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.logEvent(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.logException(e,t)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=2}))}},Fn=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){let e="telemetry",t="enableTelemetry";try{let n=this.vscodeAPI.env.telemetryConfiguration;return n.isUsageEnabled&&n.isErrorsEnabled&&n.isCrashEnabled?"on":n.isErrorsEnabled&&n.isCrashEnabled?"error":"off"}catch{return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(e).get(t)?"on":"off"}}static applyReplacements(e,t){for(let n of Object.keys(e))for(let r of t)r.lookup.test(n)&&(r.replacementString!==void 0?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getInstance(e){return Fn._instance||(Fn._instance=new Fn(e)),Fn._instance}},GS=class{constructor(e,t,n,r,i,o){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=r,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!o,this.updateUserOptStatus(),i.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(i.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=Fn.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(n=>{e.indexOf(`${n}`)===0&&(t=n)}),t}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(e===null||typeof e!="object"||typeof t!="function")return e;let n={};for(let r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(e==null)return"";let r=[];this.vscodeAPI.env.appRoot!==""&&r.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let o=[];for(let c of r)for(;(n=c.exec(e))&&n;)o.push([n.index,c.lastIndex]);let a=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,u=0;for(i="";(n=s.exec(e))&&n;)n[0]&&!a.test(n[0])&&o.every(([c,l])=>n.index<c||n.index>=l)&&(i+=e.substring(u,n.index)+"<REDACTED: user-file-path>",u=s.lastIndex);u<e.length&&(i+=e.substr(u))}for(let o of r)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let t={};for(let n of Object.keys(e)){let r=e[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,a=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(r.toLowerCase())?t[n]="<REDACTED: secret>":i.test(r)?t[n]="<REDACTED: email>":a.test(r)?t[n]="<REDACTED: token>":t[n]=r}return t}get telemetryLevel(){switch(Fn.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,n,r,i){if((this.userOptIn||i)&&e!==""){if(t=An(An({},t),this.getCommonProperties()),r){let o=this.cloneAndChange(t,(a,s)=>this.anonymizeFilePaths(s,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(o)}t=t??{},n=n??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!0,!1)}sendRawTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1,!1)}sendDangerousTelemetryEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,n,r,!0)}internalSendTelemetryErrorEvent(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&e!==""){if(t=An(An({},t),this.getCommonProperties()),r){let o=this.cloneAndChange(t,(a,s)=>this.anonymizeFilePaths(s,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(o)}t=t??{},n=n??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,n,r,!0)}internalSendTelemetryException(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&e){if(t=An(An({},t),this.getCommonProperties()),r){let o=this.cloneAndChange(t,(a,s)=>this.anonymizeFilePaths(s,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(o)}t=t??{},n=n??{},this.telemetryAppender.logException(e,{properties:t,measurements:n})}}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!0,!1)}sendDangerousTelemetryException(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,n,r,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}},XS=(e,t)=>Do(void 0,null,function*(){let n;try{let r=yield Promise.resolve().then(()=>(jS(),dx)),i;e&&e.indexOf("AIF-")===0&&(i="https://vscode.vortex.data.microsoft.com/collect/v1"),n=new r.ApplicationInsights({config:{instrumentationKey:e,endpointUrl:i,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),n.loadAppInsights(),i&&fetch(i).catch(()=>n=void 0)}catch(r){return Promise.reject(r)}return{logEvent:(r,i)=>{let o=An(An({},i?.properties),i?.measurements);t!=null&&t.length&&Fn.applyReplacements(o,t),n?.trackEvent({name:r},o)},logException:(r,i)=>{let o=An(An({},i?.properties),i?.measurements);t!=null&&t.length&&Fn.applyReplacements(o,t),n?.trackException({exception:r,properties:o})},flush:()=>Do(void 0,null,function*(){n?.flush()})}}),px=class extends GS{constructor(e,t,n,r,i){let o=s=>XS(s,i);Fn.shouldUseOneDataSystemSDK(n)&&(o=s=>WS(s,th));let a=new KS(n,o);n&&(n.indexOf("AIF-")===0||Fn.shouldUseOneDataSystemSDK(n))&&(r=!0),super(e,t,a,{release:navigator.appVersion,platform:"web",architecture:"web"},th,r)}};var Di=Sn(require("vscode"));var zn=Sn(require("vscode"));var Sc=class{constructor(t,n){this.messageHandler=t;this.postMessage=n;this.messageIdCounter=0;this.pendingMessages=new Map}sendEvent(t){this.postMessage({body:t,messageId:this.messageIdCounter++})}sendRequest(t){let n=this.messageIdCounter++;return this.postMessage({body:t,messageId:n}),new Promise((r,i)=>{this.pendingMessages.set(n,{resolve:r,reject:i})})}sendReply(t,n){this.postMessage({body:n,messageId:this.messageIdCounter++,inReplyTo:t.messageId})}handleMessage(t){t.inReplyTo!==void 0?(this.pendingMessages.get(t.inReplyTo)?.resolve(t.body),this.pendingMessages.delete(t.inReplyTo)):Promise.resolve(this.messageHandler(t.body)).then(n=>n&&this.sendReply(t,n))}};function QS(e){for(;e.length;){let t=e.pop();t&&t.dispose()}}var Hn=class{constructor(){this._isDisposed=!1;this._disposables=[]}dispose(){this._isDisposed||(this._isDisposed=!0,QS(this._disposables))}_register(t){return this._isDisposed?t.dispose():this._disposables.push(t),t}get isDisposed(){return this._isDisposed}},Cc=class{constructor(t){this._value=t}get value(){return this._value}set value(t){this._value!==t&&(this._value?.dispose(),this._value=t)}dispose(){this.value?.dispose()}};var $S=require("vscode");function Ic(e=32){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var Tp=e=>e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(0,e.byteLength),_p=e=>typeof Buffer<"u"?Buffer.byteLength(e):new Blob([e]).size,vx=e=>{let t=0;for(let i of e)t+=i.byteLength;let n=new Uint8Array(t),r=0;for(let i of e)n.set(i,r),r+=i.byteLength;return n};var Pp=class extends Hn{constructor(n,r){super();this._extensionURI=n;this._register(r.onDidChangeActiveDocument(i=>{let a=zn.workspace.getConfiguration("hexeditor").get("inspectorType")==="sidebar"&&!!i;zn.commands.executeCommand("setContext","hexEditor:showSidebarInspector",a),a&&this.show({autoReveal:!0})}))}resolveWebviewView(n,r,i){this._view=n,n.webview.options={enableScripts:!0,localResourceRoots:[this._extensionURI]},n.webview.html=this._getWebviewHTML(n.webview),n.webview.onDidReceiveMessage(o=>{o.type==="ready"&&n.show()}),this._view.onDidDispose(()=>this._view=void 0),n.onDidChangeVisibility(()=>{n.visible&&this._lastMessage&&n.webview.postMessage(this._lastMessage)}),this._lastMessage&&n.webview.postMessage(this._lastMessage)}handleEditorMessage(n){this._lastMessage=n,this._view?.webview.postMessage(n)}show(n){n?.autoReveal&&!zn.workspace.getConfiguration("hexeditor.dataInspector").get("autoReveal",!1)||(this._view&&!n?.forceFocus?this._view.show():zn.commands.executeCommand(`${Pp.viewType}.focus`),this._lastMessage&&this._view?.webview.postMessage(this._lastMessage))}_getWebviewHTML(n){let r=n.asWebviewUri(zn.Uri.joinPath(this._extensionURI,"dist","inspector.js")),i=n.asWebviewUri(zn.Uri.joinPath(this._extensionURI,"dist","inspector.css")),o=zn.workspace.getConfiguration().get("hexeditor.defaultEndianness"),a=Ic();return`<!DOCTYPE html>
            <html lang="en">
            <head>
              <meta charset="UTF-8">
              <!--
                Use a content security policy to only allow loading images from https or from our extension directory,
                and only allow scripts that have a specific nonce.
              -->
              <meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${n.cspSource}; script-src 'nonce-${a}';">
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <link href="${i}" rel="stylesheet">

              <title>Data Inspector</title>
            </head>
            <body>
              <div id="data-inspector">
                <div class="grid-container">
									<!-- Input elements filled in by dataInspector.ts -->
                  <div class="grid-item endian-select">
                    <label for="endianness">Endianness</label>
                  </div>
                  <div class="grid-item endian-select">
                    <select id="endianness">
                      <option value="little" ${o==="little"?"selected":""}>Little Endian</option>
                      <option value="big" ${o==="big"?"selected":""}>Big Endian</option>
                    </select>
                  </div>
                </div>
              </div>
              <script nonce="${a}" src="${r}"><\/script>
            </body>
            </html>`}},Vo=Pp;Vo.viewType="hexEditor.dataInspectorView";var mx=Sn(require("vscode"));var YS=/^0x[a-f0-9]+$/i,ZS=/^[0-9]+$/i,hx=e=>{let t=mx.window.createInputBox();t.placeholder="Enter offset to go to",e.sendEvent({type:6});let n,r=!1;t.onDidChangeValue(i=>{if(!i)n=void 0;else if(YS.test(i))n=parseInt(i.slice(2),16);else if(ZS.test(i))n=parseInt(i,10);else{t.validationMessage="Offset must be provided as a decimal (12345) or hex (0x12345) address";return}t.validationMessage="",n!==void 0&&(t.validationMessage="",e.sendEvent({type:7,offset:n}))}),t.onDidAccept(()=>{r=!0,n!==void 0&&e.sendEvent({type:8,offset:n})}),t.onDidHide(()=>{r||e.sendEvent({type:10})}),t.show()};var eC=typeof atob=="function",tC=typeof btoa=="function",_c=typeof Buffer=="function",kP=typeof TextDecoder=="function"?new TextDecoder:void 0,FP=typeof TextEncoder=="function"?new TextEncoder:void 0,nC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ls=Array.prototype.slice.call(nC),Ec=(e=>{let t={};return e.forEach((n,r)=>t[n]=r),t})(ls),rC=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Tc=String.fromCharCode.bind(String),yx=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(e,t=n=>n)=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),iC=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),bx=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),oC=e=>{let t,n,r,i,o="",a=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,o+=ls[t>>18&63]+ls[t>>12&63]+ls[t>>6&63]+ls[t&63]}return a?o.slice(0,a-3)+"===".substring(a):o},aC=tC?e=>btoa(e):_c?e=>Buffer.from(e,"binary").toString("base64"):oC,xx=_c?e=>Buffer.from(e).toString("base64"):e=>{let n=[];for(let r=0,i=e.length;r<i;r+=4096)n.push(Tc.apply(null,e.subarray(r,r+4096)));return aC(n.join(""))},Pc=(e,t=!1)=>t?iC(xx(e)):xx(e);var sC=e=>{if(e=e.replace(/\s+/g,""),!rC.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,n="",r,i;for(let o=0;o<e.length;)t=Ec[e.charAt(o++)]<<18|Ec[e.charAt(o++)]<<12|(r=Ec[e.charAt(o++)])<<6|(i=Ec[e.charAt(o++)]),n+=r===64?Tc(t>>16&255):i===64?Tc(t>>16&255,t>>8&255):Tc(t>>16&255,t>>8&255,t&255);return n},uC=eC?e=>atob(bx(e)):_c?e=>Buffer.from(e,"base64").toString("binary"):sC,cC=_c?e=>yx(Buffer.from(e,"base64")):e=>yx(uC(e),t=>t.charCodeAt(0)),wx=e=>cC(lC(e));var lC=e=>bx(e.replace(/[-_]/g,t=>t=="-"?"+":"/"));var ze=Sn(require("vscode"));var Ac=class{constructor(t,n,r){this.bias=t,this.backoffA=n,this.backoffB=r}next(t){let n=this.backoffA.next(t),r=this.backoffB.next(t);return n&&r&&Cx(this.bias,n,r)}},Cx=(e,t,n)=>({get duration(){switch(e){case"a":return t.duration;case"b":return n.duration;case"max":return Math.max(n.duration,t.duration);case"min":return Math.min(n.duration,t.duration);default:throw new Error(`Unknown bias "${e}" given to CompositeBackoff`)}},next(r){let i=t.next(r),o=n.next(r);return i&&o&&Cx(e,i,o)}});var Ri=class{constructor(t,n){this.interval=t,this.limit=n}next(){return Ix(this.interval,this.limit)}},NP=new Ri(0,0),Ix=(e,t,n=0)=>({duration:e,next(){if(t===void 0)return this;if(!(n>=t-1))return Ix(e,t,n+1)}});var Rc=class{constructor(t){this.fn=t}next(t){return Ap(this.fn).next(t)}},Ap=(e,t,n=0)=>({duration:n,next(r){let i=e(r,t);if(i!==void 0)return typeof i=="number"?Ap(e,t,i):Ap(e,i.state,i.delay)}});var fC=.7142857142857143,Ex=(e,t)=>{let[n,r]=e||[0,0],i=n+Math.random(),o=Math.pow(t.exponent,i)*Math.tanh(Math.sqrt(4*i)),a=Math.max(0,o-r);return[Math.min(a*fC*t.initialDelay,t.maxDelay),[n+1,o]]};var Tx={generator:Ex,maxDelay:3e4,maxAttempts:1/0,exponent:2,initialDelay:128},Dc=class{constructor(t){this.options=t?{...Tx,...t}:Tx}next(){return _x(this.options).next(void 0)}},_x=(e,t,n=0,r=-1)=>({duration:n,next(){if(r>=e.maxAttempts-1)return;let[i,o]=e.generator(t,e);return _x(e,o,i,r+1)}});var kc=class{constructor(t){this.durations=t}next(){return Px(this.durations,0)}},Px=(e,t)=>({duration:e[t],next:()=>t<e.length-1?Px(e,t+1):void 0});var bn=class extends Error{constructor(t="Operation cancelled"){super(t),this.message=t,this.isTaskCancelledError=!0}};var Mc={dispose:()=>{}},fs;(function(e){e.once=(t,n)=>{let r=!1,i;return i=t(o=>{n(o),i?i.dispose():r=!0}),r?(i.dispose(),Mc):i},e.toPromise=(t,n)=>n?n.isCancellationRequested?Promise.reject(new bn):new Promise((r,i)=>{let o=e.once(t,s=>{a.dispose(),r(s)}),a=e.once(n.onCancellationRequested,()=>{o.dispose(),i(new bn)})}):new Promise(r=>e.once(t,r))})(fs||(fs={}));var pt=class{constructor(){this.addListener=t=>this.addListenerInner(t)}get size(){return this.listeners?typeof this.listeners=="function"?1:this.listeners.length:0}emit(t){if(this.listeners)if(typeof this.listeners=="function")this.listeners(t);else for(let n of this.listeners)n(t)}addListenerInner(t){return this.listeners?typeof this.listeners=="function"?this.listeners=[this.listeners,t]:this.listeners.push(t):this.listeners=t,{dispose:()=>this.removeListener(t)}}removeListener(t){if(!this.listeners)return;if(typeof this.listeners=="function"){this.listeners===t&&(this.listeners=void 0);return}let n=this.listeners.indexOf(t);n!==-1&&(this.listeners.length===2?this.listeners=n===0?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,n).concat(this.listeners.slice(n+1)))}},Fc=class extends pt{constructor(){super(...arguments),this.addListener=t=>{let n=this.addListenerInner(t);return this.lastValue&&t(this.lastValue.value),n}}get hasEmitted(){return!!this.lastValue}emit(t){this.lastValue={value:t},super.emit(t)}};var Nc=class{constructor(t){this.onCancel=new Fc,this.token=new Ye(this.onCancel.addListener),t&&(this.parentListener=t.onCancellationRequested(()=>this.cancel()))}cancel(){this.parentListener&&(this.parentListener.dispose(),this.parentListener=void 0),this.onCancel.hasEmitted||this.onCancel.emit()}},Ye=class{constructor(t){this.onCancellationRequested=t,this.isRequested=!1,fs.once(t,()=>this.isRequested=!0)}get isCancellationRequested(){return this.isRequested}cancellation(t){return fs.toPromise(this.onCancellationRequested,t)}};Ye.None=new Ye(()=>Mc);Ye.Cancelled=new Ye(e=>(e(void 0),Mc));var Ur=e=>{if("error"in e)throw e.error;return"success"in e?e.success:e.value},dC=()=>{if(typeof performance<"u"){let e=performance.now();return()=>performance.now()-e}else{let e=process.hrtime.bigint();return()=>Number(process.hrtime.bigint()-e)/1e6}},jt=class{constructor(t=()=>!1,n=()=>!1){this.errorFilter=t,this.resultFilter=n,this.successEmitter=new pt,this.failureEmitter=new pt,this.onSuccess=this.successEmitter.addListener,this.onFailure=this.failureEmitter.addListener}derive(){let t=new jt(this.errorFilter,this.resultFilter);return t.onSuccess(n=>this.successEmitter.emit(n)),t.onFailure(n=>this.failureEmitter.emit(n)),t}async invoke(t,...n){let r=this.successEmitter.size||this.failureEmitter.size?dC():null;try{let i=await t(...n);return this.resultFilter(i)?(r&&this.failureEmitter.emit({duration:r(),handled:!0,reason:{value:i}}),{value:i}):(r&&this.successEmitter.emit({duration:r()}),{success:i})}catch(i){let o=this.errorFilter(i);if(r&&this.failureEmitter.emit({duration:r(),handled:o,reason:{error:i}}),!o)throw i;return{error:i}}}};var Wo=class extends Error{constructor(t="Execution prevented because the circuit breaker is open"){super(t),this.isBrokenCircuitError=!0}};var Lc=class extends Error{constructor(t,n){super(`Bulkhead capacity exceeded (0/${t} execution slots, 0/${n} available)`),this.isBulkheadRejectedError=!0}};var Uc=class extends Wo{constructor(){super("Execution prevented because the circuit breaker is open"),this.isIsolatedCircuitError=!0}};var He;(function(e){e[e.Closed=0]="Closed",e[e.Open=1]="Open",e[e.HalfOpen=2]="HalfOpen",e[e.Isolated=3]="Isolated"})(He||(He={}));var Oc=class{constructor(t,n){this.options=t,this.executor=n,this.breakEmitter=new pt,this.resetEmitter=new pt,this.halfOpenEmitter=new pt,this.stateChangeEmitter=new pt,this.innerState={value:He.Closed},this.onBreak=this.breakEmitter.addListener,this.onReset=this.resetEmitter.addListener,this.onHalfOpen=this.halfOpenEmitter.addListener,this.onStateChange=this.stateChangeEmitter.addListener,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}get state(){return this.innerState.value}get lastFailure(){return this.innerLastFailure}isolate(){this.innerState.value!==He.Isolated&&(this.innerState={value:He.Isolated,counters:0},this.breakEmitter.emit({isolated:!0}),this.stateChangeEmitter.emit(He.Isolated)),this.innerState.counters++;let t=!1;return{dispose:()=>{t||(t=!0,this.innerState.value===He.Isolated&&!--this.innerState.counters&&(this.innerState={value:He.Closed},this.resetEmitter.emit(),this.stateChangeEmitter.emit(He.Closed)))}}}async execute(t,n=Ye.None){let r=this.innerState;switch(r.value){case He.Closed:let i=await this.executor.invoke(t,{cancellationToken:n});return"success"in i?this.options.breaker.success(r.value):(this.innerLastFailure=i,this.options.breaker.failure(r.value)&&this.open(i)),Ur(i);case He.HalfOpen:if(await r.test.catch(()=>{}),this.state===He.Closed&&n.isCancellationRequested)throw new bn;return this.execute(t);case He.Open:if(Date.now()-r.openedAt<this.options.halfOpenAfter)throw new Wo;let o=this.halfOpen(t,n);return this.innerState={value:He.HalfOpen,test:o},this.stateChangeEmitter.emit(He.HalfOpen),o;case He.Isolated:throw new Uc;default:throw new Error(`Unexpected circuit state ${r}`)}}async halfOpen(t,n){this.halfOpenEmitter.emit();try{let r=await this.executor.invoke(t,{cancellationToken:n});return"success"in r?(this.options.breaker.success(He.HalfOpen),this.close()):(this.innerLastFailure=r,this.options.breaker.failure(He.HalfOpen),this.open(r)),Ur(r)}catch(r){throw this.close(),r}}open(t){this.state===He.Isolated||this.state===He.Open||(this.innerState={value:He.Open,openedAt:Date.now()},this.breakEmitter.emit(t),this.stateChangeEmitter.emit(He.Open))}close(){this.state===He.HalfOpen&&(this.innerState={value:He.Closed},this.resetEmitter.emit(),this.stateChangeEmitter.emit(He.Closed))}};var Ax=()=>{let e,t,n=new Promise((r,i)=>{e=r,t=i});return{resolve:e,reject:t,promise:n}};var Hc=class{constructor(t,n){this.capacity=t,this.queueCapacity=n,this.active=0,this.queue=[],this.onRejectEmitter=new pt,this.executor=new jt,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onReject=this.onRejectEmitter.addListener}get executionSlots(){return this.capacity-this.active}get queueSlots(){return this.queueCapacity-this.queue.length}async execute(t,n=Ye.None){if(n.isCancellationRequested)throw new bn;if(this.active<this.capacity){this.active++;try{return await t({cancellationToken:n})}finally{this.active--,this.dequeue()}}if(this.queue.length<this.queueCapacity){let{resolve:r,reject:i,promise:o}=Ax();return this.queue.push({ct:n,fn:t,resolve:r,reject:i}),o}throw this.onRejectEmitter.emit(),new Lc(this.capacity,this.queueCapacity)}dequeue(){let t=this.queue.shift();!t||Promise.resolve().then(()=>this.execute(t.fn,t.ct)).then(t.resolve).catch(t.reject)}};var zc=class{constructor(t,n){this.executor=t,this.value=n,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(t,n=Ye.None){let r=await this.executor.invoke(t,{cancellationToken:n});return"success"in r?r.success:this.value()}};var Bc=class{constructor(){this.executor=new jt,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure}async execute(t,n=Ye.None){return Ur(await this.executor.invoke(t,{cancellationToken:n}))}};var pC=(e,t)=>new Promise(n=>{let r=setTimeout(n,e);t&&r.unref()}),Ko=class{constructor(t,n){this.options=t,this.executor=n,this.onGiveUpEmitter=new pt,this.onRetryEmitter=new pt,this.onSuccess=this.executor.onSuccess,this.onFailure=this.executor.onFailure,this.onRetry=this.onRetryEmitter.addListener,this.onGiveUp=this.onGiveUpEmitter.addListener}attempts(t){return this.composeBackoff("a",new Ri(1,t))}delay(t){return this.composeBackoff("b",typeof t=="number"?new Ri(t):new kc(t))}delegate(t){return this.composeBackoff("b",new Rc(t))}exponential(t={}){return this.composeBackoff("b",new Dc(t))}backoff(t){return this.composeBackoff("b",t)}dangerouslyUnref(){return this.derivePolicy({...this.options,unref:!0})}async execute(t,n=Ye.None){let r=this.options.backoff||new Ri(0,1),i;for(let o=0;;o++){let a=await this.executor.invoke(t,{attempt:o,cancellationToken:n});if("success"in a)return a.success;if(!n.isCancellationRequested){let s={attempt:o+1,cancellationToken:n,result:a};if(o===0?i=r.next(s):i&&(i=i.next(s)),i){let u=i.duration,c=pC(u,!!this.options.unref);this.onRetryEmitter.emit({...a,delay:u}),await c;continue}}if(this.onGiveUpEmitter.emit(a),"error"in a)throw a.error;return a.value}}composeBackoff(t,n){return this.options.backoff&&(n=new Ac(t,this.options.backoff,n)),this.derivePolicy({...this.options,backoff:n})}derivePolicy(t){let n=new Ko(t,this.executor.derive());return n.onRetry(r=>this.onRetryEmitter.emit(r)),n}};var Rp;(function(e){e.Cooperative="optimistic",e.Aggressive="aggressive"})(Rp||(Rp={}));var Go=class{constructor(t,n,r=new jt,i=!1){this.duration=t,this.strategy=n,this.executor=r,this.unref=i,this.timeoutEmitter=new pt,this.onTimeout=this.timeoutEmitter.addListener,this.onFailure=this.executor.onFailure,this.onSuccess=this.executor.onSuccess}dangerouslyUnref(){return new Go(this.duration,this.strategy,this.executor,!0)}async execute(t,n=Ye.None){let r=new Nc(n),i=setTimeout(()=>r.cancel(),this.duration);this.unref&&i.unref();let o={cancellation:r.token,cancellationToken:r.token},a=r.token.onCancellationRequested(()=>this.timeoutEmitter.emit());try{return this.strategy===Rp.Cooperative?Ur(await this.executor.invoke(t,o,r.token)):await this.executor.invoke(async()=>Promise.race([Promise.resolve(t(o,r.token)),r.token.cancellation(r.token).then(()=>{throw new bn(`Operation timed out after ${this.duration}ms`)})])).then(Ur)}finally{a.dispose(),r.cancel(),clearTimeout(i)}}};var qc=(e,t)=>t?n=>n instanceof e&&t(n):n=>n instanceof e,vC=()=>!0,ds=()=>!1,xt=class{constructor(t){this.options=t}static wrap(...t){return{onFailure:t[0].onFailure,onSuccess:t[0].onSuccess,execute(n,r){let i=(o,a)=>a===t.length?n(o):t[a].execute(s=>i({...o,...s},a+1),o.cancellationToken);return Promise.resolve(i({cancellationToken:r},0))}}}static bulkhead(t,n=0){return new Hc(t,n)}static handleAll(){return new xt({errorFilter:vC,resultFilter:ds})}static handleType(t,n){return new xt({errorFilter:qc(t,n),resultFilter:ds})}static handleWhen(t){return new xt({errorFilter:t,resultFilter:ds})}static handleResultType(t,n){return new xt({errorFilter:ds,resultFilter:qc(t,n)})}static handleWhenResult(t){return new xt({errorFilter:ds,resultFilter:t})}static timeout(t,n){return new Go(t,n)}static use(t){return(n,r,i)=>{let o=i.value;if(typeof o!="function")throw new Error(`Can only decorate functions with @cockatiel, got ${typeof o}`);i.value=function(...a){let s=a[a.length-1]instanceof Ye?a.pop():void 0;return t.execute(u=>o.apply(this,[...a,u]),s)}}}orType(t,n){let r=qc(t,n);return new xt({...this.options,errorFilter:i=>this.options.errorFilter(i)||r(i)})}orWhen(t){return new xt({...this.options,errorFilter:n=>this.options.errorFilter(n)||t(n)})}orWhenResult(t){return new xt({...this.options,resultFilter:n=>this.options.resultFilter(n)||t(n)})}orResultType(t,n){let r=qc(t,n);return new xt({...this.options,resultFilter:i=>this.options.resultFilter(i)||r(i)})}retry(){return new Ko({},new jt(this.options.errorFilter,this.options.resultFilter))}circuitBreaker(t,n){return new Oc({breaker:n,halfOpenAfter:t},new jt(this.options.errorFilter,this.options.resultFilter))}fallback(t){return new zc(new jt(this.options.errorFilter,this.options.resultFilter),typeof t=="function"?t:()=>t)}};xt.noop=new Bc;var Rx=e=>(t,n)=>{let r,i=0,o=n.length-1;for(;i<=o;)r=Math.floor((i+o)/2),e(n[r])>=t?o=r-1:i=r+1;return i};var jc=Symbol("unset"),Dp=e=>{let t=jc,n=()=>(t===jc&&(t=e()),t);return n.getValue=()=>t===jc?void 0:t,n.forget=()=>{t=jc},n};var gC=e=>e.op===0?{...e,op:1,previous:e.value}:e.op===1?{...e,op:0,value:e.previous}:{...e,value:e.previous,previous:e.value};var ps=class{constructor(t){this.saveGuard=xt.bulkhead(1,1/0);this._unsavedEditIndex=0;this.getSizeInner=Dp(()=>this.accessor.getSize());this.getEditTimeline=Dp(()=>hC(this._edits));this._edits=t.edits?t.edits.saved.concat(t.edits.unsaved):[],this._unsavedEditIndex=t.edits?.saved.length??0,this.supportsLengthChanges=t.supportsLengthChanges,this.isFiniteSize=t.isFiniteSize,this.accessor=t.accessor,this.pageSize=t.accessor.pageSize}get uri(){return this.accessor.uri}get isReadonly(){return!!this.accessor.isReadonly}async size(){if(!this.isFiniteSize)return;let t=await this.getSizeInner();if(t===void 0)return;let{sizeDelta:n}=this.getEditTimeline();return t+n}get edits(){return this._edits}get unsavedEdits(){return this._edits.slice(this.unsavedEditIndex)}get unsavedEditIndex(){return this._unsavedEditIndex}get isSynced(){return this.unsavedEditIndex===this.edits.length}readInto(t,n){return this.accessor.read(t,n)}readWithEdits(t=0,n=128*1024){return mC(this.accessor,this.getEditTimeline().ranges,t,n)}save(){let t=this._edits.slice(this.unsavedEditIndex);return t.length===0?Promise.resolve():(this._unsavedEditIndex+=t.length,this.saveGuard.execute(async()=>{t.some(n=>n.op!==2||n.previous.length!==n.value.length)?await this.accessor.writeStream(this.readWithEdits()):await this.accessor.writeBulk(t.map(n=>({offset:n.offset,data:n.value}))),this.getSizeInner.forget()}))}revert(){this._unsavedEditIndex=0,this._edits=[],this.accessor.invalidate?.(),this.getEditTimeline.forget(),this.getSizeInner.forget()}makeEdits(t){let n=this._edits.length;return this._edits.push(...t),this.getEditTimeline.forget(),{undo:()=>(this.unsavedEditIndex<=n?this._edits.splice(n,t.length):this._edits.push(...t.map(gC)),this.getEditTimeline.forget(),this._edits),redo:()=>(this._edits.push(...t),this.getEditTimeline.forget(),this._edits)}}dispose(){this.accessor.dispose()}};async function*mC(e,t,n=0,r=1024){let i=new Uint8Array(r);for(let o=0;o<t.length;o++){let a=t[o];if(a.op===1)continue;if(a.op===2){let c=a.offset+a.value.length-n;if(c<=0)continue;let l=c<a.value.length?a.value.subarray(-c):a.value;l.length>0&&(yield l);continue}let s=a.roffset+(o+1<t.length?t[o+1].offset:1/0)-a.offset,u=a.roffset+Math.max(0,n-a.offset);for(;u<s;){let c=await e.read(u,i.subarray(0,Math.min(i.length,s-u)));if(c===0)break;yield i.subarray(0,c),u+=c}}}var hC=e=>{let t=[{op:0,editIndex:-1,roffset:0,offset:0}],n=(a,s,u)=>s.op===0?{before:{op:0,editIndex:a,roffset:s.roffset,offset:s.offset},after:{op:0,editIndex:a,roffset:s.roffset+u,offset:s.offset+u}}:s.op===1?{before:{op:1,editIndex:a,offset:s.offset},after:{op:1,editIndex:a,offset:s.offset+u}}:{before:{op:2,editIndex:a,offset:s.offset,value:s.value.subarray(0,u)},after:{op:2,editIndex:a,offset:s.offset+u,value:s.value.subarray(u)}},r=Rx(a=>a.offset),i=0,o=(a,s)=>{for(i+=s;a<t.length;a++)t[a].offset+=s};for(let a=0;a<e.length;a++){let s=e[a],u=r(s.offset,t);(u===t.length||t[u].offset>s.offset)&&u--;let c=t[u];if(s.op===0){let{before:l,after:f}=n(a,c,s.offset-c.offset);t.splice(u,1,l,{op:2,editIndex:a,offset:s.offset,value:s.value},f),o(u+2,s.value.length)}else if(s.op===1||s.op===2){let{before:l}=n(a,c,s.offset-c.offset),f=r(s.offset+s.previous.length,t);(f===t.length||t[f].offset>s.offset)&&f--;let{after:d}=n(a,t[f],s.offset+s.previous.length-t[f].offset);t.splice(u,f-u+1,l,s.op===2?{op:2,editIndex:a,offset:s.offset,value:s.value}:{op:1,editIndex:a,offset:s.offset},d),o(u+2,(s.op===2?s.value.length:0)-s.previous.length)}}return{ranges:t,sizeDelta:i}};var Dx=e=>typeof e=="function"?e():e,Xo=class{constructor(){this.table=new Map}set(t,n){let r=xC(t),i=this.table.get(r);if(!i){let a={buf:t,value:Dx(n)};return this.table.set(r,[a]),a.value}for(let a of i)if(yC(a.buf,t))return a.value;let o={buf:t,value:Dx(n)};return i.push(o),o.value}*entries(){for(let t of this.table.values())for(let{buf:n,value:r}of t)yield[n,r]}*keys(){for(let t of this.table.values())for(let{buf:n}of t)yield n}*values(){for(let t of this.table.values())for(let{value:n}of t)yield n}};function yC(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function xC(e,t=0){t=kx(149417,t);for(let n=0,r=e.length;n<r;n++)t=kx(e[n],t);return t}function kx(e,t){return(t<<5)-t+e|0}var vs=e=>{let t=0,n=new Xo,r=a=>({offset:n.set(a,()=>{let u=t;return t+=a.length,u}),len:a.length}),i=[];for(let a of e)a.op===0?i.push({...a,value:r(a.value)}):a.op===1?i.push({...a,previous:r(a.previous)}):i.push({...a,previous:r(a.previous),value:r(a.value)});let o=new Uint8Array(t);for(let[a,s]of n.entries())o.set(a,s);return{data:o,edits:i}},Fx=({edits:e,data:t})=>{let n=({offset:r,len:i})=>t.slice(r,r+i);return e.map(r=>r.op===0?{...r,value:n(r.value)}:r.op===1?{...r,previous:n(r.previous)}:{...r,previous:n(r.previous),value:n(r.value)})};var Bn=Sn(require("vscode"));var kp=Sn(require("vscode")),wC=new TextEncoder,SC=new TextDecoder,gs=class{constructor(t){this.uri=t}async write(t){let n=JSON.stringify(t,(r,i)=>i instanceof Uint8Array?{$u8:Pc(i)}:i);await kp.workspace.fs.writeFile(this.uri,wC.encode(n))}async read(){let t;try{t=SC.decode(await kp.workspace.fs.readFile(this.uri))}catch{return[]}return JSON.parse(t,(n,r)=>r&&typeof r=="object"&&"$u8"in r?wx(r.$u8):r)}};var Ke=Sn(require("vscode")),Up=async(e,t)=>{if(e.scheme==="untitled")return new Np(e,t??new Uint8Array);if(e.scheme==="vscode-debug-memory"){let{permissions:n=0}=await Ke.workspace.fs.stat(e);return new Lp(e,!!(n&Ke.FilePermission.Readonly))}if(e.scheme==="file")try{let n=require("fs");if((await n.promises.stat(e.fsPath)).isFile())return new Mp(e,n)}catch{}return new Vc(e)},Fp=class{constructor(t,n){this.path=t;this._fs=n;this.borrowQueue=[];this.disposed=!1}borrow(t){return this.disposed?Promise.reject(new Error("FileHandle was disposed")):new Promise((n,r)=>{this.borrowQueue.push(async i=>{if(i instanceof Error)return r(i);try{n(await t(i))}catch(o){r(o)}}),this.borrowQueue.length===1&&this.process()})}dispose(){this.disposed=!0,this.handle=void 0,this.disposeTimeout&&clearTimeout(this.disposeTimeout),this.rejectAll(new Error("FileHandle was disposed"))}async close(){await this.handle?.close(),this.handle=void 0,this.disposeTimeout&&clearTimeout(this.disposeTimeout)}rejectAll(t){for(;this.borrowQueue.length;)this.borrowQueue.pop()(t)}async process(){for(this.disposeTimeout&&clearTimeout(this.disposeTimeout);this.borrowQueue.length;){if(!this.handle)try{this.handle=await this._fs.promises.open(this.path,this._fs.constants.O_RDWR|this._fs.constants.O_CREAT)}catch(t){return this.rejectAll(t)}await this.borrowQueue[0]?.(this.handle),this.borrowQueue.shift()}this.handle&&(this.disposeTimeout=setTimeout(()=>{this.handle?.close(),this.handle=void 0},1e3))}},CC=xt.handleWhen(e=>e.code==="ENOENT").retry().attempts(10).delay(50),Mx=128*1024,Mp=class{constructor(t,n){this.fs=n;this.supportsIncremetalAccess=!0;this.pageSize=Mx;this.uri=t.toString(),this.handle=new Fp(t.fsPath,n)}watch(t,n){return Op(this.uri,t,n)}async getSize(){return this.handle.borrow(async t=>(await t.stat()).size)}async read(t,n){return this.handle.borrow(async r=>{let{bytesRead:i}=await r.read(n,0,n.byteLength,t);return i})}writeBulk(t){return this.handle.borrow(async n=>{for(let{data:r,offset:i}of t)n.write(r,0,r.byteLength,i)})}async writeStream(t,n){let r=`${this.handle.path}.tmp`,i=await this.fs.promises.open(r,this.fs.constants.O_WRONLY|this.fs.constants.O_CREAT|this.fs.constants.O_TRUNC);try{let o=0;for await(let a of t){if(n?.isCancellationRequested)return;await i.write(a,0,a.byteLength,o),o+=a.byteLength}}finally{await i.close()}return await this.handle.borrow(async()=>{await this.handle.close(),await CC.execute(()=>this.fs.promises.rename(r,this.handle.path))}),this.handle.borrow(async o=>{if(n?.isCancellationRequested)return;let a=0;for await(let s of t){if(n?.isCancellationRequested)return;await o.write(s,0,s.byteLength,a),a+=s.byteLength}})}dispose(){this.handle.dispose()}},Vc=class{constructor(t){this.pageSize=Mx;this.uri=t.toString(),this.fsPath=t.fsPath,this.isReadonly=Ke.workspace.fs.isWritableFileSystem(this.uri)===!1}watch(t,n){return Op(this.uri,t,n)}async getSize(){return(await Ke.workspace.fs.stat(Ke.Uri.parse(this.uri))).size}async read(t,n){let r=await this.getContents(),i=Math.min(n.length,r.length-t);return n.set(r.subarray(t,i+t)),i}async writeStream(t,n){let r=0,i=[];for await(let s of t){if(n?.isCancellationRequested)throw new Ke.CancellationError;i.push(s),r+=s.length}let o=new Uint8Array(r),a=0;for(let s of i)o.set(s,a),a+=s.length;await Ke.workspace.fs.writeFile(Ke.Uri.parse(this.uri),o)}async writeBulk(t){let n=await this.getContents();for(let{data:r,offset:i}of t)n.set(r,i);return Ke.workspace.fs.writeFile(Ke.Uri.parse(this.uri),n)}invalidate(){this.contents=void 0}dispose(){this.contents=void 0}getContents(){return this.contents??(this.contents=Ke.workspace.fs.readFile(Ke.Uri.parse(this.uri))),this.contents}},Np=class extends Vc{constructor(n,r){super(n);this.contents=r}getSize(){return Promise.resolve(this.contents.byteLength)}},Lp=class{constructor(t,n){this.isReadonly=n;this.supportsIncremetalAccess=!0;this.pageSize=4*1024;this.uri=t.toString()}watch(t,n){return Op(this.uri,t,n)}async getSize(){}async read(t,n){let r=await Ke.workspace.fs.readFile(this.referenceRange(t,t+n.length)),i=Math.min(n.length,r.length);return n.set(r.subarray(0,i)),i}async writeStream(){throw new Error("Not supported")}async writeBulk(t){await Promise.all(t.map(n=>Ke.workspace.fs.writeFile(this.referenceRange(n.offset,n.offset+n.data.length),n.data)))}referenceRange(t,n){return Ke.Uri.parse(this.uri).with({query:`?range=${t}:${n}`})}invalidate(){}dispose(){}},Op=(e,t,n)=>{let r=e.split("/"),i=r.pop(),o=new Ke.RelativePattern(Ke.Uri.parse(r.join("/")),i),a=Ke.workspace.createFileSystemWatcher(o);return a.onDidChange(t),a.onDidDelete(n),a};var Wc=class{start(t,n){this._request?.dispose(),this._request=n,(async()=>{for await(let r of n.search())t.sendEvent({type:2,data:r})})()}cancel(){this._request?.dispose(),this._request=void 0}};var Or=class extends Hn{constructor(n,r,i){super();this.model=n;this.isLargeFile=r;this.baseAddress=i;this.lastSave=0;this._selectionState={selected:0};this.searchProvider=new Wc;this._onDidDispose=this._register(new Bn.EventEmitter);this.onDidDispose=this._onDidDispose.event;this._onDidChangeSelectionState=this._register(new Bn.EventEmitter);this.onDidChangeSelectionState=this._onDidChangeSelectionState.event;this._onDidRevert=this._register(new Bn.EventEmitter);this.onDidRevert=this._onDidRevert.event}static async create(n,{backupId:r,untitledDocumentData:i},o){let a=await Up(n,i),s=new ps({accessor:a,isFiniteSize:!0,supportsLengthChanges:!0,edits:r?{unsaved:await new gs(Bn.Uri.parse(r)).read(),saved:[]}:void 0}),u=Or.parseQuery(n.query),c=u.baseAddress?Or.parseHexOrDecInt(u.baseAddress):0,l=await a.getSize();o.sendTelemetryEvent("fileOpen",{},{fileSize:l??0});let f=Bn.workspace.getConfiguration().get("hexeditor.maxFileSize")*1e6,d=!r&&!a.supportsIncremetalAccess&&(l??0)>f;return{document:new Or(s,d,c),accessor:a}}get pageSize(){return this.model.pageSize}get isReadonly(){return this.model.isReadonly}get uri(){return Bn.Uri.parse(this.model.uri)}readWithEdits(n){return this.model.readWithEdits(n)}async readBufferWithEdits(n,r){let i=new Uint8Array(r),o=0;for await(let a of this.model.readWithEdits(n)){let s=Math.min(a.length,i.length-o);if(i.set(a.subarray(0,s),o),o+=s,o===r)return i}return i.slice(0,o)}async readBuffer(n,r){let i=new Uint8Array(r),o=await this.model.readInto(n,i);return o===r?i:i.slice(0,o)}dispose(){this._onDidDispose.fire(),this.model.dispose(),super.dispose()}get selectionState(){return this._selectionState}set selectionState(n){this._selectionState=n,this._onDidChangeSelectionState.fire(n)}get isSynced(){return this.model.isSynced}get edits(){return this.model.edits}get unsavedEditIndex(){return this.model.unsavedEditIndex}makeEdits(n){return this.model.makeEdits(n)}insert(n,r){return this.model.makeEdits([{op:0,offset:n,value:r}])}async replace(n,r){let i=await this.readBufferWithEdits(n,r.length);return i.length===r.length?this.makeEdits([{op:2,offset:n,value:r,previous:i}]):this.makeEdits([{op:2,offset:n,value:r.subarray(0,i.length),previous:i},{op:0,offset:n+i.length,value:r.subarray(i.length)}])}size(){return this.model.size()}async save(n){this.lastSave=Date.now(),await this.model.save(),this.lastSave=Date.now()}async saveAs(n,r){if(r&&r.isCancellationRequested)return;if(!this.model.isFiniteSize)throw new Error("Cannot save a document without a finite size");let i=await Up(n);this.lastSave=Date.now(),await i.writeStream(this.model.readWithEdits()),this.lastSave=Date.now(),this.model.dispose(),this.model=new ps({accessor:i,isFiniteSize:!0,supportsLengthChanges:!0})}async revert(n){this.model.revert(),this._onDidRevert.fire()}async backup(n){return await new gs(n).write(this.model.unsavedEdits),{id:n.toString(),delete:async()=>{try{await Bn.workspace.fs.delete(n)}catch{}}}}static parseQuery(n){let r={};if(n){let i=(n[0]==="?"?n.substr(1):n).split("&");for(let o of i){let a=o.split("="),s=a.shift();s&&(r[s]=a.join("="))}}return r}static parseHexOrDecInt(n){return n=n.toLowerCase(),n.startsWith("0x")?parseInt(n.substring(2),16):parseInt(n,10)}};var Kc=Symbol("Wildcard"),Nx=new Uint8Array(255);for(let e=0;e<255;e++)Nx[e]=e;var Hp=new Uint8Array(255);for(let e=0;e<255;e++)Hp[e]=String.fromCharCode(e).toUpperCase().charCodeAt(0);var Gc=class{constructor(t,n,r=Nx){this.needle=t;this.onMatch=n;this.equivalencyTable=r;this.needleLen=0;this.index=0;this.usableBuffer=0;for(let i of t)i===Kc?this.needleLen++:this.needleLen+=i.length;this.buffer=new Uint8Array(this.needleLen)}push(t){let{needleLen:n,buffer:r}=this;for(let i=0;i<t.length;i++)r[this.index++%n]=t[i],this.usableBuffer++,this.attemptMatch()}attemptMatch(){let{needle:t,needleLen:n,buffer:r,index:i,equivalencyTable:o}=this;if(this.usableBuffer<n)return;let a=0;for(let u=0;u<t.length;u++){let c=t[u];if(c===Kc){a++;continue}for(let l=0;l<c.length;l++){if(o[c[l]]!==o[r[(i+a)%n]])return;a++}}this.matchTmpBuf||(this.matchTmpBuf=new Uint8Array(n));let s=this.index%n;this.matchTmpBuf.set(r.subarray(s),0),this.matchTmpBuf.set(r.subarray(0,s),n-s),this.onMatch(this.index-n,this.matchTmpBuf),this.usableBuffer=0}};var zp=class{constructor(t,n){this.filesize=t;this.cap=n;this.buffers=new Xo;this.fileOffset=0;this.lastYieldedTime=Date.now();this.results=[]}get capped(){return this.cap===0}push(t,n,r){let i=this.buffers.set(t,()=>new Uint8Array(t));this.cap===void 0?this.results.push({from:n,to:r,previous:i}):this.cap>0&&(this.results.push({from:n,to:r,previous:i}),this.cap--)}toYield(){let t=Date.now();if(t-this.lastYieldedTime>zp.targetUpdateInterval){this.lastYieldedTime=t;let n=this.results;return this.results=[],{progress:this.filesize?this.fileOffset/this.filesize:0,results:n}}}final(){return{progress:1,capped:this.capped,results:this.results}}},ms=zp;ms.targetUpdateInterval=1e3;var Xc=class{constructor(t,n,r,i){this.document=t;this.query=n;this.isCaseSensitive=r;this.cap=i;this.cancelled=!1}dispose(){this.cancelled=!0}async*search(){let{isCaseSensitive:t,query:n,document:r,cap:i}=this,o=new ms(await r.size(),i),a=new Gc(n.literal.map(s=>s==="*"?Kc:s),(s,u)=>o.push(u,s,s+u.length),t?void 0:Hp);for await(let s of r.readWithEdits(0)){if(this.cancelled||o.capped){yield o.final();return}a.push(s),o.fileOffset+=s.length;let u=o.toYield();u&&(yield u)}yield o.final()}},IC=8*1024,Qc=class{constructor(t,n,r,i){this.document=t;this.cap=i;this.cancelled=!1;this.re=new RegExp(n.re,r?"g":"ig")}dispose(){this.cancelled=!0}async*search(){let t="",n=0,{re:r,document:i}=this,o=new TextDecoder,a=new TextEncoder,s=new ms(await i.size(),this.cap);for await(let u of i.readWithEdits(0)){if(this.cancelled||s.capped){yield s.final();return}t+=o.decode(u);let c=0;for(let d of t.matchAll(r)){let p=n+_p(t.slice(0,d.index)),g=_p(d[0]);s.push(a.encode(d[0]),p,p+g),c=d.index+d[0].length}s.fileOffset+=u.length;let l=Math.max(t.length-IC,c);l>0&&(n+=l,r.lastIndex=0,t=t.slice(l));let f=s.toYield();f&&(yield f)}yield s.final()}};var Ux={columnWidth:16,showDecodedText:!0,defaultEndianness:"little",inspectorType:"aside"},Lx=Object.keys(Ux),$c=class{constructor(t,n,r,i){this._context=t;this._telemetryReporter=n;this._dataInspectorView=r;this._registry=i;this._onDidChangeCustomDocument=new ze.EventEmitter;this.onDidChangeCustomDocument=this._onDidChangeCustomDocument.event}static register(t,n,r,i){return ze.window.registerCustomEditorProvider($c.viewType,new $c(t,n,r,i),{supportsMultipleEditorsPerDocument:!1})}async openCustomDocument(t,n,r){let{document:i,accessor:o}=await Or.create(t,n,this._telemetryReporter),a=[];a.push(i.onDidRevert(async()=>{let c=await i.size()??null;for(let l of this._registry.getMessaging(i))l.sendEvent({type:3,edits:{edits:[],data:new Uint8Array},replaceFileSize:c}),l.sendEvent({type:5})}));let s=async()=>{if(i.isSynced){Date.now()-i.lastSave<5e3||i.revert();return}let c="This file has changed on disk, but you have unsaved changes. Saving now will overwrite the file on disk with your changes.",l="Overwrite",f="Revert",d=await ze.window.showWarningMessage(c,l,f);d===l?ze.commands.executeCommand("workbench.action.files.save"):d==="Revert"&&ze.commands.executeCommand("workbench.action.files.revert")},u=()=>{ze.window.showWarningMessage("This file has been deleted! Saving now will create a new file on disk.","Overwrite","Close Editor").then(c=>{c==="Overwrite"?ze.commands.executeCommand("workbench.action.files.save"):c==="Close Editor"&&ze.commands.executeCommand("workbench.action.closeActiveEditor")})};return a.push(o.watch(s,u)),i}async resolveCustomEditor(t,n,r){let i=new Sc(a=>this.onMessage(i,t,a),a=>n.webview.postMessage(a)),o=this._registry.add(t,i);n.onDidDispose(()=>o.dispose()),n.webview.options={enableScripts:!0},n.webview.html=this.getHtmlForWebview(n.webview),n.webview.onDidReceiveMessage(a=>i.handleMessage(a))}async saveCustomDocument(t,n){await t.save(n);for(let r of this._registry.getMessaging(t))r.sendEvent({type:4,unsavedEditIndex:t.unsavedEditIndex})}saveCustomDocumentAs(t,n,r){return t.saveAs(n,r)}revertCustomDocument(t,n){return t.revert(n)}backupCustomDocument(t,n,r){return t.backup(n.destination)}getHtmlForWebview(t){let n=t.asWebviewUri(ze.Uri.joinPath(this._context.extensionUri,"dist","editor.js")),r=t.asWebviewUri(ze.Uri.joinPath(this._context.extensionUri,"dist","editor.css")),i=Ic();return`
			<!DOCTYPE html>
			<html lang="en">
			<head>
				<meta charset="UTF-8">

				<!--
				Use a content security policy to only allow loading images from https or from our extension directory,
				and only allow scripts that have a specific nonce.
				-->
				<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src ${t.cspSource} blob:; font-src ${t.cspSource}; style-src ${t.cspSource}; script-src 'nonce-${i}';">

				<meta name="viewport" content="width=device-width, initial-scale=1.0">

				<link href="${r}" rel="stylesheet" />
				<script nonce="${i}" src="${n}" defer><\/script>

				<title>Hex Editor</title>
			</head>
			<body>
			</body>
			</html>`}readCodeSettings(){return{scrollBeyondLastLine:ze.workspace.getConfiguration("editor").get("scrollBeyondLastLine",!0)}}readEditorSettings(){let t=ze.workspace.getConfiguration("hexeditor"),n={...Ux};for(let r of Lx)t.has(r)&&(n[r]=t.get(r));return n}writeEditorSettings(t){let n=ze.workspace.getConfiguration("hexeditor");for(let r of Lx){let i=n.inspect(r),o=i?i.workspaceFolderValue!==void 0?ze.ConfigurationTarget.WorkspaceFolder:i.workspaceValue!==void 0?ze.ConfigurationTarget.Workspace:ze.ConfigurationTarget.Global:ze.ConfigurationTarget.Global;n.update(r,t[r],o)}}async onMessage(t,n,r){switch(r.type){case 11:return{type:0,initialOffset:n.baseAddress,editorSettings:this.readEditorSettings(),codeSettings:this.readCodeSettings(),edits:vs(n.edits),unsavedEditIndex:n.unsavedEditIndex,fileSize:await n.size(),pageSize:n.pageSize,isLargeFile:n.isLargeFile,isReadonly:n.isReadonly};case 9:n.selectionState=r;break;case 13:let i=await n.readBuffer(r.offset,r.bytes);return{type:1,data:Tp(i)};case 14:this.publishEdit(t,n,n.makeEdits(Fx(r.edits)));return;case 20:this.publishEdit(t,n,r.mode==="insert"?n.insert(r.offset,r.data):await n.replace(r.offset,r.data)),t.sendEvent({type:3,edits:vs(n.edits)});return;case 21:{let a=await Promise.all(r.selections.sort((c,l)=>c[0]-l[0]).map(c=>n.readBuffer(c[0],c[1]-c[0]))),s=vx(a),u=r.asText?new TextDecoder().decode(s):Pc(s);ze.env.clipboard.writeText(u);return}case 16:n.searchProvider.cancel();return;case 15:let o;"re"in r.query?o=new Qc(n,r.query,r.caseSensitive,r.cap):o=new Xc(n,r.query,r.caseSensitive,r.cap),n.searchProvider.start(t,o);return;case 17:this._dataInspectorView.handleEditorMessage({method:"reset"});break;case 18:this._dataInspectorView.handleEditorMessage({method:"update",data:Tp(await n.readBufferWithEdits(r.offset,8))});break;case 19:this.writeEditorSettings(r.editorSettings);break}}publishEdit(t,n,r){this._onDidChangeCustomDocument.fire({document:n,undo:()=>t.sendEvent({type:3,edits:vs(r.undo())}),redo:()=>t.sendEvent({type:3,edits:vs(r.redo())})})}},hs=$c;hs.viewType="hexEditor.hexedit";var vr=Sn(require("vscode"));var Ox=[],Jc=class extends Hn{constructor(){super();this.docs=new Map;this.onChangeEmitter=new vr.EventEmitter;this.onDidChangeActiveDocument=this.onChangeEmitter.event;this._register(vr.window.tabGroups.onDidChangeTabs(this.onChangedTabs,this)),this.onChangedTabs()}get activeDocument(){return this._activeDocument}get activeMessaging(){return this._activeDocument&&this.docs.get(this._activeDocument)||Ox}getMessaging(n){return this.docs.get(n)||Ox}add(n,r){let i=this.docs.get(n);return i?i.add(r):(i=new Set([r]),this.docs.set(n,i)),this.onChangedTabs(),{dispose:()=>{i.delete(r),i.size===0&&this.docs.delete(n)}}}onChangedTabs(){let n=vr.window.tabGroups.activeTabGroup.activeTab?.input,r=n instanceof vr.TabInputCustom?n.uri:void 0,i;if(r){for(let o of this.docs.keys())if(o.uri.toString()===r.toString()){i=o;break}}i!==this._activeDocument&&(this._activeDocument=i,vr.commands.executeCommand("setContext","hexEditor:isActive",!!i),this.onChangeEmitter.fire(i))}};var Yc=Sn(require("vscode"));var Hx=new Intl.NumberFormat,ys=class extends Hn{constructor(n){super();this.docChangeListener=this._register(new Cc);this.item=this._register(Yc.window.createStatusBarItem(Yc.StatusBarAlignment.Right,100));let r=i=>{i?(this.docChangeListener.value=i.onDidChangeSelectionState(o=>this.update(o)),this.update(i.selectionState),this.show()):this.hide()};this._register(n.onDidChangeActiveDocument(r)),r(n.activeDocument)}update({focused:n,selected:r}){if(n===void 0&&r===0)return;let i=n!==void 0?Hx.format(n):void 0,o=r>1?Hx.format(r):void 0;if(i&&o)this.item.text=`Byte ${i} (${o} selected)`;else if(o)this.item.text=`${o} selected`;else if(i)this.item.text=`Byte ${i}`;else{this.item.hide();return}this.item.show()}show(){this.item.show()}hide(){this.item.hide()}};function EC(e){let t=e.packageJSON;return{extId:`${t.publisher}.${t.name}`,version:t.version,aiKey:t.aiKey}}function TC(){let e=Di.window.tabGroups.activeTabGroup.activeTab?.input;e.uri&&Di.commands.executeCommand("vscode.openWith",e.uri,"hexEditor.hexedit")}function _C(e){let t=new Jc,n=new Vo(e.extensionUri,t),r=EC(e.extension);e.subscriptions.push(t,n,Di.window.registerWebviewViewProvider(Vo.viewType,n));let i=new px(r.extId,r.version,r.aiKey);e.subscriptions.push(i);let o=Di.commands.registerCommand("hexEditor.openFile",TC),a=Di.commands.registerCommand("hexEditor.goToOffset",()=>{let s=t.activeMessaging[Symbol.iterator]().next();s.value&&hx(s.value)});e.subscriptions.push(new ys(t)),e.subscriptions.push(a),e.subscriptions.push(o),e.subscriptions.push(i),e.subscriptions.push(hs.register(e,i,n,t))}function PC(){}
/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
